import{j as e}from"./index-Bgi_J57O.js";import{r as k}from"./vendor-react-B0FCftpX.js";import{S as E,I as P}from"./ImageViewer-DHancq9z.js";function S(s){return s.replace(/\D/g,"")}function M(s){const a=S(s);return a.startsWith("54")?"54"+a.slice(2):a.startsWith("0")?"54"+a.slice(1):(a.length===11,"54"+a)}const O=({pet:s,onAction:a,onViewDetails:c,onShare:b})=>{var n,f;const[g,h]=k.useState(!1),l=s.status==="lost",t="bg-red-400 text-white text-[10px] font-bold px-2 py-1 rounded-full uppercase tracking-wider shadow-lg",o="px-2.5 sm:px-3 py-1 rounded-full bg-white text-slate-800 text-[11px] sm:text-xs font-bold",d=!!((n=s.contactPhone)!=null&&n.trim()),u=!!((f=s.contactEmail)!=null&&f.trim()),m=d?M(s.contactPhone):"",p=`Hola, creo haber visto a ${s.name} publicada en Mascotas SJ.
La vi en ___________, aproximadamente el ___/___/____.
Si necesitan más información puedo ayudar.`,j=`Hola! Vi tu publicación sobre ${s.name} y me gustaría saber más detalles y cómo iniciar el proceso de adopción.`,r=m?`https://wa.me/${m}?text=${encodeURIComponent(l?p:j)}`:null;return u&&`${s.contactEmail.trim()}${encodeURIComponent(`Consulta sobre ${s.name}`)}${encodeURIComponent(`Hola! Vi tu publicación sobre ${s.name} y me gustaría obtener más información.`)}`,e.jsxs("div",{className:"group h-full bg-white dark:bg-white/5 rounded-2xl overflow-hidden shadow-sm border border-accent-teal/5 hover:shadow-xl transition-all duration-300 card-hover stagger-item flex flex-col",children:[e.jsxs("div",{className:"relative aspect-[4/3] sm:aspect-square overflow-hidden",children:[e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),e.jsxs("div",{className:"absolute top-3 left-3 flex gap-2",children:[s.urgency&&e.jsx("span",{className:t,children:"Urgente"}),s.timeLabel&&e.jsx("span",{className:o,children:s.timeLabel})]}),e.jsx("div",{className:"absolute bottom-3 right-3",children:e.jsx("button",{type:"button",onClick:N=>{N.stopPropagation(),h(!0)},className:"px-2.5 sm:px-3 py-1 rounded-full text-[11px] sm:text-xs font-bold hover:opacity-90 transition-opacity",style:{backgroundColor:"#203553",color:"#ecdbbd"},children:"Compartir"})})]}),e.jsxs("div",{className:"p-3 sm:p-5 flex flex-col flex-1",children:[e.jsx("div",{className:"flex justify-between items-start mb-1 sm:mb-2 cursor-pointer",onClick:()=>c==null?void 0:c(s),children:e.jsxs("div",{children:[e.jsx("h3",{className:`text-base sm:text-xl leading-tight font-bold transition-colors ${l?"group-hover:text-red-500":"group-hover:text-primary"}`,children:s.name}),e.jsx("p",{className:"text-[10px] sm:text-xs text-gray-600 font-semibold uppercase tracking-wide truncate max-w-[180px] sm:max-w-none",children:s.gender==="male"?"Macho":"Hembra"})]})}),e.jsx("div",{className:"flex items-start gap-2 mb-2 sm:mb-6",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-bold leading-snug",children:l?`Visto: ${s.location}`:s.location}),s.distance&&e.jsxs("p",{className:"text-[10px] sm:text-xs text-gray-500",children:[s.distance," de distancia"]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mt-auto",children:[e.jsx("button",{onClick:()=>a==null?void 0:a(s,"view"),className:`flex-1 text-white text-xs sm:text-sm font-bold py-2.5 sm:py-3 rounded-full flex items-center justify-center gap-2 transition-colors duration-200 ${l?"bg-red-400 hover:bg-red-500":"bg-accent-teal hover:bg-primary"}`,children:"Ver detalles"}),e.jsx("button",{onClick:()=>{r?window.open(r,"_blank"):a==null||a(s,"seen")},className:`flex-1 text-white text-xs sm:text-sm font-bold py-2.5 sm:py-3 rounded-full flex items-center justify-center gap-2 transition-colors duration-200 ${l?"bg-red-500 hover:bg-red-600":"bg-[#22c55e] hover:bg-[#16a34a]"}`,children:l?"La vi":"Adoptar"})]})]}),e.jsx(E,{isOpen:g,onClose:()=>h(!1),item:{id:s.id,image:s.image,name:s.name,location:s.location},type:"pet"})]})};function L(s){return s.replace(/\D/g,"")}function z(s){const a=L(s);return a.startsWith("54")?"54"+a.slice(2):a.startsWith("0")?"54"+a.slice(1):(a.length===11,"54"+a)}const U=({pet:s,isOpen:a,onClose:c,onAction:b,variant:g="modal"})=>{var v,w,y;const[h,l]=k.useState(!1);if(!a||!s)return null;const t=s.status==="lost",o=!!((v=s.contactPhone)!=null&&v.trim()),d=!!((w=s.contactEmail)!=null&&w.trim()),u=o||d||!!((y=s.contactName)!=null&&y.trim()),m=o?z(s.contactPhone):"",p=`Hola, creo haber visto a ${s.name} publicada en Mascotas SJ.
La vi en ___________, aproximadamente el ___/___/____.
Si necesitan más información puedo ayudar.`,j=`Hola! Vi tu publicación sobre ${s.name} y me gustaría saber más detalles y cómo iniciar el proceso de adopción.`,r=m?`https://wa.me/${m}?text=${encodeURIComponent(t?p:j)}`:null,n=d?`mailto:${s.contactEmail.trim()}?subject=${encodeURIComponent(`Consulta sobre ${s.name}`)}&body=${encodeURIComponent(`Hola! Vi tu publicación sobre ${s.name} y me gustaría obtener más información.`)}`:null,f={dog:"Perro",cat:"Gato",bird:"Ave",other:"Otro"}[s.species]||s.species,N={small:"Chico",medium:"Mediano",large:"Grande"}[s.size||""]||"",i=g==="fullscreen",_=i?"fixed inset-0 z-50 bg-white dark:bg-background-dark overflow-y-auto":"fixed inset-0 z-50 p-4 pb-24 bg-black/50 backdrop-blur-sm overflow-y-auto",C=i?"w-full min-h-screen bg-white dark:bg-background-dark":"bg-white dark:bg-background-dark rounded-3xl w-full shadow-2xl";return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:_,onClick:i?void 0:c,children:e.jsxs("div",{className:C,onClick:x=>x.stopPropagation(),children:[e.jsxs("div",{className:"relative h-56 sm:h-72 overflow-hidden bg-black cursor-zoom-in group",onClick:()=>l(!0),children:[e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-contain"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/10 backdrop-blur-[1px]",children:e.jsx("div",{className:"bg-black/30 p-4 rounded-full backdrop-blur-md border border-white/20 shadow-xl transform scale-75 group-hover:scale-100 transition-transform duration-200",children:e.jsx("span",{className:"material-symbols-outlined text-white text-3xl",children:"zoom_in"})})}),e.jsxs("button",{onClick:x=>{x.stopPropagation(),c()},className:`absolute top-4 ${i?"left-4":"right-4"} z-10 px-4 py-2 bg-white/90 hover:bg-white text-slate-900 rounded-full text-sm font-black transition-all shadow-lg flex items-center gap-2`,children:[i&&e.jsx("span",{className:"material-symbols-outlined text-lg",children:"arrow_back"}),i?"Volver":"Cerrar"]}),e.jsxs("div",{className:"absolute bottom-6 left-6 flex gap-3 pointer-events-none",children:[s.urgency&&e.jsx("span",{className:"bg-red-400 text-white text-xs font-black uppercase tracking-wider px-3 py-1 rounded-full shadow-lg",children:"Urgente"}),e.jsx("span",{className:`${t?"bg-red-400 text-white":"bg-primary text-black"} text-xs font-black uppercase tracking-wider px-3 py-1 rounded-full shadow-lg`,children:t?"Mascota perdida":"En adopción"}),s.timeLabel&&e.jsx("span",{className:"bg-black/60 backdrop-blur-md text-white text-xs font-black px-3 py-1 rounded-full shadow-lg",children:s.timeLabel})]})]}),e.jsxs("div",{className:"p-6 sm:p-8 max-w-4xl mx-auto pb-40 md:pb-32 lg:pb-28",children:[e.jsx("h2",{className:"text-2xl font-black mb-6",children:s.name}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.description&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-3",children:"Descripción:"}),e.jsx("p",{className:"text-black leading-relaxed",children:s.description})]}),s.status==="adoption"&&s.requirements&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-3",children:"Requisitos:"}),e.jsx("p",{className:"text-black leading-relaxed",children:s.requirements})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-3",children:t?"Visto por última vez:":"Ubicación:"}),e.jsx("p",{className:"text-black font-medium",children:s.location}),s.lastSeenLocation&&e.jsxs("p",{className:"text-sm text-black/80 mt-1",children:["Última ubicación: ",s.lastSeenLocation]}),s.lastSeenDate&&e.jsxs("p",{className:"text-sm text-black/80",children:["Fecha: ",new Date(s.lastSeenDate).toLocaleDateString("es-AR")]}),s.distance&&e.jsxs("p",{className:"text-sm text-black/80 mt-1",children:["A ",s.distance," de tu ubicación"]})]}),s.medStatus&&s.medStatus.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-3",children:"Estado:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.medStatus.map((x,$)=>e.jsx("span",{className:`${t?"bg-red-100 text-red-800":"bg-primary/10 text-primary-dark"} px-3 py-1 rounded-full text-sm font-bold`,children:x},$))})]}),(u||!t)&&e.jsxs("div",{className:`rounded-2xl p-6 ${t?"bg-red-50 dark:bg-red-900/10":"bg-accent-teal/5"}`,children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Información de Contacto"}),e.jsxs("div",{className:"space-y-3",children:[s.contactName&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"font-bold",children:"Contacto:"}),e.jsx("span",{className:"font-medium",children:s.contactName})]}),o&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"font-bold",children:"Número:"}),r?e.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:`font-medium text-black transition-colors ${t?"hover:text-red-500":"hover:text-primary"}`,children:s.contactPhone}):e.jsx("span",{className:"font-medium",children:s.contactPhone})]}),d&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"font-bold",children:"Email:"}),n?e.jsx("a",{href:n,className:`font-medium text-black transition-colors ${t?"hover:text-red-500":"hover:text-primary"}`,children:s.contactEmail}):e.jsx("span",{className:"font-medium",children:s.contactEmail})]}),!u&&!t&&e.jsx("p",{className:"text-sm text-black",children:"Contacto disponible en la publicación."})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>{r?window.open(r,"_blank"):b==null||b(s,t?"seen":"adopt")},className:`w-full font-bold py-4 rounded-2xl flex items-center justify-center gap-3 transition-all shadow-lg ${t?"bg-red-400 hover:bg-red-500 text-white":"bg-primary hover:bg-primary/90 text-background-dark"}`,children:t?"Vi la mascota":"Quiero Adoptar"}),r&&e.jsxs("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:`w-full font-bold py-4 rounded-2xl flex items-center justify-center gap-3 transition-all shadow-lg text-white ${t?"bg-red-500 hover:bg-red-600":"bg-green-500 hover:bg-green-600"}`,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:e.jsx("path",{d:"M12.04 2C6.58 2 2.13 6.45 2.13 11.9c0 1.92.5 3.8 1.45 5.45L2 22l4.82-1.56a9.83 9.83 0 0 0 5.22 1.5h.01c5.46 0 9.9-4.45 9.9-9.9C21.95 6.45 17.5 2 12.04 2zm5.73 14.16c-.24.67-1.18 1.29-1.97 1.46-.54.11-1.24.2-3.6-.78-3.02-1.25-4.97-4.32-5.12-4.52-.14-.2-1.23-1.64-1.23-3.14 0-1.5.78-2.24 1.06-2.54.28-.3.61-.38.81-.38h.58c.18 0 .43-.07.67.51.24.58.81 2 .88 2.15.07.15.12.32.02.52-.1.2-.15.32-.3.49-.15.17-.32.38-.46.51-.15.15-.31.31-.13.61.18.3.79 1.31 1.7 2.12 1.17 1.04 2.15 1.37 2.46 1.52.31.15.49.13.67-.08.18-.2.77-.9.98-1.21.2-.3.41-.25.68-.15.28.1 1.75.83 2.05.98.3.15.5.22.58.34.07.12.07.69-.17 1.36z"})}),"Contactar por WhatsApp"]}),n&&e.jsx("a",{href:n,className:`w-full py-4 rounded-2xl flex items-center justify-center gap-3 transition-all font-bold ${t?"bg-white dark:bg-white/5 border-2 border-red-400 hover:border-red-400 text-red-400 hover:bg-red-400/5":"bg-white dark:bg-white/5 border border-accent-teal/20 hover:border-primary text-primary hover:bg-primary/5"}`,children:"Enviar Email"})]}),e.jsxs("div",{className:`rounded-2xl p-6 border ${t?"bg-red-50 dark:bg-red-900/10 border-red-100 dark:border-red-900/20":"bg-white dark:bg-white/5 border-accent-teal/5"}`,children:[e.jsx("h4",{className:"font-bold mb-4",children:"Características"}),e.jsxs("div",{className:"space-y-3",children:[s.breed&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-black",children:"Raza:"}),e.jsx("span",{className:"text-sm font-bold",children:s.breed})]}),s.color&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-black",children:"Color:"}),e.jsx("span",{className:"text-sm font-bold",children:s.color})]}),t&&s.reward&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-black",children:"Recompensa:"}),e.jsx("span",{className:`text-sm font-bold ${t?"text-red-600":"text-green-600"}`,children:s.reward})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-black",children:"Especie:"}),e.jsx("span",{className:"text-sm font-bold",children:f})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-black",children:"Género:"}),e.jsx("span",{className:"text-sm font-bold",children:s.gender==="male"?"Macho":"Hembra"})]}),s.size&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-black",children:"Tamaño:"}),e.jsx("span",{className:"text-sm font-bold",children:N})]}),s.age&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-black",children:"Edad:"}),e.jsxs("span",{className:"text-sm font-bold",children:[s.age," años"]})]}),s.distinctiveFeatures&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-black",children:"Marcas:"}),e.jsx("span",{className:"text-sm font-bold",children:s.distinctiveFeatures})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-black",children:"Estado:"}),e.jsx("span",{className:"text-sm font-bold",children:t?"Perdida":"Adopción"})]})]})]})]})]})]})]})}),e.jsx(P,{isOpen:h,onClose:()=>l(!1),src:s.image,alt:s.name})]})};export{O as P,U as a};
