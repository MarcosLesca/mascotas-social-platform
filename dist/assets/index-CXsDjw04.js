(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function xw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nm={exports:{}},uu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fb;function MR(){if(fb)return uu;fb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var c in s)c!=="key"&&(a[c]=s[c])}else a=s;return s=a.ref,{$$typeof:t,type:i,key:l,ref:s!==void 0?s:null,props:a}}return uu.Fragment=e,uu.jsx=n,uu.jsxs=n,uu}var hb;function IR(){return hb||(hb=1,nm.exports=MR()),nm.exports}var x=IR(),im={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pb;function DR(){if(pb)return Ne;pb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function S(P){return P===null||typeof P!="object"?null:(P=b&&P[b]||P["@@iterator"],typeof P=="function"?P:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,C={};function A(P,W,se){this.props=P,this.context=W,this.refs=C,this.updater=se||E}A.prototype.isReactComponent={},A.prototype.setState=function(P,W){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,W,"setState")},A.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function N(){}N.prototype=A.prototype;function k(P,W,se){this.props=P,this.context=W,this.refs=C,this.updater=se||E}var M=k.prototype=new N;M.constructor=k,w(M,A.prototype),M.isPureReactComponent=!0;var U=Array.isArray;function z(){}var I={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function B(P,W,se){var oe=se.ref;return{$$typeof:t,type:P,key:W,ref:oe!==void 0?oe:null,props:se}}function J(P,W){return B(P.type,W,P.props)}function te(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function Z(P){var W={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(se){return W[se]})}var ie=/\/+/g;function de(P,W){return typeof P=="object"&&P!==null&&P.key!=null?Z(""+P.key):W.toString(36)}function be(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(z,z):(P.status="pending",P.then(function(W){P.status==="pending"&&(P.status="fulfilled",P.value=W)},function(W){P.status==="pending"&&(P.status="rejected",P.reason=W)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function V(P,W,se,oe,he){var _e=typeof P;(_e==="undefined"||_e==="boolean")&&(P=null);var xe=!1;if(P===null)xe=!0;else switch(_e){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(P.$$typeof){case t:case e:xe=!0;break;case m:return xe=P._init,V(xe(P._payload),W,se,oe,he)}}if(xe)return he=he(P),xe=oe===""?"."+de(P,0):oe,U(he)?(se="",xe!=null&&(se=xe.replace(ie,"$&/")+"/"),V(he,W,se,"",function(Yn){return Yn})):he!=null&&(te(he)&&(he=J(he,se+(he.key==null||P&&P.key===he.key?"":(""+he.key).replace(ie,"$&/")+"/")+xe)),W.push(he)),1;xe=0;var et=oe===""?".":oe+":";if(U(P))for(var Oe=0;Oe<P.length;Oe++)oe=P[Oe],_e=et+de(oe,Oe),xe+=V(oe,W,se,_e,he);else if(Oe=S(P),typeof Oe=="function")for(P=Oe.call(P),Oe=0;!(oe=P.next()).done;)oe=oe.value,_e=et+de(oe,Oe++),xe+=V(oe,W,se,_e,he);else if(_e==="object"){if(typeof P.then=="function")return V(be(P),W,se,oe,he);throw W=String(P),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return xe}function X(P,W,se){if(P==null)return P;var oe=[],he=0;return V(P,oe,"","",function(_e){return W.call(se,_e,he++)}),oe}function re(P){if(P._status===-1){var W=P._result;W=W(),W.then(function(se){(P._status===0||P._status===-1)&&(P._status=1,P._result=se)},function(se){(P._status===0||P._status===-1)&&(P._status=2,P._result=se)}),P._status===-1&&(P._status=0,P._result=W)}if(P._status===1)return P._result.default;throw P._result}var ve=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},G={map:X,forEach:function(P,W,se){X(P,function(){W.apply(this,arguments)},se)},count:function(P){var W=0;return X(P,function(){W++}),W},toArray:function(P){return X(P,function(W){return W})||[]},only:function(P){if(!te(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Ne.Activity=v,Ne.Children=G,Ne.Component=A,Ne.Fragment=n,Ne.Profiler=s,Ne.PureComponent=k,Ne.StrictMode=i,Ne.Suspense=f,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(P){return I.H.useMemoCache(P)}},Ne.cache=function(P){return function(){return P.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(P,W,se){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var oe=w({},P.props),he=P.key;if(W!=null)for(_e in W.key!==void 0&&(he=""+W.key),W)!q.call(W,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&W.ref===void 0||(oe[_e]=W[_e]);var _e=arguments.length-2;if(_e===1)oe.children=se;else if(1<_e){for(var xe=Array(_e),et=0;et<_e;et++)xe[et]=arguments[et+2];oe.children=xe}return B(P.type,he,oe)},Ne.createContext=function(P){return P={$$typeof:l,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:a,_context:P},P},Ne.createElement=function(P,W,se){var oe,he={},_e=null;if(W!=null)for(oe in W.key!==void 0&&(_e=""+W.key),W)q.call(W,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(he[oe]=W[oe]);var xe=arguments.length-2;if(xe===1)he.children=se;else if(1<xe){for(var et=Array(xe),Oe=0;Oe<xe;Oe++)et[Oe]=arguments[Oe+2];he.children=et}if(P&&P.defaultProps)for(oe in xe=P.defaultProps,xe)he[oe]===void 0&&(he[oe]=xe[oe]);return B(P,_e,he)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(P){return{$$typeof:c,render:P}},Ne.isValidElement=te,Ne.lazy=function(P){return{$$typeof:m,_payload:{_status:-1,_result:P},_init:re}},Ne.memo=function(P,W){return{$$typeof:h,type:P,compare:W===void 0?null:W}},Ne.startTransition=function(P){var W=I.T,se={};I.T=se;try{var oe=P(),he=I.S;he!==null&&he(se,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(z,ve)}catch(_e){ve(_e)}finally{W!==null&&se.types!==null&&(W.types=se.types),I.T=W}},Ne.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ne.use=function(P){return I.H.use(P)},Ne.useActionState=function(P,W,se){return I.H.useActionState(P,W,se)},Ne.useCallback=function(P,W){return I.H.useCallback(P,W)},Ne.useContext=function(P){return I.H.useContext(P)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(P,W){return I.H.useDeferredValue(P,W)},Ne.useEffect=function(P,W){return I.H.useEffect(P,W)},Ne.useEffectEvent=function(P){return I.H.useEffectEvent(P)},Ne.useId=function(){return I.H.useId()},Ne.useImperativeHandle=function(P,W,se){return I.H.useImperativeHandle(P,W,se)},Ne.useInsertionEffect=function(P,W){return I.H.useInsertionEffect(P,W)},Ne.useLayoutEffect=function(P,W){return I.H.useLayoutEffect(P,W)},Ne.useMemo=function(P,W){return I.H.useMemo(P,W)},Ne.useOptimistic=function(P,W){return I.H.useOptimistic(P,W)},Ne.useReducer=function(P,W,se){return I.H.useReducer(P,W,se)},Ne.useRef=function(P){return I.H.useRef(P)},Ne.useState=function(P){return I.H.useState(P)},Ne.useSyncExternalStore=function(P,W,se){return I.H.useSyncExternalStore(P,W,se)},Ne.useTransition=function(){return I.H.useTransition()},Ne.version="19.2.3",Ne}var mb;function Pg(){return mb||(mb=1,im.exports=DR()),im.exports}var O=Pg();const Sw=xw(O);var rm={exports:{}},cu={},sm={exports:{}},om={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gb;function PR(){return gb||(gb=1,(function(t){function e(V,X){var re=V.length;V.push(X);e:for(;0<re;){var ve=re-1>>>1,G=V[ve];if(0<s(G,X))V[ve]=X,V[re]=G,re=ve;else break e}}function n(V){return V.length===0?null:V[0]}function i(V){if(V.length===0)return null;var X=V[0],re=V.pop();if(re!==X){V[0]=re;e:for(var ve=0,G=V.length,P=G>>>1;ve<P;){var W=2*(ve+1)-1,se=V[W],oe=W+1,he=V[oe];if(0>s(se,re))oe<G&&0>s(he,se)?(V[ve]=he,V[oe]=re,ve=oe):(V[ve]=se,V[W]=re,ve=W);else if(oe<G&&0>s(he,re))V[ve]=he,V[oe]=re,ve=oe;else break e}}return X}function s(V,X){var re=V.sortIndex-X.sortIndex;return re!==0?re:V.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],h=[],m=1,v=null,b=3,S=!1,E=!1,w=!1,C=!1,A=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function M(V){for(var X=n(h);X!==null;){if(X.callback===null)i(h);else if(X.startTime<=V)i(h),X.sortIndex=X.expirationTime,e(f,X);else break;X=n(h)}}function U(V){if(w=!1,M(V),!E)if(n(f)!==null)E=!0,z||(z=!0,Z());else{var X=n(h);X!==null&&be(U,X.startTime-V)}}var z=!1,I=-1,q=5,B=-1;function J(){return C?!0:!(t.unstable_now()-B<q)}function te(){if(C=!1,z){var V=t.unstable_now();B=V;var X=!0;try{e:{E=!1,w&&(w=!1,N(I),I=-1),S=!0;var re=b;try{t:{for(M(V),v=n(f);v!==null&&!(v.expirationTime>V&&J());){var ve=v.callback;if(typeof ve=="function"){v.callback=null,b=v.priorityLevel;var G=ve(v.expirationTime<=V);if(V=t.unstable_now(),typeof G=="function"){v.callback=G,M(V),X=!0;break t}v===n(f)&&i(f),M(V)}else i(f);v=n(f)}if(v!==null)X=!0;else{var P=n(h);P!==null&&be(U,P.startTime-V),X=!1}}break e}finally{v=null,b=re,S=!1}X=void 0}}finally{X?Z():z=!1}}}var Z;if(typeof k=="function")Z=function(){k(te)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,de=ie.port2;ie.port1.onmessage=te,Z=function(){de.postMessage(null)}}else Z=function(){A(te,0)};function be(V,X){I=A(function(){V(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(V){switch(b){case 1:case 2:case 3:var X=3;break;default:X=b}var re=b;b=X;try{return V()}finally{b=re}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(V,X){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var re=b;b=V;try{return X()}finally{b=re}},t.unstable_scheduleCallback=function(V,X,re){var ve=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ve+re:ve):re=ve,V){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=re+G,V={id:m++,callback:X,priorityLevel:V,startTime:re,expirationTime:G,sortIndex:-1},re>ve?(V.sortIndex=re,e(h,V),n(f)===null&&V===n(h)&&(w?(N(I),I=-1):w=!0,be(U,re-ve))):(V.sortIndex=G,e(f,V),E||S||(E=!0,z||(z=!0,Z()))),V},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(V){var X=b;return function(){var re=b;b=X;try{return V.apply(this,arguments)}finally{b=re}}}})(om)),om}var yb;function UR(){return yb||(yb=1,sm.exports=PR()),sm.exports}var am={exports:{}},Rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vb;function OR(){if(vb)return Rn;vb=1;var t=Pg();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(f,h,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:f,containerInfo:h,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Rn.createPortal=function(f,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(f,h,null,m)},Rn.flushSync=function(f){var h=l.T,m=i.p;try{if(l.T=null,i.p=2,f)return f()}finally{l.T=h,i.p=m,i.d.f()}},Rn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(f,h))},Rn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Rn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var m=h.as,v=c(m,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,S=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?i.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:S}):m==="script"&&i.d.X(f,{crossOrigin:v,integrity:b,fetchPriority:S,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Rn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);i.d.M(f,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(f)},Rn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,v=c(m,h.crossOrigin);i.d.L(f,m,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Rn.preloadModule=function(f,h){if(typeof f=="string")if(h){var m=c(h.as,h.crossOrigin);i.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(f)},Rn.requestFormReset=function(f){i.d.r(f)},Rn.unstable_batchedUpdates=function(f,h){return f(h)},Rn.useFormState=function(f,h,m){return l.H.useFormState(f,h,m)},Rn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Rn.version="19.2.3",Rn}var _b;function LR(){if(_b)return am.exports;_b=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),am.exports=OR(),am.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bb;function qR(){if(bb)return cu;bb=1;var t=UR(),e=Pg(),n=LR();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,u=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(u=o.return),r=o.return;while(r)}return o.tag===3?u:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function c(r){if(r.tag===31){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function f(r){if(a(r)!==r)throw Error(i(188))}function h(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(i(188));return o!==r?null:r}for(var u=r,d=o;;){var y=u.return;if(y===null)break;var _=y.alternate;if(_===null){if(d=y.return,d!==null){u=d;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===u)return f(y),r;if(_===d)return f(y),o;_=_.sibling}throw Error(i(188))}if(u.return!==d.return)u=y,d=_;else{for(var T=!1,R=y.child;R;){if(R===u){T=!0,u=y,d=_;break}if(R===d){T=!0,d=y,u=_;break}R=R.sibling}if(!T){for(R=_.child;R;){if(R===u){T=!0,u=_,d=y;break}if(R===d){T=!0,d=_,u=y;break}R=R.sibling}if(!T)throw Error(i(189))}}if(u.alternate!==d)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?r:o}function m(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=m(r),o!==null)return o;r=r.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),k=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function Z(r){return r===null||typeof r!="object"?null:(r=te&&r[te]||r["@@iterator"],typeof r=="function"?r:null)}var ie=Symbol.for("react.client.reference");function de(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===ie?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case w:return"Fragment";case A:return"Profiler";case C:return"StrictMode";case U:return"Suspense";case z:return"SuspenseList";case B:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case E:return"Portal";case k:return r.displayName||"Context";case N:return(r._context.displayName||"Context")+".Consumer";case M:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case I:return o=r.displayName||null,o!==null?o:de(r.type)||"Memo";case q:o=r._payload,r=r._init;try{return de(r(o))}catch{}}return null}var be=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ve=[],G=-1;function P(r){return{current:r}}function W(r){0>G||(r.current=ve[G],ve[G]=null,G--)}function se(r,o){G++,ve[G]=r.current,r.current=o}var oe=P(null),he=P(null),_e=P(null),xe=P(null);function et(r,o){switch(se(_e,o),se(he,r),se(oe,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?U_(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=U_(o),r=O_(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}W(oe),se(oe,r)}function Oe(){W(oe),W(he),W(_e)}function Yn(r){r.memoizedState!==null&&se(xe,r);var o=oe.current,u=O_(o,r.type);o!==u&&(se(he,r),se(oe,u))}function jt(r){he.current===r&&(W(oe),W(he)),xe.current===r&&(W(xe),su._currentValue=re)}var nn,Fe;function rt(r){if(nn===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);nn=o&&o[1]||"",Fe=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nn+r+Fe}var un=!1;function mn(r,o){if(!r||un)return"";un=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Y){var j=Y}Reflect.construct(r,[],ne)}else{try{ne.call()}catch(Y){j=Y}r.call(ne.prototype)}}else{try{throw Error()}catch(Y){j=Y}(ne=r())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Y){if(Y&&j&&typeof Y.stack=="string")return[Y.stack,j.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=d.DetermineComponentFrameRoot(),T=_[0],R=_[1];if(T&&R){var D=T.split(`
`),$=R.split(`
`);for(y=d=0;d<D.length&&!D[d].includes("DetermineComponentFrameRoot");)d++;for(;y<$.length&&!$[y].includes("DetermineComponentFrameRoot");)y++;if(d===D.length||y===$.length)for(d=D.length-1,y=$.length-1;1<=d&&0<=y&&D[d]!==$[y];)y--;for(;1<=d&&0<=y;d--,y--)if(D[d]!==$[y]){if(d!==1||y!==1)do if(d--,y--,0>y||D[d]!==$[y]){var Q=`
`+D[d].replace(" at new "," at ");return r.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",r.displayName)),Q}while(1<=d&&0<=y);break}}}finally{un=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?rt(u):""}function K(r,o){switch(r.tag){case 26:case 27:case 5:return rt(r.type);case 16:return rt("Lazy");case 13:return r.child!==o&&o!==null?rt("Suspense Fallback"):rt("Suspense");case 19:return rt("SuspenseList");case 0:case 15:return mn(r.type,!1);case 11:return mn(r.type.render,!1);case 1:return mn(r.type,!0);case 31:return rt("Activity");default:return""}}function Tn(r){try{var o="",u=null;do o+=K(r,u),u=r,r=r.return;while(r);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var ui=Object.prototype.hasOwnProperty,Ii=t.unstable_scheduleCallback,ht=t.unstable_cancelCallback,ir=t.unstable_shouldYield,vr=t.unstable_requestPaint,Gt=t.unstable_now,Jt=t.unstable_getCurrentPriorityLevel,rr=t.unstable_ImmediatePriority,bt=t.unstable_UserBlockingPriority,En=t.unstable_NormalPriority,Kn=t.unstable_LowPriority,Di=t.unstable_IdlePriority,so=t.log,Pt=t.unstable_setDisableYieldValue,_r=null,Ct=null;function Un(r){if(typeof so=="function"&&Pt(r),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(_r,r)}catch{}}var Yt=Math.clz32?Math.clz32:De,br=Math.log,Lr=Math.LN2;function De(r){return r>>>=0,r===0?32:31-(br(r)/Lr|0)|0}var Pi=256,Cn=262144,An=4194304;function rn(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ui(r,o,u){var d=r.pendingLanes;if(d===0)return 0;var y=0,_=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var R=d&134217727;return R!==0?(d=R&~_,d!==0?y=rn(d):(T&=R,T!==0?y=rn(T):u||(u=R&~r,u!==0&&(y=rn(u))))):(R=d&~_,R!==0?y=rn(R):T!==0?y=rn(T):u||(u=d&~r,u!==0&&(y=rn(u)))),y===0?0:o!==0&&o!==y&&(o&_)===0&&(_=y&-y,u=o&-o,_>=u||_===32&&(u&4194048)!==0)?o:y}function Oi(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function sr(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gs(){var r=An;return An<<=1,(An&62914560)===0&&(An=4194304),r}function Ce(r){for(var o=[],u=0;31>u;u++)o.push(r);return o}function me(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Xe(r,o,u,d,y,_){var T=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var R=r.entanglements,D=r.expirationTimes,$=r.hiddenUpdates;for(u=T&~u;0<u;){var Q=31-Yt(u),ne=1<<Q;R[Q]=0,D[Q]=-1;var j=$[Q];if(j!==null)for($[Q]=null,Q=0;Q<j.length;Q++){var Y=j[Q];Y!==null&&(Y.lane&=-536870913)}u&=~ne}d!==0&&ae(r,d,0),_!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=_&~(T&~o))}function ae(r,o,u){r.pendingLanes|=o,r.suspendedLanes&=~o;var d=31-Yt(o);r.entangledLanes|=o,r.entanglements[d]=r.entanglements[d]|1073741824|u&261930}function Ae(r,o){var u=r.entangledLanes|=o;for(r=r.entanglements;u;){var d=31-Yt(u),y=1<<d;y&o|r[d]&o&&(r[d]|=o),u&=~y}}function ge(r,o){var u=o&-o;return u=(u&42)!==0?1:Ee(u),(u&(r.suspendedLanes|o))!==0?0:u}function Ee(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ut(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Le(){var r=X.p;return r!==0?r:(r=window.event,r===void 0?32:sb(r.type))}function xt(r,o){var u=X.p;try{return X.p=r,o()}finally{X.p=u}}var gt=Math.random().toString(36).slice(2),Ie="__reactFiber$"+gt,Pe="__reactProps$"+gt,Ke="__reactContainer$"+gt,On="__reactEvents$"+gt,yt="__reactListeners$"+gt,Ln="__reactHandles$"+gt,ci="__reactResources$"+gt,At="__reactMarker$"+gt;function zt(r){delete r[Ie],delete r[Pe],delete r[On],delete r[yt],delete r[Ln]}function Rt(r){var o=r[Ie];if(o)return o;for(var u=r.parentNode;u;){if(o=u[Ke]||u[Ie]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(r=V_(r);r!==null;){if(u=r[Ie])return u;r=V_(r)}return o}r=u,u=r.parentNode}return null}function Xn(r){if(r=r[Ie]||r[Ke]){var o=r.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return r}return null}function xr(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function Nt(r){var o=r[ci];return o||(o=r[ci]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function qe(r){r[At]=!0}var di=new Set,Qo={};function Sr(r,o){Li(r,o),Li(r+"Capture",o)}function Li(r,o){for(Qo[r]=o,r=0;r<o.length;r++)di.add(o[r])}var qi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ys={},oo={};function wr(r){return ui.call(oo,r)?!0:ui.call(ys,r)?!1:qi.test(r)?oo[r]=!0:(ys[r]=!0,!1)}function fc(r,o,u){if(wr(o))if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+u)}}function hc(r,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+u)}}function qr(r,o,u,d){if(d===null)r.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(o,u,""+d)}}function Bi(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ay(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function TC(r,o,u){var d=Object.getOwnPropertyDescriptor(r.constructor.prototype,o);if(!r.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,_=d.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return y.call(this)},set:function(T){u=""+T,_.call(this,T)}}),Object.defineProperty(r,o,{enumerable:d.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Kf(r){if(!r._valueTracker){var o=Ay(r)?"checked":"value";r._valueTracker=TC(r,o,""+r[o])}}function Ry(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return r&&(d=Ay(r)?r.checked?"true":"false":r.value),r=d,r!==u?(o.setValue(r),!0):!1}function pc(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var EC=/[\n"\\]/g;function Gi(r){return r.replace(EC,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Xf(r,o,u,d,y,_,T,R){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),o!=null?T==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+Bi(o)):r.value!==""+Bi(o)&&(r.value=""+Bi(o)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),o!=null?Wf(r,T,Bi(o)):u!=null?Wf(r,T,Bi(u)):d!=null&&r.removeAttribute("value"),y==null&&_!=null&&(r.defaultChecked=!!_),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.name=""+Bi(R):r.removeAttribute("name")}function Ny(r,o,u,d,y,_,T,R){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(r.type=_),o!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||o!=null)){Kf(r);return}u=u!=null?""+Bi(u):"",o=o!=null?""+Bi(o):u,R||o===r.value||(r.value=o),r.defaultValue=o}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=R?r.checked:!!d,r.defaultChecked=!!d,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T),Kf(r)}function Wf(r,o,u){o==="number"&&pc(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function Zo(r,o,u,d){if(r=r.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<r.length;u++)y=o.hasOwnProperty("$"+r[u].value),r[u].selected!==y&&(r[u].selected=y),y&&d&&(r[u].defaultSelected=!0)}else{for(u=""+Bi(u),o=null,y=0;y<r.length;y++){if(r[y].value===u){r[y].selected=!0,d&&(r[y].defaultSelected=!0);return}o!==null||r[y].disabled||(o=r[y])}o!==null&&(o.selected=!0)}}function ky(r,o,u){if(o!=null&&(o=""+Bi(o),o!==r.value&&(r.value=o),u==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=u!=null?""+Bi(u):""}function My(r,o,u,d){if(o==null){if(d!=null){if(u!=null)throw Error(i(92));if(be(d)){if(1<d.length)throw Error(i(93));d=d[0]}u=d}u==null&&(u=""),o=u}u=Bi(o),r.defaultValue=u,d=r.textContent,d===u&&d!==""&&d!==null&&(r.value=d),Kf(r)}function ea(r,o){if(o){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=o;return}}r.textContent=o}var CC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Iy(r,o,u){var d=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":d?r.setProperty(o,u):typeof u!="number"||u===0||CC.has(o)?o==="float"?r.cssFloat=u:r[o]=(""+u).trim():r[o]=u+"px"}function Dy(r,o,u){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var y in o)d=o[y],o.hasOwnProperty(y)&&u[y]!==d&&Iy(r,y,d)}else for(var _ in o)o.hasOwnProperty(_)&&Iy(r,_,o[_])}function Qf(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),RC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mc(r){return RC.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Br(){}var Zf=null;function eh(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ta=null,na=null;function Py(r){var o=Xn(r);if(o&&(r=o.stateNode)){var u=r[Pe]||null;e:switch(r=o.stateNode,o.type){case"input":if(Xf(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Gi(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==r&&d.form===r.form){var y=d[Pe]||null;if(!y)throw Error(i(90));Xf(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)d=u[o],d.form===r.form&&Ry(d)}break e;case"textarea":ky(r,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Zo(r,!!u.multiple,o,!1)}}}var th=!1;function Uy(r,o,u){if(th)return r(o,u);th=!0;try{var d=r(o);return d}finally{if(th=!1,(ta!==null||na!==null)&&(nd(),ta&&(o=ta,r=na,na=ta=null,Py(o),r)))for(o=0;o<r.length;o++)Py(r[o])}}function Sl(r,o){var u=r.stateNode;if(u===null)return null;var d=u[Pe]||null;if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(i(231,o,typeof u));return u}var Gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nh=!1;if(Gr)try{var wl={};Object.defineProperty(wl,"passive",{get:function(){nh=!0}}),window.addEventListener("test",wl,wl),window.removeEventListener("test",wl,wl)}catch{nh=!1}var vs=null,ih=null,gc=null;function Oy(){if(gc)return gc;var r,o=ih,u=o.length,d,y="value"in vs?vs.value:vs.textContent,_=y.length;for(r=0;r<u&&o[r]===y[r];r++);var T=u-r;for(d=1;d<=T&&o[u-d]===y[_-d];d++);return gc=y.slice(r,1<d?1-d:void 0)}function yc(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function vc(){return!0}function Ly(){return!1}function Wn(r){function o(u,d,y,_,T){this._reactName=u,this._targetInst=y,this.type=d,this.nativeEvent=_,this.target=T,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(u=r[R],this[R]=u?u(_):_[R]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?vc:Ly,this.isPropagationStopped=Ly,this}return v(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=vc)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=vc)},persist:function(){},isPersistent:vc}),o}var ao={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_c=Wn(ao),Tl=v({},ao,{view:0,detail:0}),NC=Wn(Tl),rh,sh,El,bc=v({},Tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ah,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==El&&(El&&r.type==="mousemove"?(rh=r.screenX-El.screenX,sh=r.screenY-El.screenY):sh=rh=0,El=r),rh)},movementY:function(r){return"movementY"in r?r.movementY:sh}}),qy=Wn(bc),kC=v({},bc,{dataTransfer:0}),MC=Wn(kC),IC=v({},Tl,{relatedTarget:0}),oh=Wn(IC),DC=v({},ao,{animationName:0,elapsedTime:0,pseudoElement:0}),PC=Wn(DC),UC=v({},ao,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),OC=Wn(UC),LC=v({},ao,{data:0}),By=Wn(LC),qC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zC(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=GC[r])?!!o[r]:!1}function ah(){return zC}var HC=v({},Tl,{key:function(r){if(r.key){var o=qC[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=yc(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?BC[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ah,charCode:function(r){return r.type==="keypress"?yc(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?yc(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),VC=Wn(HC),FC=v({},bc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gy=Wn(FC),$C=v({},Tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ah}),jC=Wn($C),JC=v({},ao,{propertyName:0,elapsedTime:0,pseudoElement:0}),YC=Wn(JC),KC=v({},bc,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),XC=Wn(KC),WC=v({},ao,{newState:0,oldState:0}),QC=Wn(WC),ZC=[9,13,27,32],lh=Gr&&"CompositionEvent"in window,Cl=null;Gr&&"documentMode"in document&&(Cl=document.documentMode);var eA=Gr&&"TextEvent"in window&&!Cl,zy=Gr&&(!lh||Cl&&8<Cl&&11>=Cl),Hy=" ",Vy=!1;function Fy(r,o){switch(r){case"keyup":return ZC.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $y(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ia=!1;function tA(r,o){switch(r){case"compositionend":return $y(o);case"keypress":return o.which!==32?null:(Vy=!0,Hy);case"textInput":return r=o.data,r===Hy&&Vy?null:r;default:return null}}function nA(r,o){if(ia)return r==="compositionend"||!lh&&Fy(r,o)?(r=Oy(),gc=ih=vs=null,ia=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return zy&&o.locale!=="ko"?null:o.data;default:return null}}var iA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jy(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!iA[r.type]:o==="textarea"}function Jy(r,o,u,d){ta?na?na.push(d):na=[d]:ta=d,o=ud(o,"onChange"),0<o.length&&(u=new _c("onChange","change",null,u,d),r.push({event:u,listeners:o}))}var Al=null,Rl=null;function rA(r){N_(r,0)}function xc(r){var o=xr(r);if(Ry(o))return r}function Yy(r,o){if(r==="change")return o}var Ky=!1;if(Gr){var uh;if(Gr){var ch="oninput"in document;if(!ch){var Xy=document.createElement("div");Xy.setAttribute("oninput","return;"),ch=typeof Xy.oninput=="function"}uh=ch}else uh=!1;Ky=uh&&(!document.documentMode||9<document.documentMode)}function Wy(){Al&&(Al.detachEvent("onpropertychange",Qy),Rl=Al=null)}function Qy(r){if(r.propertyName==="value"&&xc(Rl)){var o=[];Jy(o,Rl,r,eh(r)),Uy(rA,o)}}function sA(r,o,u){r==="focusin"?(Wy(),Al=o,Rl=u,Al.attachEvent("onpropertychange",Qy)):r==="focusout"&&Wy()}function oA(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return xc(Rl)}function aA(r,o){if(r==="click")return xc(o)}function lA(r,o){if(r==="input"||r==="change")return xc(o)}function uA(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var fi=typeof Object.is=="function"?Object.is:uA;function Nl(r,o){if(fi(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var u=Object.keys(r),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var y=u[d];if(!ui.call(o,y)||!fi(r[y],o[y]))return!1}return!0}function Zy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ev(r,o){var u=Zy(r);r=0;for(var d;u;){if(u.nodeType===3){if(d=r+u.textContent.length,r<=o&&d>=o)return{node:u,offset:o-r};r=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Zy(u)}}function tv(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?tv(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function nv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=pc(r.document);o instanceof r.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)r=o.contentWindow;else break;o=pc(r.document)}return o}function dh(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var cA=Gr&&"documentMode"in document&&11>=document.documentMode,ra=null,fh=null,kl=null,hh=!1;function iv(r,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;hh||ra==null||ra!==pc(d)||(d=ra,"selectionStart"in d&&dh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),kl&&Nl(kl,d)||(kl=d,d=ud(fh,"onSelect"),0<d.length&&(o=new _c("onSelect","select",null,o,u),r.push({event:o,listeners:d}),o.target=ra)))}function lo(r,o){var u={};return u[r.toLowerCase()]=o.toLowerCase(),u["Webkit"+r]="webkit"+o,u["Moz"+r]="moz"+o,u}var sa={animationend:lo("Animation","AnimationEnd"),animationiteration:lo("Animation","AnimationIteration"),animationstart:lo("Animation","AnimationStart"),transitionrun:lo("Transition","TransitionRun"),transitionstart:lo("Transition","TransitionStart"),transitioncancel:lo("Transition","TransitionCancel"),transitionend:lo("Transition","TransitionEnd")},ph={},rv={};Gr&&(rv=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function uo(r){if(ph[r])return ph[r];if(!sa[r])return r;var o=sa[r],u;for(u in o)if(o.hasOwnProperty(u)&&u in rv)return ph[r]=o[u];return r}var sv=uo("animationend"),ov=uo("animationiteration"),av=uo("animationstart"),dA=uo("transitionrun"),fA=uo("transitionstart"),hA=uo("transitioncancel"),lv=uo("transitionend"),uv=new Map,mh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mh.push("scrollEnd");function or(r,o){uv.set(r,o),Sr(o,[r])}var Sc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},zi=[],oa=0,gh=0;function wc(){for(var r=oa,o=gh=oa=0;o<r;){var u=zi[o];zi[o++]=null;var d=zi[o];zi[o++]=null;var y=zi[o];zi[o++]=null;var _=zi[o];if(zi[o++]=null,d!==null&&y!==null){var T=d.pending;T===null?y.next=y:(y.next=T.next,T.next=y),d.pending=y}_!==0&&cv(u,y,_)}}function Tc(r,o,u,d){zi[oa++]=r,zi[oa++]=o,zi[oa++]=u,zi[oa++]=d,gh|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function yh(r,o,u,d){return Tc(r,o,u,d),Ec(r)}function co(r,o){return Tc(r,null,null,o),Ec(r)}function cv(r,o,u){r.lanes|=u;var d=r.alternate;d!==null&&(d.lanes|=u);for(var y=!1,_=r.return;_!==null;)_.childLanes|=u,d=_.alternate,d!==null&&(d.childLanes|=u),_.tag===22&&(r=_.stateNode,r===null||r._visibility&1||(y=!0)),r=_,_=_.return;return r.tag===3?(_=r.stateNode,y&&o!==null&&(y=31-Yt(u),r=_.hiddenUpdates,d=r[y],d===null?r[y]=[o]:d.push(o),o.lane=u|536870912),_):null}function Ec(r){if(50<Ql)throw Ql=0,Cp=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var aa={};function pA(r,o,u,d){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hi(r,o,u,d){return new pA(r,o,u,d)}function vh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function zr(r,o){var u=r.alternate;return u===null?(u=hi(r.tag,o,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=o,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,o=r.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function dv(r,o){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,o=u.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Cc(r,o,u,d,y,_){var T=0;if(d=r,typeof r=="function")vh(r)&&(T=1);else if(typeof r=="string")T=_R(r,u,oe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case B:return r=hi(31,u,o,y),r.elementType=B,r.lanes=_,r;case w:return fo(u.children,y,_,o);case C:T=8,y|=24;break;case A:return r=hi(12,u,o,y|2),r.elementType=A,r.lanes=_,r;case U:return r=hi(13,u,o,y),r.elementType=U,r.lanes=_,r;case z:return r=hi(19,u,o,y),r.elementType=z,r.lanes=_,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:T=10;break e;case N:T=9;break e;case M:T=11;break e;case I:T=14;break e;case q:T=16,d=null;break e}T=29,u=Error(i(130,r===null?"null":typeof r,"")),d=null}return o=hi(T,u,o,y),o.elementType=r,o.type=d,o.lanes=_,o}function fo(r,o,u,d){return r=hi(7,r,d,o),r.lanes=u,r}function _h(r,o,u){return r=hi(6,r,null,o),r.lanes=u,r}function fv(r){var o=hi(18,null,null,0);return o.stateNode=r,o}function bh(r,o,u){return o=hi(4,r.children!==null?r.children:[],r.key,o),o.lanes=u,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var hv=new WeakMap;function Hi(r,o){if(typeof r=="object"&&r!==null){var u=hv.get(r);return u!==void 0?u:(o={value:r,source:o,stack:Tn(o)},hv.set(r,o),o)}return{value:r,source:o,stack:Tn(o)}}var la=[],ua=0,Ac=null,Ml=0,Vi=[],Fi=0,_s=null,Tr=1,Er="";function Hr(r,o){la[ua++]=Ml,la[ua++]=Ac,Ac=r,Ml=o}function pv(r,o,u){Vi[Fi++]=Tr,Vi[Fi++]=Er,Vi[Fi++]=_s,_s=r;var d=Tr;r=Er;var y=32-Yt(d)-1;d&=~(1<<y),u+=1;var _=32-Yt(o)+y;if(30<_){var T=y-y%5;_=(d&(1<<T)-1).toString(32),d>>=T,y-=T,Tr=1<<32-Yt(o)+y|u<<y|d,Er=_+r}else Tr=1<<_|u<<y|d,Er=r}function xh(r){r.return!==null&&(Hr(r,1),pv(r,1,0))}function Sh(r){for(;r===Ac;)Ac=la[--ua],la[ua]=null,Ml=la[--ua],la[ua]=null;for(;r===_s;)_s=Vi[--Fi],Vi[Fi]=null,Er=Vi[--Fi],Vi[Fi]=null,Tr=Vi[--Fi],Vi[Fi]=null}function mv(r,o){Vi[Fi++]=Tr,Vi[Fi++]=Er,Vi[Fi++]=_s,Tr=o.id,Er=o.overflow,_s=r}var gn=null,vt=null,Je=!1,bs=null,$i=!1,wh=Error(i(519));function xs(r){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Il(Hi(o,r)),wh}function gv(r){var o=r.stateNode,u=r.type,d=r.memoizedProps;switch(o[Ie]=r,o[Pe]=d,u){case"dialog":He("cancel",o),He("close",o);break;case"iframe":case"object":case"embed":He("load",o);break;case"video":case"audio":for(u=0;u<eu.length;u++)He(eu[u],o);break;case"source":He("error",o);break;case"img":case"image":case"link":He("error",o),He("load",o);break;case"details":He("toggle",o);break;case"input":He("invalid",o),Ny(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":He("invalid",o);break;case"textarea":He("invalid",o),My(o,d.value,d.defaultValue,d.children)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||d.suppressHydrationWarning===!0||D_(o.textContent,u)?(d.popover!=null&&(He("beforetoggle",o),He("toggle",o)),d.onScroll!=null&&He("scroll",o),d.onScrollEnd!=null&&He("scrollend",o),d.onClick!=null&&(o.onclick=Br),o=!0):o=!1,o||xs(r,!0)}function yv(r){for(gn=r.return;gn;)switch(gn.tag){case 5:case 31:case 13:$i=!1;return;case 27:case 3:$i=!0;return;default:gn=gn.return}}function ca(r){if(r!==gn)return!1;if(!Je)return yv(r),Je=!0,!1;var o=r.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||zp(r.type,r.memoizedProps)),u=!u),u&&vt&&xs(r),yv(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));vt=H_(r)}else if(o===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));vt=H_(r)}else o===27?(o=vt,Us(r.type)?(r=jp,jp=null,vt=r):vt=o):vt=gn?Ji(r.stateNode.nextSibling):null;return!0}function ho(){vt=gn=null,Je=!1}function Th(){var r=bs;return r!==null&&(ti===null?ti=r:ti.push.apply(ti,r),bs=null),r}function Il(r){bs===null?bs=[r]:bs.push(r)}var Eh=P(null),po=null,Vr=null;function Ss(r,o,u){se(Eh,o._currentValue),o._currentValue=u}function Fr(r){r._currentValue=Eh.current,W(Eh)}function Ch(r,o,u){for(;r!==null;){var d=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),r===u)break;r=r.return}}function Ah(r,o,u,d){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var _=y.dependencies;if(_!==null){var T=y.child;_=_.firstContext;e:for(;_!==null;){var R=_;_=y;for(var D=0;D<o.length;D++)if(R.context===o[D]){_.lanes|=u,R=_.alternate,R!==null&&(R.lanes|=u),Ch(_.return,u,r),d||(T=null);break e}_=R.next}}else if(y.tag===18){if(T=y.return,T===null)throw Error(i(341));T.lanes|=u,_=T.alternate,_!==null&&(_.lanes|=u),Ch(T,u,r),T=null}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===r){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}}function da(r,o,u,d){r=null;for(var y=o,_=!1;y!==null;){if(!_){if((y.flags&524288)!==0)_=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var T=y.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var R=y.type;fi(y.pendingProps.value,T.value)||(r!==null?r.push(R):r=[R])}}else if(y===xe.current){if(T=y.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(su):r=[su])}y=y.return}r!==null&&Ah(o,r,u,d),o.flags|=262144}function Rc(r){for(r=r.firstContext;r!==null;){if(!fi(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function mo(r){po=r,Vr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function yn(r){return vv(po,r)}function Nc(r,o){return po===null&&mo(r),vv(r,o)}function vv(r,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Vr===null){if(r===null)throw Error(i(308));Vr=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Vr=Vr.next=o;return u}var mA=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(u,d){r.push(d)}};this.abort=function(){o.aborted=!0,r.forEach(function(u){return u()})}},gA=t.unstable_scheduleCallback,yA=t.unstable_NormalPriority,Kt={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rh(){return{controller:new mA,data:new Map,refCount:0}}function Dl(r){r.refCount--,r.refCount===0&&gA(yA,function(){r.controller.abort()})}var Pl=null,Nh=0,fa=0,ha=null;function vA(r,o){if(Pl===null){var u=Pl=[];Nh=0,fa=Ip(),ha={status:"pending",value:void 0,then:function(d){u.push(d)}}}return Nh++,o.then(_v,_v),o}function _v(){if(--Nh===0&&Pl!==null){ha!==null&&(ha.status="fulfilled");var r=Pl;Pl=null,fa=0,ha=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function _A(r,o){var u=[],d={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return r.then(function(){d.status="fulfilled",d.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(d.status="rejected",d.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),d}var bv=V.S;V.S=function(r,o){i_=Gt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&vA(r,o),bv!==null&&bv(r,o)};var go=P(null);function kh(){var r=go.current;return r!==null?r:ct.pooledCache}function kc(r,o){o===null?se(go,go.current):se(go,o.pool)}function xv(){var r=kh();return r===null?null:{parent:Kt._currentValue,pool:r}}var pa=Error(i(460)),Mh=Error(i(474)),Mc=Error(i(542)),Ic={then:function(){}};function Sv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function wv(r,o,u){switch(u=r[u],u===void 0?r.push(o):u!==o&&(o.then(Br,Br),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Ev(r),r;default:if(typeof o.status=="string")o.then(Br,Br);else{if(r=ct,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(d){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=d}},function(d){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Ev(r),r}throw vo=o,pa}}function yo(r){try{var o=r._init;return o(r._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(vo=u,pa):u}}var vo=null;function Tv(){if(vo===null)throw Error(i(459));var r=vo;return vo=null,r}function Ev(r){if(r===pa||r===Mc)throw Error(i(483))}var ma=null,Ul=0;function Dc(r){var o=Ul;return Ul+=1,ma===null&&(ma=[]),wv(ma,r,o)}function Ol(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function Pc(r,o){throw o.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function Cv(r){function o(H,L){if(r){var F=H.deletions;F===null?(H.deletions=[L],H.flags|=16):F.push(L)}}function u(H,L){if(!r)return null;for(;L!==null;)o(H,L),L=L.sibling;return null}function d(H){for(var L=new Map;H!==null;)H.key!==null?L.set(H.key,H):L.set(H.index,H),H=H.sibling;return L}function y(H,L){return H=zr(H,L),H.index=0,H.sibling=null,H}function _(H,L,F){return H.index=F,r?(F=H.alternate,F!==null?(F=F.index,F<L?(H.flags|=67108866,L):F):(H.flags|=67108866,L)):(H.flags|=1048576,L)}function T(H){return r&&H.alternate===null&&(H.flags|=67108866),H}function R(H,L,F,ee){return L===null||L.tag!==6?(L=_h(F,H.mode,ee),L.return=H,L):(L=y(L,F),L.return=H,L)}function D(H,L,F,ee){var ye=F.type;return ye===w?Q(H,L,F.props.children,ee,F.key):L!==null&&(L.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===q&&yo(ye)===L.type)?(L=y(L,F.props),Ol(L,F),L.return=H,L):(L=Cc(F.type,F.key,F.props,null,H.mode,ee),Ol(L,F),L.return=H,L)}function $(H,L,F,ee){return L===null||L.tag!==4||L.stateNode.containerInfo!==F.containerInfo||L.stateNode.implementation!==F.implementation?(L=bh(F,H.mode,ee),L.return=H,L):(L=y(L,F.children||[]),L.return=H,L)}function Q(H,L,F,ee,ye){return L===null||L.tag!==7?(L=fo(F,H.mode,ee,ye),L.return=H,L):(L=y(L,F),L.return=H,L)}function ne(H,L,F){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=_h(""+L,H.mode,F),L.return=H,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case S:return F=Cc(L.type,L.key,L.props,null,H.mode,F),Ol(F,L),F.return=H,F;case E:return L=bh(L,H.mode,F),L.return=H,L;case q:return L=yo(L),ne(H,L,F)}if(be(L)||Z(L))return L=fo(L,H.mode,F,null),L.return=H,L;if(typeof L.then=="function")return ne(H,Dc(L),F);if(L.$$typeof===k)return ne(H,Nc(H,L),F);Pc(H,L)}return null}function j(H,L,F,ee){var ye=L!==null?L.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return ye!==null?null:R(H,L,""+F,ee);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case S:return F.key===ye?D(H,L,F,ee):null;case E:return F.key===ye?$(H,L,F,ee):null;case q:return F=yo(F),j(H,L,F,ee)}if(be(F)||Z(F))return ye!==null?null:Q(H,L,F,ee,null);if(typeof F.then=="function")return j(H,L,Dc(F),ee);if(F.$$typeof===k)return j(H,L,Nc(H,F),ee);Pc(H,F)}return null}function Y(H,L,F,ee,ye){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return H=H.get(F)||null,R(L,H,""+ee,ye);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case S:return H=H.get(ee.key===null?F:ee.key)||null,D(L,H,ee,ye);case E:return H=H.get(ee.key===null?F:ee.key)||null,$(L,H,ee,ye);case q:return ee=yo(ee),Y(H,L,F,ee,ye)}if(be(ee)||Z(ee))return H=H.get(F)||null,Q(L,H,ee,ye,null);if(typeof ee.then=="function")return Y(H,L,F,Dc(ee),ye);if(ee.$$typeof===k)return Y(H,L,F,Nc(L,ee),ye);Pc(L,ee)}return null}function ue(H,L,F,ee){for(var ye=null,We=null,fe=L,Me=L=0,je=null;fe!==null&&Me<F.length;Me++){fe.index>Me?(je=fe,fe=null):je=fe.sibling;var Qe=j(H,fe,F[Me],ee);if(Qe===null){fe===null&&(fe=je);break}r&&fe&&Qe.alternate===null&&o(H,fe),L=_(Qe,L,Me),We===null?ye=Qe:We.sibling=Qe,We=Qe,fe=je}if(Me===F.length)return u(H,fe),Je&&Hr(H,Me),ye;if(fe===null){for(;Me<F.length;Me++)fe=ne(H,F[Me],ee),fe!==null&&(L=_(fe,L,Me),We===null?ye=fe:We.sibling=fe,We=fe);return Je&&Hr(H,Me),ye}for(fe=d(fe);Me<F.length;Me++)je=Y(fe,H,Me,F[Me],ee),je!==null&&(r&&je.alternate!==null&&fe.delete(je.key===null?Me:je.key),L=_(je,L,Me),We===null?ye=je:We.sibling=je,We=je);return r&&fe.forEach(function(Gs){return o(H,Gs)}),Je&&Hr(H,Me),ye}function Se(H,L,F,ee){if(F==null)throw Error(i(151));for(var ye=null,We=null,fe=L,Me=L=0,je=null,Qe=F.next();fe!==null&&!Qe.done;Me++,Qe=F.next()){fe.index>Me?(je=fe,fe=null):je=fe.sibling;var Gs=j(H,fe,Qe.value,ee);if(Gs===null){fe===null&&(fe=je);break}r&&fe&&Gs.alternate===null&&o(H,fe),L=_(Gs,L,Me),We===null?ye=Gs:We.sibling=Gs,We=Gs,fe=je}if(Qe.done)return u(H,fe),Je&&Hr(H,Me),ye;if(fe===null){for(;!Qe.done;Me++,Qe=F.next())Qe=ne(H,Qe.value,ee),Qe!==null&&(L=_(Qe,L,Me),We===null?ye=Qe:We.sibling=Qe,We=Qe);return Je&&Hr(H,Me),ye}for(fe=d(fe);!Qe.done;Me++,Qe=F.next())Qe=Y(fe,H,Me,Qe.value,ee),Qe!==null&&(r&&Qe.alternate!==null&&fe.delete(Qe.key===null?Me:Qe.key),L=_(Qe,L,Me),We===null?ye=Qe:We.sibling=Qe,We=Qe);return r&&fe.forEach(function(kR){return o(H,kR)}),Je&&Hr(H,Me),ye}function ut(H,L,F,ee){if(typeof F=="object"&&F!==null&&F.type===w&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case S:e:{for(var ye=F.key;L!==null;){if(L.key===ye){if(ye=F.type,ye===w){if(L.tag===7){u(H,L.sibling),ee=y(L,F.props.children),ee.return=H,H=ee;break e}}else if(L.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===q&&yo(ye)===L.type){u(H,L.sibling),ee=y(L,F.props),Ol(ee,F),ee.return=H,H=ee;break e}u(H,L);break}else o(H,L);L=L.sibling}F.type===w?(ee=fo(F.props.children,H.mode,ee,F.key),ee.return=H,H=ee):(ee=Cc(F.type,F.key,F.props,null,H.mode,ee),Ol(ee,F),ee.return=H,H=ee)}return T(H);case E:e:{for(ye=F.key;L!==null;){if(L.key===ye)if(L.tag===4&&L.stateNode.containerInfo===F.containerInfo&&L.stateNode.implementation===F.implementation){u(H,L.sibling),ee=y(L,F.children||[]),ee.return=H,H=ee;break e}else{u(H,L);break}else o(H,L);L=L.sibling}ee=bh(F,H.mode,ee),ee.return=H,H=ee}return T(H);case q:return F=yo(F),ut(H,L,F,ee)}if(be(F))return ue(H,L,F,ee);if(Z(F)){if(ye=Z(F),typeof ye!="function")throw Error(i(150));return F=ye.call(F),Se(H,L,F,ee)}if(typeof F.then=="function")return ut(H,L,Dc(F),ee);if(F.$$typeof===k)return ut(H,L,Nc(H,F),ee);Pc(H,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,L!==null&&L.tag===6?(u(H,L.sibling),ee=y(L,F),ee.return=H,H=ee):(u(H,L),ee=_h(F,H.mode,ee),ee.return=H,H=ee),T(H)):u(H,L)}return function(H,L,F,ee){try{Ul=0;var ye=ut(H,L,F,ee);return ma=null,ye}catch(fe){if(fe===pa||fe===Mc)throw fe;var We=hi(29,fe,null,H.mode);return We.lanes=ee,We.return=H,We}finally{}}}var _o=Cv(!0),Av=Cv(!1),ws=!1;function Ih(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dh(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ts(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Es(r,o,u){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(tt&2)!==0){var y=d.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),d.pending=o,o=Ec(r),cv(r,null,u),o}return Tc(r,d,o,u),Ec(r)}function Ll(r,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var d=o.lanes;d&=r.pendingLanes,u|=d,o.lanes=u,Ae(r,u)}}function Ph(r,o){var u=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var y=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var T={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?y=_=T:_=_.next=T,u=u.next}while(u!==null);_===null?y=_=o:_=_.next=o}else y=_=o;u={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:d.shared,callbacks:d.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=o:r.next=o,u.lastBaseUpdate=o}var Uh=!1;function ql(){if(Uh){var r=ha;if(r!==null)throw r}}function Bl(r,o,u,d){Uh=!1;var y=r.updateQueue;ws=!1;var _=y.firstBaseUpdate,T=y.lastBaseUpdate,R=y.shared.pending;if(R!==null){y.shared.pending=null;var D=R,$=D.next;D.next=null,T===null?_=$:T.next=$,T=D;var Q=r.alternate;Q!==null&&(Q=Q.updateQueue,R=Q.lastBaseUpdate,R!==T&&(R===null?Q.firstBaseUpdate=$:R.next=$,Q.lastBaseUpdate=D))}if(_!==null){var ne=y.baseState;T=0,Q=$=D=null,R=_;do{var j=R.lane&-536870913,Y=j!==R.lane;if(Y?($e&j)===j:(d&j)===j){j!==0&&j===fa&&(Uh=!0),Q!==null&&(Q=Q.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var ue=r,Se=R;j=o;var ut=u;switch(Se.tag){case 1:if(ue=Se.payload,typeof ue=="function"){ne=ue.call(ut,ne,j);break e}ne=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=Se.payload,j=typeof ue=="function"?ue.call(ut,ne,j):ue,j==null)break e;ne=v({},ne,j);break e;case 2:ws=!0}}j=R.callback,j!==null&&(r.flags|=64,Y&&(r.flags|=8192),Y=y.callbacks,Y===null?y.callbacks=[j]:Y.push(j))}else Y={lane:j,tag:R.tag,payload:R.payload,callback:R.callback,next:null},Q===null?($=Q=Y,D=ne):Q=Q.next=Y,T|=j;if(R=R.next,R===null){if(R=y.shared.pending,R===null)break;Y=R,R=Y.next,Y.next=null,y.lastBaseUpdate=Y,y.shared.pending=null}}while(!0);Q===null&&(D=ne),y.baseState=D,y.firstBaseUpdate=$,y.lastBaseUpdate=Q,_===null&&(y.shared.lanes=0),ks|=T,r.lanes=T,r.memoizedState=ne}}function Rv(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function Nv(r,o){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)Rv(u[r],o)}var ga=P(null),Uc=P(0);function kv(r,o){r=Zr,se(Uc,r),se(ga,o),Zr=r|o.baseLanes}function Oh(){se(Uc,Zr),se(ga,ga.current)}function Lh(){Zr=Uc.current,W(ga),W(Uc)}var pi=P(null),ji=null;function Cs(r){var o=r.alternate;se(Ht,Ht.current&1),se(pi,r),ji===null&&(o===null||ga.current!==null||o.memoizedState!==null)&&(ji=r)}function qh(r){se(Ht,Ht.current),se(pi,r),ji===null&&(ji=r)}function Mv(r){r.tag===22?(se(Ht,Ht.current),se(pi,r),ji===null&&(ji=r)):As()}function As(){se(Ht,Ht.current),se(pi,pi.current)}function mi(r){W(pi),ji===r&&(ji=null),W(Ht)}var Ht=P(0);function Oc(r){for(var o=r;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Fp(u)||$p(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var $r=0,ke=null,at=null,Xt=null,Lc=!1,ya=!1,bo=!1,qc=0,Gl=0,va=null,bA=0;function Ot(){throw Error(i(321))}function Bh(r,o){if(o===null)return!1;for(var u=0;u<o.length&&u<r.length;u++)if(!fi(r[u],o[u]))return!1;return!0}function Gh(r,o,u,d,y,_){return $r=_,ke=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,V.H=r===null||r.memoizedState===null?p0:tp,bo=!1,_=u(d,y),bo=!1,ya&&(_=Dv(o,u,d,y)),Iv(r),_}function Iv(r){V.H=Vl;var o=at!==null&&at.next!==null;if($r=0,Xt=at=ke=null,Lc=!1,Gl=0,va=null,o)throw Error(i(300));r===null||Wt||(r=r.dependencies,r!==null&&Rc(r)&&(Wt=!0))}function Dv(r,o,u,d){ke=r;var y=0;do{if(ya&&(va=null),Gl=0,ya=!1,25<=y)throw Error(i(301));if(y+=1,Xt=at=null,r.updateQueue!=null){var _=r.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}V.H=m0,_=o(u,d)}while(ya);return _}function xA(){var r=V.H,o=r.useState()[0];return o=typeof o.then=="function"?zl(o):o,r=r.useState()[0],(at!==null?at.memoizedState:null)!==r&&(ke.flags|=1024),o}function zh(){var r=qc!==0;return qc=0,r}function Hh(r,o,u){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~u}function Vh(r){if(Lc){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Lc=!1}$r=0,Xt=at=ke=null,ya=!1,Gl=qc=0,va=null}function qn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?ke.memoizedState=Xt=r:Xt=Xt.next=r,Xt}function Vt(){if(at===null){var r=ke.alternate;r=r!==null?r.memoizedState:null}else r=at.next;var o=Xt===null?ke.memoizedState:Xt.next;if(o!==null)Xt=o,at=r;else{if(r===null)throw ke.alternate===null?Error(i(467)):Error(i(310));at=r,r={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Xt===null?ke.memoizedState=Xt=r:Xt=Xt.next=r}return Xt}function Bc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zl(r){var o=Gl;return Gl+=1,va===null&&(va=[]),r=wv(va,r,o),o=ke,(Xt===null?o.memoizedState:Xt.next)===null&&(o=o.alternate,V.H=o===null||o.memoizedState===null?p0:tp),r}function Gc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return zl(r);if(r.$$typeof===k)return yn(r)}throw Error(i(438,String(r)))}function Fh(r){var o=null,u=ke.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var d=ke.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Bc(),ke.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(r),d=0;d<r;d++)u[d]=J;return o.index++,u}function jr(r,o){return typeof o=="function"?o(r):o}function zc(r){var o=Vt();return $h(o,at,r)}function $h(r,o,u){var d=r.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=u;var y=r.baseQueue,_=d.pending;if(_!==null){if(y!==null){var T=y.next;y.next=_.next,_.next=T}o.baseQueue=y=_,d.pending=null}if(_=r.baseState,y===null)r.memoizedState=_;else{o=y.next;var R=T=null,D=null,$=o,Q=!1;do{var ne=$.lane&-536870913;if(ne!==$.lane?($e&ne)===ne:($r&ne)===ne){var j=$.revertLane;if(j===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ne===fa&&(Q=!0);else if(($r&j)===j){$=$.next,j===fa&&(Q=!0);continue}else ne={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},D===null?(R=D=ne,T=_):D=D.next=ne,ke.lanes|=j,ks|=j;ne=$.action,bo&&u(_,ne),_=$.hasEagerState?$.eagerState:u(_,ne)}else j={lane:ne,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},D===null?(R=D=j,T=_):D=D.next=j,ke.lanes|=ne,ks|=ne;$=$.next}while($!==null&&$!==o);if(D===null?T=_:D.next=R,!fi(_,r.memoizedState)&&(Wt=!0,Q&&(u=ha,u!==null)))throw u;r.memoizedState=_,r.baseState=T,r.baseQueue=D,d.lastRenderedState=_}return y===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function jh(r){var o=Vt(),u=o.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var d=u.dispatch,y=u.pending,_=o.memoizedState;if(y!==null){u.pending=null;var T=y=y.next;do _=r(_,T.action),T=T.next;while(T!==y);fi(_,o.memoizedState)||(Wt=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,d]}function Pv(r,o,u){var d=ke,y=Vt(),_=Je;if(_){if(u===void 0)throw Error(i(407));u=u()}else u=o();var T=!fi((at||y).memoizedState,u);if(T&&(y.memoizedState=u,Wt=!0),y=y.queue,Kh(Lv.bind(null,d,y,r),[r]),y.getSnapshot!==o||T||Xt!==null&&Xt.memoizedState.tag&1){if(d.flags|=2048,_a(9,{destroy:void 0},Ov.bind(null,d,y,u,o),null),ct===null)throw Error(i(349));_||($r&127)!==0||Uv(d,o,u)}return u}function Uv(r,o,u){r.flags|=16384,r={getSnapshot:o,value:u},o=ke.updateQueue,o===null?(o=Bc(),ke.updateQueue=o,o.stores=[r]):(u=o.stores,u===null?o.stores=[r]:u.push(r))}function Ov(r,o,u,d){o.value=u,o.getSnapshot=d,qv(o)&&Bv(r)}function Lv(r,o,u){return u(function(){qv(o)&&Bv(r)})}function qv(r){var o=r.getSnapshot;r=r.value;try{var u=o();return!fi(r,u)}catch{return!0}}function Bv(r){var o=co(r,2);o!==null&&ni(o,r,2)}function Jh(r){var o=qn();if(typeof r=="function"){var u=r;if(r=u(),bo){Un(!0);try{u()}finally{Un(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:r},o}function Gv(r,o,u,d){return r.baseState=u,$h(r,at,typeof d=="function"?d:jr)}function SA(r,o,u,d,y){if(Fc(r))throw Error(i(485));if(r=o.action,r!==null){var _={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){_.listeners.push(T)}};V.T!==null?u(!0):_.isTransition=!1,d(_),u=o.pending,u===null?(_.next=o.pending=_,zv(o,_)):(_.next=u.next,o.pending=u.next=_)}}function zv(r,o){var u=o.action,d=o.payload,y=r.state;if(o.isTransition){var _=V.T,T={};V.T=T;try{var R=u(y,d),D=V.S;D!==null&&D(T,R),Hv(r,o,R)}catch($){Yh(r,o,$)}finally{_!==null&&T.types!==null&&(_.types=T.types),V.T=_}}else try{_=u(y,d),Hv(r,o,_)}catch($){Yh(r,o,$)}}function Hv(r,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){Vv(r,o,d)},function(d){return Yh(r,o,d)}):Vv(r,o,u)}function Vv(r,o,u){o.status="fulfilled",o.value=u,Fv(o),r.state=u,o=r.pending,o!==null&&(u=o.next,u===o?r.pending=null:(u=u.next,o.next=u,zv(r,u)))}function Yh(r,o,u){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=u,Fv(o),o=o.next;while(o!==d)}r.action=null}function Fv(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function $v(r,o){return o}function jv(r,o){if(Je){var u=ct.formState;if(u!==null){e:{var d=ke;if(Je){if(vt){t:{for(var y=vt,_=$i;y.nodeType!==8;){if(!_){y=null;break t}if(y=Ji(y.nextSibling),y===null){y=null;break t}}_=y.data,y=_==="F!"||_==="F"?y:null}if(y){vt=Ji(y.nextSibling),d=y.data==="F!";break e}}xs(d)}d=!1}d&&(o=u[0])}}return u=qn(),u.memoizedState=u.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$v,lastRenderedState:o},u.queue=d,u=d0.bind(null,ke,d),d.dispatch=u,d=Jh(!1),_=ep.bind(null,ke,!1,d.queue),d=qn(),y={state:o,dispatch:null,action:r,pending:null},d.queue=y,u=SA.bind(null,ke,y,_,u),y.dispatch=u,d.memoizedState=r,[o,u,!1]}function Jv(r){var o=Vt();return Yv(o,at,r)}function Yv(r,o,u){if(o=$h(r,o,$v)[0],r=zc(jr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=zl(o)}catch(T){throw T===pa?Mc:T}else d=o;o=Vt();var y=o.queue,_=y.dispatch;return u!==o.memoizedState&&(ke.flags|=2048,_a(9,{destroy:void 0},wA.bind(null,y,u),null)),[d,_,r]}function wA(r,o){r.action=o}function Kv(r){var o=Vt(),u=at;if(u!==null)return Yv(o,u,r);Vt(),o=o.memoizedState,u=Vt();var d=u.queue.dispatch;return u.memoizedState=r,[o,d,!1]}function _a(r,o,u,d){return r={tag:r,create:u,deps:d,inst:o,next:null},o=ke.updateQueue,o===null&&(o=Bc(),ke.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=r.next=r:(d=u.next,u.next=r,r.next=d,o.lastEffect=r),r}function Xv(){return Vt().memoizedState}function Hc(r,o,u,d){var y=qn();ke.flags|=r,y.memoizedState=_a(1|o,{destroy:void 0},u,d===void 0?null:d)}function Vc(r,o,u,d){var y=Vt();d=d===void 0?null:d;var _=y.memoizedState.inst;at!==null&&d!==null&&Bh(d,at.memoizedState.deps)?y.memoizedState=_a(o,_,u,d):(ke.flags|=r,y.memoizedState=_a(1|o,_,u,d))}function Wv(r,o){Hc(8390656,8,r,o)}function Kh(r,o){Vc(2048,8,r,o)}function TA(r){ke.flags|=4;var o=ke.updateQueue;if(o===null)o=Bc(),ke.updateQueue=o,o.events=[r];else{var u=o.events;u===null?o.events=[r]:u.push(r)}}function Qv(r){var o=Vt().memoizedState;return TA({ref:o,nextImpl:r}),function(){if((tt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function Zv(r,o){return Vc(4,2,r,o)}function e0(r,o){return Vc(4,4,r,o)}function t0(r,o){if(typeof o=="function"){r=r();var u=o(r);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function n0(r,o,u){u=u!=null?u.concat([r]):null,Vc(4,4,t0.bind(null,o,r),u)}function Xh(){}function i0(r,o){var u=Vt();o=o===void 0?null:o;var d=u.memoizedState;return o!==null&&Bh(o,d[1])?d[0]:(u.memoizedState=[r,o],r)}function r0(r,o){var u=Vt();o=o===void 0?null:o;var d=u.memoizedState;if(o!==null&&Bh(o,d[1]))return d[0];if(d=r(),bo){Un(!0);try{r()}finally{Un(!1)}}return u.memoizedState=[d,o],d}function Wh(r,o,u){return u===void 0||($r&1073741824)!==0&&($e&261930)===0?r.memoizedState=o:(r.memoizedState=u,r=s_(),ke.lanes|=r,ks|=r,u)}function s0(r,o,u,d){return fi(u,o)?u:ga.current!==null?(r=Wh(r,u,d),fi(r,o)||(Wt=!0),r):($r&42)===0||($r&1073741824)!==0&&($e&261930)===0?(Wt=!0,r.memoizedState=u):(r=s_(),ke.lanes|=r,ks|=r,o)}function o0(r,o,u,d,y){var _=X.p;X.p=_!==0&&8>_?_:8;var T=V.T,R={};V.T=R,ep(r,!1,o,u);try{var D=y(),$=V.S;if($!==null&&$(R,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Q=_A(D,d);Hl(r,o,Q,vi(r))}else Hl(r,o,d,vi(r))}catch(ne){Hl(r,o,{then:function(){},status:"rejected",reason:ne},vi())}finally{X.p=_,T!==null&&R.types!==null&&(T.types=R.types),V.T=T}}function EA(){}function Qh(r,o,u,d){if(r.tag!==5)throw Error(i(476));var y=a0(r).queue;o0(r,y,o,re,u===null?EA:function(){return l0(r),u(d)})}function a0(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:re},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:u},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function l0(r){var o=a0(r);o.next===null&&(o=r.alternate.memoizedState),Hl(r,o.next.queue,{},vi())}function Zh(){return yn(su)}function u0(){return Vt().memoizedState}function c0(){return Vt().memoizedState}function CA(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var u=vi();r=Ts(u);var d=Es(o,r,u);d!==null&&(ni(d,o,u),Ll(d,o,u)),o={cache:Rh()},r.payload=o;return}o=o.return}}function AA(r,o,u){var d=vi();u={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Fc(r)?f0(o,u):(u=yh(r,o,u,d),u!==null&&(ni(u,r,d),h0(u,o,d)))}function d0(r,o,u){var d=vi();Hl(r,o,u,d)}function Hl(r,o,u,d){var y={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Fc(r))f0(o,y);else{var _=r.alternate;if(r.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var T=o.lastRenderedState,R=_(T,u);if(y.hasEagerState=!0,y.eagerState=R,fi(R,T))return Tc(r,o,y,0),ct===null&&wc(),!1}catch{}finally{}if(u=yh(r,o,y,d),u!==null)return ni(u,r,d),h0(u,o,d),!0}return!1}function ep(r,o,u,d){if(d={lane:2,revertLane:Ip(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Fc(r)){if(o)throw Error(i(479))}else o=yh(r,u,d,2),o!==null&&ni(o,r,2)}function Fc(r){var o=r.alternate;return r===ke||o!==null&&o===ke}function f0(r,o){ya=Lc=!0;var u=r.pending;u===null?o.next=o:(o.next=u.next,u.next=o),r.pending=o}function h0(r,o,u){if((u&4194048)!==0){var d=o.lanes;d&=r.pendingLanes,u|=d,o.lanes=u,Ae(r,u)}}var Vl={readContext:yn,use:Gc,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot};Vl.useEffectEvent=Ot;var p0={readContext:yn,use:Gc,useCallback:function(r,o){return qn().memoizedState=[r,o===void 0?null:o],r},useContext:yn,useEffect:Wv,useImperativeHandle:function(r,o,u){u=u!=null?u.concat([r]):null,Hc(4194308,4,t0.bind(null,o,r),u)},useLayoutEffect:function(r,o){return Hc(4194308,4,r,o)},useInsertionEffect:function(r,o){Hc(4,2,r,o)},useMemo:function(r,o){var u=qn();o=o===void 0?null:o;var d=r();if(bo){Un(!0);try{r()}finally{Un(!1)}}return u.memoizedState=[d,o],d},useReducer:function(r,o,u){var d=qn();if(u!==void 0){var y=u(o);if(bo){Un(!0);try{u(o)}finally{Un(!1)}}}else y=o;return d.memoizedState=d.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},d.queue=r,r=r.dispatch=AA.bind(null,ke,r),[d.memoizedState,r]},useRef:function(r){var o=qn();return r={current:r},o.memoizedState=r},useState:function(r){r=Jh(r);var o=r.queue,u=d0.bind(null,ke,o);return o.dispatch=u,[r.memoizedState,u]},useDebugValue:Xh,useDeferredValue:function(r,o){var u=qn();return Wh(u,r,o)},useTransition:function(){var r=Jh(!1);return r=o0.bind(null,ke,r.queue,!0,!1),qn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,u){var d=ke,y=qn();if(Je){if(u===void 0)throw Error(i(407));u=u()}else{if(u=o(),ct===null)throw Error(i(349));($e&127)!==0||Uv(d,o,u)}y.memoizedState=u;var _={value:u,getSnapshot:o};return y.queue=_,Wv(Lv.bind(null,d,_,r),[r]),d.flags|=2048,_a(9,{destroy:void 0},Ov.bind(null,d,_,u,o),null),u},useId:function(){var r=qn(),o=ct.identifierPrefix;if(Je){var u=Er,d=Tr;u=(d&~(1<<32-Yt(d)-1)).toString(32)+u,o="_"+o+"R_"+u,u=qc++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=bA++,o="_"+o+"r_"+u.toString(32)+"_";return r.memoizedState=o},useHostTransitionStatus:Zh,useFormState:jv,useActionState:jv,useOptimistic:function(r){var o=qn();o.memoizedState=o.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=ep.bind(null,ke,!0,u),u.dispatch=o,[r,o]},useMemoCache:Fh,useCacheRefresh:function(){return qn().memoizedState=CA.bind(null,ke)},useEffectEvent:function(r){var o=qn(),u={impl:r};return o.memoizedState=u,function(){if((tt&2)!==0)throw Error(i(440));return u.impl.apply(void 0,arguments)}}},tp={readContext:yn,use:Gc,useCallback:i0,useContext:yn,useEffect:Kh,useImperativeHandle:n0,useInsertionEffect:Zv,useLayoutEffect:e0,useMemo:r0,useReducer:zc,useRef:Xv,useState:function(){return zc(jr)},useDebugValue:Xh,useDeferredValue:function(r,o){var u=Vt();return s0(u,at.memoizedState,r,o)},useTransition:function(){var r=zc(jr)[0],o=Vt().memoizedState;return[typeof r=="boolean"?r:zl(r),o]},useSyncExternalStore:Pv,useId:u0,useHostTransitionStatus:Zh,useFormState:Jv,useActionState:Jv,useOptimistic:function(r,o){var u=Vt();return Gv(u,at,r,o)},useMemoCache:Fh,useCacheRefresh:c0};tp.useEffectEvent=Qv;var m0={readContext:yn,use:Gc,useCallback:i0,useContext:yn,useEffect:Kh,useImperativeHandle:n0,useInsertionEffect:Zv,useLayoutEffect:e0,useMemo:r0,useReducer:jh,useRef:Xv,useState:function(){return jh(jr)},useDebugValue:Xh,useDeferredValue:function(r,o){var u=Vt();return at===null?Wh(u,r,o):s0(u,at.memoizedState,r,o)},useTransition:function(){var r=jh(jr)[0],o=Vt().memoizedState;return[typeof r=="boolean"?r:zl(r),o]},useSyncExternalStore:Pv,useId:u0,useHostTransitionStatus:Zh,useFormState:Kv,useActionState:Kv,useOptimistic:function(r,o){var u=Vt();return at!==null?Gv(u,at,r,o):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:Fh,useCacheRefresh:c0};m0.useEffectEvent=Qv;function np(r,o,u,d){o=r.memoizedState,u=u(d,o),u=u==null?o:v({},o,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var ip={enqueueSetState:function(r,o,u){r=r._reactInternals;var d=vi(),y=Ts(d);y.payload=o,u!=null&&(y.callback=u),o=Es(r,y,d),o!==null&&(ni(o,r,d),Ll(o,r,d))},enqueueReplaceState:function(r,o,u){r=r._reactInternals;var d=vi(),y=Ts(d);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=Es(r,y,d),o!==null&&(ni(o,r,d),Ll(o,r,d))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var u=vi(),d=Ts(u);d.tag=2,o!=null&&(d.callback=o),o=Es(r,d,u),o!==null&&(ni(o,r,u),Ll(o,r,u))}};function g0(r,o,u,d,y,_,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,_,T):o.prototype&&o.prototype.isPureReactComponent?!Nl(u,d)||!Nl(y,_):!0}function y0(r,o,u,d){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==r&&ip.enqueueReplaceState(o,o.state,null)}function xo(r,o){var u=o;if("ref"in o){u={};for(var d in o)d!=="ref"&&(u[d]=o[d])}if(r=r.defaultProps){u===o&&(u=v({},u));for(var y in r)u[y]===void 0&&(u[y]=r[y])}return u}function v0(r){Sc(r)}function _0(r){console.error(r)}function b0(r){Sc(r)}function $c(r,o){try{var u=r.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function x0(r,o,u){try{var d=r.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function rp(r,o,u){return u=Ts(u),u.tag=3,u.payload={element:null},u.callback=function(){$c(r,o)},u}function S0(r){return r=Ts(r),r.tag=3,r}function w0(r,o,u,d){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var _=d.value;r.payload=function(){return y(_)},r.callback=function(){x0(o,u,d)}}var T=u.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){x0(o,u,d),typeof y!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var R=d.stack;this.componentDidCatch(d.value,{componentStack:R!==null?R:""})})}function RA(r,o,u,d,y){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=u.alternate,o!==null&&da(o,u,y,!0),u=pi.current,u!==null){switch(u.tag){case 31:case 13:return ji===null?id():u.alternate===null&&Lt===0&&(Lt=3),u.flags&=-257,u.flags|=65536,u.lanes=y,d===Ic?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([d]):o.add(d),Np(r,d,y)),!1;case 22:return u.flags|=65536,d===Ic?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([d]):u.add(d)),Np(r,d,y)),!1}throw Error(i(435,u.tag))}return Np(r,d,y),id(),!1}if(Je)return o=pi.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,d!==wh&&(r=Error(i(422),{cause:d}),Il(Hi(r,u)))):(d!==wh&&(o=Error(i(423),{cause:d}),Il(Hi(o,u))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,d=Hi(d,u),y=rp(r.stateNode,d,y),Ph(r,y),Lt!==4&&(Lt=2)),!1;var _=Error(i(520),{cause:d});if(_=Hi(_,u),Wl===null?Wl=[_]:Wl.push(_),Lt!==4&&(Lt=2),o===null)return!0;d=Hi(d,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,r=y&-y,u.lanes|=r,r=rp(u.stateNode,d,r),Ph(u,r),!1;case 1:if(o=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ms===null||!Ms.has(_))))return u.flags|=65536,y&=-y,u.lanes|=y,y=S0(y),w0(y,r,u,d),Ph(u,y),!1}u=u.return}while(u!==null);return!1}var sp=Error(i(461)),Wt=!1;function vn(r,o,u,d){o.child=r===null?Av(o,null,u,d):_o(o,r.child,u,d)}function T0(r,o,u,d,y){u=u.render;var _=o.ref;if("ref"in d){var T={};for(var R in d)R!=="ref"&&(T[R]=d[R])}else T=d;return mo(o),d=Gh(r,o,u,T,_,y),R=zh(),r!==null&&!Wt?(Hh(r,o,y),Jr(r,o,y)):(Je&&R&&xh(o),o.flags|=1,vn(r,o,d,y),o.child)}function E0(r,o,u,d,y){if(r===null){var _=u.type;return typeof _=="function"&&!vh(_)&&_.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=_,C0(r,o,_,d,y)):(r=Cc(u.type,null,d,o,o.mode,y),r.ref=o.ref,r.return=o,o.child=r)}if(_=r.child,!hp(r,y)){var T=_.memoizedProps;if(u=u.compare,u=u!==null?u:Nl,u(T,d)&&r.ref===o.ref)return Jr(r,o,y)}return o.flags|=1,r=zr(_,d),r.ref=o.ref,r.return=o,o.child=r}function C0(r,o,u,d,y){if(r!==null){var _=r.memoizedProps;if(Nl(_,d)&&r.ref===o.ref)if(Wt=!1,o.pendingProps=d=_,hp(r,y))(r.flags&131072)!==0&&(Wt=!0);else return o.lanes=r.lanes,Jr(r,o,y)}return op(r,o,u,d,y)}function A0(r,o,u,d){var y=d.children,_=r!==null?r.memoizedState:null;if(r===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((o.flags&128)!==0){if(_=_!==null?_.baseLanes|u:u,r!==null){for(d=o.child=r.child,y=0;d!==null;)y=y|d.lanes|d.childLanes,d=d.sibling;d=y&~_}else d=0,o.child=null;return R0(r,o,_,u,d)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&kc(o,_!==null?_.cachePool:null),_!==null?kv(o,_):Oh(),Mv(o);else return d=o.lanes=536870912,R0(r,o,_!==null?_.baseLanes|u:u,u,d)}else _!==null?(kc(o,_.cachePool),kv(o,_),As(),o.memoizedState=null):(r!==null&&kc(o,null),Oh(),As());return vn(r,o,y,u),o.child}function Fl(r,o){return r!==null&&r.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function R0(r,o,u,d,y){var _=kh();return _=_===null?null:{parent:Kt._currentValue,pool:_},o.memoizedState={baseLanes:u,cachePool:_},r!==null&&kc(o,null),Oh(),Mv(o),r!==null&&da(r,o,d,!0),o.childLanes=y,null}function jc(r,o){return o=Yc({mode:o.mode,children:o.children},r.mode),o.ref=r.ref,r.child=o,o.return=r,o}function N0(r,o,u){return _o(o,r.child,null,u),r=jc(o,o.pendingProps),r.flags|=2,mi(o),o.memoizedState=null,r}function NA(r,o,u){var d=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,r===null){if(Je){if(d.mode==="hidden")return r=jc(o,d),o.lanes=536870912,Fl(null,r);if(qh(o),(r=vt)?(r=z_(r,$i),r=r!==null&&r.data==="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:_s!==null?{id:Tr,overflow:Er}:null,retryLane:536870912,hydrationErrors:null},u=fv(r),u.return=o,o.child=u,gn=o,vt=null)):r=null,r===null)throw xs(o);return o.lanes=536870912,null}return jc(o,d)}var _=r.memoizedState;if(_!==null){var T=_.dehydrated;if(qh(o),y)if(o.flags&256)o.flags&=-257,o=N0(r,o,u);else if(o.memoizedState!==null)o.child=r.child,o.flags|=128,o=null;else throw Error(i(558));else if(Wt||da(r,o,u,!1),y=(u&r.childLanes)!==0,Wt||y){if(d=ct,d!==null&&(T=ge(d,u),T!==0&&T!==_.retryLane))throw _.retryLane=T,co(r,T),ni(d,r,T),sp;id(),o=N0(r,o,u)}else r=_.treeContext,vt=Ji(T.nextSibling),gn=o,Je=!0,bs=null,$i=!1,r!==null&&mv(o,r),o=jc(o,d),o.flags|=4096;return o}return r=zr(r.child,{mode:d.mode,children:d.children}),r.ref=o.ref,o.child=r,r.return=o,r}function Jc(r,o){var u=o.ref;if(u===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(r===null||r.ref!==u)&&(o.flags|=4194816)}}function op(r,o,u,d,y){return mo(o),u=Gh(r,o,u,d,void 0,y),d=zh(),r!==null&&!Wt?(Hh(r,o,y),Jr(r,o,y)):(Je&&d&&xh(o),o.flags|=1,vn(r,o,u,y),o.child)}function k0(r,o,u,d,y,_){return mo(o),o.updateQueue=null,u=Dv(o,d,u,y),Iv(r),d=zh(),r!==null&&!Wt?(Hh(r,o,_),Jr(r,o,_)):(Je&&d&&xh(o),o.flags|=1,vn(r,o,u,_),o.child)}function M0(r,o,u,d,y){if(mo(o),o.stateNode===null){var _=aa,T=u.contextType;typeof T=="object"&&T!==null&&(_=yn(T)),_=new u(d,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=ip,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=d,_.state=o.memoizedState,_.refs={},Ih(o),T=u.contextType,_.context=typeof T=="object"&&T!==null?yn(T):aa,_.state=o.memoizedState,T=u.getDerivedStateFromProps,typeof T=="function"&&(np(o,u,T,d),_.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(T=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),T!==_.state&&ip.enqueueReplaceState(_,_.state,null),Bl(o,d,_,y),ql(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(r===null){_=o.stateNode;var R=o.memoizedProps,D=xo(u,R);_.props=D;var $=_.context,Q=u.contextType;T=aa,typeof Q=="object"&&Q!==null&&(T=yn(Q));var ne=u.getDerivedStateFromProps;Q=typeof ne=="function"||typeof _.getSnapshotBeforeUpdate=="function",R=o.pendingProps!==R,Q||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R||$!==T)&&y0(o,_,d,T),ws=!1;var j=o.memoizedState;_.state=j,Bl(o,d,_,y),ql(),$=o.memoizedState,R||j!==$||ws?(typeof ne=="function"&&(np(o,u,ne,d),$=o.memoizedState),(D=ws||g0(o,u,D,d,j,$,T))?(Q||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=$),_.props=d,_.state=$,_.context=T,d=D):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{_=o.stateNode,Dh(r,o),T=o.memoizedProps,Q=xo(u,T),_.props=Q,ne=o.pendingProps,j=_.context,$=u.contextType,D=aa,typeof $=="object"&&$!==null&&(D=yn($)),R=u.getDerivedStateFromProps,($=typeof R=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==ne||j!==D)&&y0(o,_,d,D),ws=!1,j=o.memoizedState,_.state=j,Bl(o,d,_,y),ql();var Y=o.memoizedState;T!==ne||j!==Y||ws||r!==null&&r.dependencies!==null&&Rc(r.dependencies)?(typeof R=="function"&&(np(o,u,R,d),Y=o.memoizedState),(Q=ws||g0(o,u,Q,d,j,Y,D)||r!==null&&r.dependencies!==null&&Rc(r.dependencies))?($||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(d,Y,D),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(d,Y,D)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||T===r.memoizedProps&&j===r.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&j===r.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=Y),_.props=d,_.state=Y,_.context=D,d=Q):(typeof _.componentDidUpdate!="function"||T===r.memoizedProps&&j===r.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&j===r.memoizedState||(o.flags|=1024),d=!1)}return _=d,Jc(r,o),d=(o.flags&128)!==0,_||d?(_=o.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,r!==null&&d?(o.child=_o(o,r.child,null,y),o.child=_o(o,null,u,y)):vn(r,o,u,y),o.memoizedState=_.state,r=o.child):r=Jr(r,o,y),r}function I0(r,o,u,d){return ho(),o.flags|=256,vn(r,o,u,d),o.child}var ap={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lp(r){return{baseLanes:r,cachePool:xv()}}function up(r,o,u){return r=r!==null?r.childLanes&~u:0,o&&(r|=yi),r}function D0(r,o,u){var d=o.pendingProps,y=!1,_=(o.flags&128)!==0,T;if((T=_)||(T=r!==null&&r.memoizedState===null?!1:(Ht.current&2)!==0),T&&(y=!0,o.flags&=-129),T=(o.flags&32)!==0,o.flags&=-33,r===null){if(Je){if(y?Cs(o):As(),(r=vt)?(r=z_(r,$i),r=r!==null&&r.data!=="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:_s!==null?{id:Tr,overflow:Er}:null,retryLane:536870912,hydrationErrors:null},u=fv(r),u.return=o,o.child=u,gn=o,vt=null)):r=null,r===null)throw xs(o);return $p(r)?o.lanes=32:o.lanes=536870912,null}var R=d.children;return d=d.fallback,y?(As(),y=o.mode,R=Yc({mode:"hidden",children:R},y),d=fo(d,y,u,null),R.return=o,d.return=o,R.sibling=d,o.child=R,d=o.child,d.memoizedState=lp(u),d.childLanes=up(r,T,u),o.memoizedState=ap,Fl(null,d)):(Cs(o),cp(o,R))}var D=r.memoizedState;if(D!==null&&(R=D.dehydrated,R!==null)){if(_)o.flags&256?(Cs(o),o.flags&=-257,o=dp(r,o,u)):o.memoizedState!==null?(As(),o.child=r.child,o.flags|=128,o=null):(As(),R=d.fallback,y=o.mode,d=Yc({mode:"visible",children:d.children},y),R=fo(R,y,u,null),R.flags|=2,d.return=o,R.return=o,d.sibling=R,o.child=d,_o(o,r.child,null,u),d=o.child,d.memoizedState=lp(u),d.childLanes=up(r,T,u),o.memoizedState=ap,o=Fl(null,d));else if(Cs(o),$p(R)){if(T=R.nextSibling&&R.nextSibling.dataset,T)var $=T.dgst;T=$,d=Error(i(419)),d.stack="",d.digest=T,Il({value:d,source:null,stack:null}),o=dp(r,o,u)}else if(Wt||da(r,o,u,!1),T=(u&r.childLanes)!==0,Wt||T){if(T=ct,T!==null&&(d=ge(T,u),d!==0&&d!==D.retryLane))throw D.retryLane=d,co(r,d),ni(T,r,d),sp;Fp(R)||id(),o=dp(r,o,u)}else Fp(R)?(o.flags|=192,o.child=r.child,o=null):(r=D.treeContext,vt=Ji(R.nextSibling),gn=o,Je=!0,bs=null,$i=!1,r!==null&&mv(o,r),o=cp(o,d.children),o.flags|=4096);return o}return y?(As(),R=d.fallback,y=o.mode,D=r.child,$=D.sibling,d=zr(D,{mode:"hidden",children:d.children}),d.subtreeFlags=D.subtreeFlags&65011712,$!==null?R=zr($,R):(R=fo(R,y,u,null),R.flags|=2),R.return=o,d.return=o,d.sibling=R,o.child=d,Fl(null,d),d=o.child,R=r.child.memoizedState,R===null?R=lp(u):(y=R.cachePool,y!==null?(D=Kt._currentValue,y=y.parent!==D?{parent:D,pool:D}:y):y=xv(),R={baseLanes:R.baseLanes|u,cachePool:y}),d.memoizedState=R,d.childLanes=up(r,T,u),o.memoizedState=ap,Fl(r.child,d)):(Cs(o),u=r.child,r=u.sibling,u=zr(u,{mode:"visible",children:d.children}),u.return=o,u.sibling=null,r!==null&&(T=o.deletions,T===null?(o.deletions=[r],o.flags|=16):T.push(r)),o.child=u,o.memoizedState=null,u)}function cp(r,o){return o=Yc({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function Yc(r,o){return r=hi(22,r,null,o),r.lanes=0,r}function dp(r,o,u){return _o(o,r.child,null,u),r=cp(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function P0(r,o,u){r.lanes|=o;var d=r.alternate;d!==null&&(d.lanes|=o),Ch(r.return,o,u)}function fp(r,o,u,d,y,_){var T=r.memoizedState;T===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:y,treeForkCount:_}:(T.isBackwards=o,T.rendering=null,T.renderingStartTime=0,T.last=d,T.tail=u,T.tailMode=y,T.treeForkCount=_)}function U0(r,o,u){var d=o.pendingProps,y=d.revealOrder,_=d.tail;d=d.children;var T=Ht.current,R=(T&2)!==0;if(R?(T=T&1|2,o.flags|=128):T&=1,se(Ht,T),vn(r,o,d,u),d=Je?Ml:0,!R&&r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&P0(r,u,o);else if(r.tag===19)P0(r,u,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(y){case"forwards":for(u=o.child,y=null;u!==null;)r=u.alternate,r!==null&&Oc(r)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),fp(o,!1,y,u,_,d);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(r=y.alternate,r!==null&&Oc(r)===null){o.child=y;break}r=y.sibling,y.sibling=u,u=y,y=r}fp(o,!0,u,null,_,d);break;case"together":fp(o,!1,null,null,void 0,d);break;default:o.memoizedState=null}return o.child}function Jr(r,o,u){if(r!==null&&(o.dependencies=r.dependencies),ks|=o.lanes,(u&o.childLanes)===0)if(r!==null){if(da(r,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,u=zr(r,r.pendingProps),o.child=u,u.return=o;r.sibling!==null;)r=r.sibling,u=u.sibling=zr(r,r.pendingProps),u.return=o;u.sibling=null}return o.child}function hp(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&Rc(r)))}function kA(r,o,u){switch(o.tag){case 3:et(o,o.stateNode.containerInfo),Ss(o,Kt,r.memoizedState.cache),ho();break;case 27:case 5:Yn(o);break;case 4:et(o,o.stateNode.containerInfo);break;case 10:Ss(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,qh(o),null;break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(Cs(o),o.flags|=128,null):(u&o.child.childLanes)!==0?D0(r,o,u):(Cs(o),r=Jr(r,o,u),r!==null?r.sibling:null);Cs(o);break;case 19:var y=(r.flags&128)!==0;if(d=(u&o.childLanes)!==0,d||(da(r,o,u,!1),d=(u&o.childLanes)!==0),y){if(d)return U0(r,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),se(Ht,Ht.current),d)break;return null;case 22:return o.lanes=0,A0(r,o,u,o.pendingProps);case 24:Ss(o,Kt,r.memoizedState.cache)}return Jr(r,o,u)}function O0(r,o,u){if(r!==null)if(r.memoizedProps!==o.pendingProps)Wt=!0;else{if(!hp(r,u)&&(o.flags&128)===0)return Wt=!1,kA(r,o,u);Wt=(r.flags&131072)!==0}else Wt=!1,Je&&(o.flags&1048576)!==0&&pv(o,Ml,o.index);switch(o.lanes=0,o.tag){case 16:e:{var d=o.pendingProps;if(r=yo(o.elementType),o.type=r,typeof r=="function")vh(r)?(d=xo(r,d),o.tag=1,o=M0(null,o,r,d,u)):(o.tag=0,o=op(null,o,r,d,u));else{if(r!=null){var y=r.$$typeof;if(y===M){o.tag=11,o=T0(null,o,r,d,u);break e}else if(y===I){o.tag=14,o=E0(null,o,r,d,u);break e}}throw o=de(r)||r,Error(i(306,o,""))}}return o;case 0:return op(r,o,o.type,o.pendingProps,u);case 1:return d=o.type,y=xo(d,o.pendingProps),M0(r,o,d,y,u);case 3:e:{if(et(o,o.stateNode.containerInfo),r===null)throw Error(i(387));d=o.pendingProps;var _=o.memoizedState;y=_.element,Dh(r,o),Bl(o,d,null,u);var T=o.memoizedState;if(d=T.cache,Ss(o,Kt,d),d!==_.cache&&Ah(o,[Kt],u,!0),ql(),d=T.element,_.isDehydrated)if(_={element:d,isDehydrated:!1,cache:T.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=I0(r,o,d,u);break e}else if(d!==y){y=Hi(Error(i(424)),o),Il(y),o=I0(r,o,d,u);break e}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(vt=Ji(r.firstChild),gn=o,Je=!0,bs=null,$i=!0,u=Av(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(ho(),d===y){o=Jr(r,o,u);break e}vn(r,o,d,u)}o=o.child}return o;case 26:return Jc(r,o),r===null?(u=J_(o.type,null,o.pendingProps,null))?o.memoizedState=u:Je||(u=o.type,r=o.pendingProps,d=cd(_e.current).createElement(u),d[Ie]=o,d[Pe]=r,_n(d,u,r),qe(d),o.stateNode=d):o.memoizedState=J_(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return Yn(o),r===null&&Je&&(d=o.stateNode=F_(o.type,o.pendingProps,_e.current),gn=o,$i=!0,y=vt,Us(o.type)?(jp=y,vt=Ji(d.firstChild)):vt=y),vn(r,o,o.pendingProps.children,u),Jc(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&Je&&((y=d=vt)&&(d=oR(d,o.type,o.pendingProps,$i),d!==null?(o.stateNode=d,gn=o,vt=Ji(d.firstChild),$i=!1,y=!0):y=!1),y||xs(o)),Yn(o),y=o.type,_=o.pendingProps,T=r!==null?r.memoizedProps:null,d=_.children,zp(y,_)?d=null:T!==null&&zp(y,T)&&(o.flags|=32),o.memoizedState!==null&&(y=Gh(r,o,xA,null,null,u),su._currentValue=y),Jc(r,o),vn(r,o,d,u),o.child;case 6:return r===null&&Je&&((r=u=vt)&&(u=aR(u,o.pendingProps,$i),u!==null?(o.stateNode=u,gn=o,vt=null,r=!0):r=!1),r||xs(o)),null;case 13:return D0(r,o,u);case 4:return et(o,o.stateNode.containerInfo),d=o.pendingProps,r===null?o.child=_o(o,null,d,u):vn(r,o,d,u),o.child;case 11:return T0(r,o,o.type,o.pendingProps,u);case 7:return vn(r,o,o.pendingProps,u),o.child;case 8:return vn(r,o,o.pendingProps.children,u),o.child;case 12:return vn(r,o,o.pendingProps.children,u),o.child;case 10:return d=o.pendingProps,Ss(o,o.type,d.value),vn(r,o,d.children,u),o.child;case 9:return y=o.type._context,d=o.pendingProps.children,mo(o),y=yn(y),d=d(y),o.flags|=1,vn(r,o,d,u),o.child;case 14:return E0(r,o,o.type,o.pendingProps,u);case 15:return C0(r,o,o.type,o.pendingProps,u);case 19:return U0(r,o,u);case 31:return NA(r,o,u);case 22:return A0(r,o,u,o.pendingProps);case 24:return mo(o),d=yn(Kt),r===null?(y=kh(),y===null&&(y=ct,_=Rh(),y.pooledCache=_,_.refCount++,_!==null&&(y.pooledCacheLanes|=u),y=_),o.memoizedState={parent:d,cache:y},Ih(o),Ss(o,Kt,y)):((r.lanes&u)!==0&&(Dh(r,o),Bl(o,null,null,u),ql()),y=r.memoizedState,_=o.memoizedState,y.parent!==d?(y={parent:d,cache:d},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),Ss(o,Kt,d)):(d=_.cache,Ss(o,Kt,d),d!==y.cache&&Ah(o,[Kt],u,!0))),vn(r,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Yr(r){r.flags|=4}function pp(r,o,u,d,y){if((o=(r.mode&32)!==0)&&(o=!1),o){if(r.flags|=16777216,(y&335544128)===y)if(r.stateNode.complete)r.flags|=8192;else if(u_())r.flags|=8192;else throw vo=Ic,Mh}else r.flags&=-16777217}function L0(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Q_(o))if(u_())r.flags|=8192;else throw vo=Ic,Mh}function Kc(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?gs():536870912,r.lanes|=o,wa|=o)}function $l(r,o){if(!Je)switch(r.tailMode){case"hidden":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function _t(r){var o=r.alternate!==null&&r.alternate.child===r.child,u=0,d=0;if(o)for(var y=r.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=d,r.childLanes=u,o}function MA(r,o,u){var d=o.pendingProps;switch(Sh(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(o),null;case 1:return _t(o),null;case 3:return u=o.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Fr(Kt),Oe(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(ca(o)?Yr(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Th())),_t(o),null;case 26:var y=o.type,_=o.memoizedState;return r===null?(Yr(o),_!==null?(_t(o),L0(o,_)):(_t(o),pp(o,y,null,d,u))):_?_!==r.memoizedState?(Yr(o),_t(o),L0(o,_)):(_t(o),o.flags&=-16777217):(r=r.memoizedProps,r!==d&&Yr(o),_t(o),pp(o,y,r,d,u)),null;case 27:if(jt(o),u=_e.current,y=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==d&&Yr(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return _t(o),null}r=oe.current,ca(o)?gv(o):(r=F_(y,d,u),o.stateNode=r,Yr(o))}return _t(o),null;case 5:if(jt(o),y=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==d&&Yr(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return _t(o),null}if(_=oe.current,ca(o))gv(o);else{var T=cd(_e.current);switch(_){case 1:_=T.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:_=T.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":_=T.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":_=T.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":_=T.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof d.is=="string"?T.createElement("select",{is:d.is}):T.createElement("select"),d.multiple?_.multiple=!0:d.size&&(_.size=d.size);break;default:_=typeof d.is=="string"?T.createElement(y,{is:d.is}):T.createElement(y)}}_[Ie]=o,_[Pe]=d;e:for(T=o.child;T!==null;){if(T.tag===5||T.tag===6)_.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===o)break e;for(;T.sibling===null;){if(T.return===null||T.return===o)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}o.stateNode=_;e:switch(_n(_,y,d),y){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Yr(o)}}return _t(o),pp(o,o.type,r===null?null:r.memoizedProps,o.pendingProps,u),null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==d&&Yr(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(i(166));if(r=_e.current,ca(o)){if(r=o.stateNode,u=o.memoizedProps,d=null,y=gn,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}r[Ie]=o,r=!!(r.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||D_(r.nodeValue,u)),r||xs(o,!0)}else r=cd(r).createTextNode(d),r[Ie]=o,o.stateNode=r}return _t(o),null;case 31:if(u=o.memoizedState,r===null||r.memoizedState!==null){if(d=ca(o),u!==null){if(r===null){if(!d)throw Error(i(318));if(r=o.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Ie]=o}else ho(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;_t(o),r=!1}else u=Th(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=u),r=!0;if(!r)return o.flags&256?(mi(o),o):(mi(o),null);if((o.flags&128)!==0)throw Error(i(558))}return _t(o),null;case 13:if(d=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=ca(o),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(i(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[Ie]=o}else ho(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;_t(o),y=!1}else y=Th(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(mi(o),o):(mi(o),null)}return mi(o),(o.flags&128)!==0?(o.lanes=u,o):(u=d!==null,r=r!==null&&r.memoizedState!==null,u&&(d=o.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool),_=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(_=d.memoizedState.cachePool.pool),_!==y&&(d.flags|=2048)),u!==r&&u&&(o.child.flags|=8192),Kc(o,o.updateQueue),_t(o),null);case 4:return Oe(),r===null&&Op(o.stateNode.containerInfo),_t(o),null;case 10:return Fr(o.type),_t(o),null;case 19:if(W(Ht),d=o.memoizedState,d===null)return _t(o),null;if(y=(o.flags&128)!==0,_=d.rendering,_===null)if(y)$l(d,!1);else{if(Lt!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(_=Oc(r),_!==null){for(o.flags|=128,$l(d,!1),r=_.updateQueue,o.updateQueue=r,Kc(o,r),o.subtreeFlags=0,r=u,u=o.child;u!==null;)dv(u,r),u=u.sibling;return se(Ht,Ht.current&1|2),Je&&Hr(o,d.treeForkCount),o.child}r=r.sibling}d.tail!==null&&Gt()>ed&&(o.flags|=128,y=!0,$l(d,!1),o.lanes=4194304)}else{if(!y)if(r=Oc(_),r!==null){if(o.flags|=128,y=!0,r=r.updateQueue,o.updateQueue=r,Kc(o,r),$l(d,!0),d.tail===null&&d.tailMode==="hidden"&&!_.alternate&&!Je)return _t(o),null}else 2*Gt()-d.renderingStartTime>ed&&u!==536870912&&(o.flags|=128,y=!0,$l(d,!1),o.lanes=4194304);d.isBackwards?(_.sibling=o.child,o.child=_):(r=d.last,r!==null?r.sibling=_:o.child=_,d.last=_)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=Gt(),r.sibling=null,u=Ht.current,se(Ht,y?u&1|2:u&1),Je&&Hr(o,d.treeForkCount),r):(_t(o),null);case 22:case 23:return mi(o),Lh(),d=o.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(u&536870912)!==0&&(o.flags&128)===0&&(_t(o),o.subtreeFlags&6&&(o.flags|=8192)):_t(o),u=o.updateQueue,u!==null&&Kc(o,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==u&&(o.flags|=2048),r!==null&&W(go),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Fr(Kt),_t(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function IA(r,o){switch(Sh(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Fr(Kt),Oe(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return jt(o),null;case 31:if(o.memoizedState!==null){if(mi(o),o.alternate===null)throw Error(i(340));ho()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 13:if(mi(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));ho()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return W(Ht),null;case 4:return Oe(),null;case 10:return Fr(o.type),null;case 22:case 23:return mi(o),Lh(),r!==null&&W(go),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return Fr(Kt),null;case 25:return null;default:return null}}function q0(r,o){switch(Sh(o),o.tag){case 3:Fr(Kt),Oe();break;case 26:case 27:case 5:jt(o);break;case 4:Oe();break;case 31:o.memoizedState!==null&&mi(o);break;case 13:mi(o);break;case 19:W(Ht);break;case 10:Fr(o.type);break;case 22:case 23:mi(o),Lh(),r!==null&&W(go);break;case 24:Fr(Kt)}}function jl(r,o){try{var u=o.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var y=d.next;u=y;do{if((u.tag&r)===r){d=void 0;var _=u.create,T=u.inst;d=_(),T.destroy=d}u=u.next}while(u!==y)}}catch(R){ot(o,o.return,R)}}function Rs(r,o,u){try{var d=o.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var _=y.next;d=_;do{if((d.tag&r)===r){var T=d.inst,R=T.destroy;if(R!==void 0){T.destroy=void 0,y=o;var D=u,$=R;try{$()}catch(Q){ot(y,D,Q)}}}d=d.next}while(d!==_)}}catch(Q){ot(o,o.return,Q)}}function B0(r){var o=r.updateQueue;if(o!==null){var u=r.stateNode;try{Nv(o,u)}catch(d){ot(r,r.return,d)}}}function G0(r,o,u){u.props=xo(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(d){ot(r,o,d)}}function Jl(r,o){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof u=="function"?r.refCleanup=u(d):u.current=d}}catch(y){ot(r,o,y)}}function Cr(r,o){var u=r.ref,d=r.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(y){ot(r,o,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){ot(r,o,y)}else u.current=null}function z0(r){var o=r.type,u=r.memoizedProps,d=r.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(y){ot(r,r.return,y)}}function mp(r,o,u){try{var d=r.stateNode;eR(d,r.type,u,o),d[Pe]=o}catch(y){ot(r,r.return,y)}}function H0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Us(r.type)||r.tag===4}function gp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||H0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Us(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function yp(r,o,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(r),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Br));else if(d!==4&&(d===27&&Us(r.type)&&(u=r.stateNode,o=null),r=r.child,r!==null))for(yp(r,o,u),r=r.sibling;r!==null;)yp(r,o,u),r=r.sibling}function Xc(r,o,u){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?u.insertBefore(r,o):u.appendChild(r);else if(d!==4&&(d===27&&Us(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(Xc(r,o,u),r=r.sibling;r!==null;)Xc(r,o,u),r=r.sibling}function V0(r){var o=r.stateNode,u=r.memoizedProps;try{for(var d=r.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);_n(o,d,u),o[Ie]=r,o[Pe]=u}catch(_){ot(r,r.return,_)}}var Kr=!1,Qt=!1,vp=!1,F0=typeof WeakSet=="function"?WeakSet:Set,cn=null;function DA(r,o){if(r=r.containerInfo,Bp=yd,r=nv(r),dh(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var y=d.anchorOffset,_=d.focusNode;d=d.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var T=0,R=-1,D=-1,$=0,Q=0,ne=r,j=null;t:for(;;){for(var Y;ne!==u||y!==0&&ne.nodeType!==3||(R=T+y),ne!==_||d!==0&&ne.nodeType!==3||(D=T+d),ne.nodeType===3&&(T+=ne.nodeValue.length),(Y=ne.firstChild)!==null;)j=ne,ne=Y;for(;;){if(ne===r)break t;if(j===u&&++$===y&&(R=T),j===_&&++Q===d&&(D=T),(Y=ne.nextSibling)!==null)break;ne=j,j=ne.parentNode}ne=Y}u=R===-1||D===-1?null:{start:R,end:D}}else u=null}u=u||{start:0,end:0}}else u=null;for(Gp={focusedElem:r,selectionRange:u},yd=!1,cn=o;cn!==null;)if(o=cn,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,cn=r;else for(;cn!==null;){switch(o=cn,_=o.alternate,r=o.flags,o.tag){case 0:if((r&4)!==0&&(r=o.updateQueue,r=r!==null?r.events:null,r!==null))for(u=0;u<r.length;u++)y=r[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&_!==null){r=void 0,u=o,y=_.memoizedProps,_=_.memoizedState,d=u.stateNode;try{var ue=xo(u.type,y);r=d.getSnapshotBeforeUpdate(ue,_),d.__reactInternalSnapshotBeforeUpdate=r}catch(Se){ot(u,u.return,Se)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,u=r.nodeType,u===9)Vp(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Vp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,cn=r;break}cn=o.return}}function $0(r,o,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:Wr(r,u),d&4&&jl(5,u);break;case 1:if(Wr(r,u),d&4)if(r=u.stateNode,o===null)try{r.componentDidMount()}catch(T){ot(u,u.return,T)}else{var y=xo(u.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(y,o,r.__reactInternalSnapshotBeforeUpdate)}catch(T){ot(u,u.return,T)}}d&64&&B0(u),d&512&&Jl(u,u.return);break;case 3:if(Wr(r,u),d&64&&(r=u.updateQueue,r!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{Nv(r,o)}catch(T){ot(u,u.return,T)}}break;case 27:o===null&&d&4&&V0(u);case 26:case 5:Wr(r,u),o===null&&d&4&&z0(u),d&512&&Jl(u,u.return);break;case 12:Wr(r,u);break;case 31:Wr(r,u),d&4&&Y0(r,u);break;case 13:Wr(r,u),d&4&&K0(r,u),d&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=HA.bind(null,u),lR(r,u))));break;case 22:if(d=u.memoizedState!==null||Kr,!d){o=o!==null&&o.memoizedState!==null||Qt,y=Kr;var _=Qt;Kr=d,(Qt=o)&&!_?Qr(r,u,(u.subtreeFlags&8772)!==0):Wr(r,u),Kr=y,Qt=_}break;case 30:break;default:Wr(r,u)}}function j0(r){var o=r.alternate;o!==null&&(r.alternate=null,j0(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&zt(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var St=null,Qn=!1;function Xr(r,o,u){for(u=u.child;u!==null;)J0(r,o,u),u=u.sibling}function J0(r,o,u){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(_r,u)}catch{}switch(u.tag){case 26:Qt||Cr(u,o),Xr(r,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Qt||Cr(u,o);var d=St,y=Qn;Us(u.type)&&(St=u.stateNode,Qn=!1),Xr(r,o,u),nu(u.stateNode),St=d,Qn=y;break;case 5:Qt||Cr(u,o);case 6:if(d=St,y=Qn,St=null,Xr(r,o,u),St=d,Qn=y,St!==null)if(Qn)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(u.stateNode)}catch(_){ot(u,o,_)}else try{St.removeChild(u.stateNode)}catch(_){ot(u,o,_)}break;case 18:St!==null&&(Qn?(r=St,B_(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),Ma(r)):B_(St,u.stateNode));break;case 4:d=St,y=Qn,St=u.stateNode.containerInfo,Qn=!0,Xr(r,o,u),St=d,Qn=y;break;case 0:case 11:case 14:case 15:Rs(2,u,o),Qt||Rs(4,u,o),Xr(r,o,u);break;case 1:Qt||(Cr(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"&&G0(u,o,d)),Xr(r,o,u);break;case 21:Xr(r,o,u);break;case 22:Qt=(d=Qt)||u.memoizedState!==null,Xr(r,o,u),Qt=d;break;default:Xr(r,o,u)}}function Y0(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Ma(r)}catch(u){ot(o,o.return,u)}}}function K0(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Ma(r)}catch(u){ot(o,o.return,u)}}function PA(r){switch(r.tag){case 31:case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new F0),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new F0),o;default:throw Error(i(435,r.tag))}}function Wc(r,o){var u=PA(r);o.forEach(function(d){if(!u.has(d)){u.add(d);var y=VA.bind(null,r,d);d.then(y,y)}})}function Zn(r,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var y=u[d],_=r,T=o,R=T;e:for(;R!==null;){switch(R.tag){case 27:if(Us(R.type)){St=R.stateNode,Qn=!1;break e}break;case 5:St=R.stateNode,Qn=!1;break e;case 3:case 4:St=R.stateNode.containerInfo,Qn=!0;break e}R=R.return}if(St===null)throw Error(i(160));J0(_,T,y),St=null,Qn=!1,_=y.alternate,_!==null&&(_.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)X0(o,r),o=o.sibling}var ar=null;function X0(r,o){var u=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Zn(o,r),ei(r),d&4&&(Rs(3,r,r.return),jl(3,r),Rs(5,r,r.return));break;case 1:Zn(o,r),ei(r),d&512&&(Qt||u===null||Cr(u,u.return)),d&64&&Kr&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var y=ar;if(Zn(o,r),ei(r),d&512&&(Qt||u===null||Cr(u,u.return)),d&4){var _=u!==null?u.memoizedState:null;if(d=r.memoizedState,u===null)if(d===null)if(r.stateNode===null){e:{d=r.type,u=r.memoizedProps,y=y.ownerDocument||y;t:switch(d){case"title":_=y.getElementsByTagName("title")[0],(!_||_[At]||_[Ie]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=y.createElement(d),y.head.insertBefore(_,y.querySelector("head > title"))),_n(_,d,u),_[Ie]=r,qe(_),d=_;break e;case"link":var T=X_("link","href",y).get(d+(u.href||""));if(T){for(var R=0;R<T.length;R++)if(_=T[R],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){T.splice(R,1);break t}}_=y.createElement(d),_n(_,d,u),y.head.appendChild(_);break;case"meta":if(T=X_("meta","content",y).get(d+(u.content||""))){for(R=0;R<T.length;R++)if(_=T[R],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){T.splice(R,1);break t}}_=y.createElement(d),_n(_,d,u),y.head.appendChild(_);break;default:throw Error(i(468,d))}_[Ie]=r,qe(_),d=_}r.stateNode=d}else W_(y,r.type,r.stateNode);else r.stateNode=K_(y,d,r.memoizedProps);else _!==d?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,d===null?W_(y,r.type,r.stateNode):K_(y,d,r.memoizedProps)):d===null&&r.stateNode!==null&&mp(r,r.memoizedProps,u.memoizedProps)}break;case 27:Zn(o,r),ei(r),d&512&&(Qt||u===null||Cr(u,u.return)),u!==null&&d&4&&mp(r,r.memoizedProps,u.memoizedProps);break;case 5:if(Zn(o,r),ei(r),d&512&&(Qt||u===null||Cr(u,u.return)),r.flags&32){y=r.stateNode;try{ea(y,"")}catch(ue){ot(r,r.return,ue)}}d&4&&r.stateNode!=null&&(y=r.memoizedProps,mp(r,y,u!==null?u.memoizedProps:y)),d&1024&&(vp=!0);break;case 6:if(Zn(o,r),ei(r),d&4){if(r.stateNode===null)throw Error(i(162));d=r.memoizedProps,u=r.stateNode;try{u.nodeValue=d}catch(ue){ot(r,r.return,ue)}}break;case 3:if(hd=null,y=ar,ar=dd(o.containerInfo),Zn(o,r),ar=y,ei(r),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Ma(o.containerInfo)}catch(ue){ot(r,r.return,ue)}vp&&(vp=!1,W0(r));break;case 4:d=ar,ar=dd(r.stateNode.containerInfo),Zn(o,r),ei(r),ar=d;break;case 12:Zn(o,r),ei(r);break;case 31:Zn(o,r),ei(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Wc(r,d)));break;case 13:Zn(o,r),ei(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Zc=Gt()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Wc(r,d)));break;case 22:y=r.memoizedState!==null;var D=u!==null&&u.memoizedState!==null,$=Kr,Q=Qt;if(Kr=$||y,Qt=Q||D,Zn(o,r),Qt=Q,Kr=$,ei(r),d&8192)e:for(o=r.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||D||Kr||Qt||So(r)),u=null,o=r;;){if(o.tag===5||o.tag===26){if(u===null){D=u=o;try{if(_=D.stateNode,y)T=_.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{R=D.stateNode;var ne=D.memoizedProps.style,j=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;R.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ue){ot(D,D.return,ue)}}}else if(o.tag===6){if(u===null){D=o;try{D.stateNode.nodeValue=y?"":D.memoizedProps}catch(ue){ot(D,D.return,ue)}}}else if(o.tag===18){if(u===null){D=o;try{var Y=D.stateNode;y?G_(Y,!0):G_(D.stateNode,!1)}catch(ue){ot(D,D.return,ue)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=r.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,Wc(r,u))));break;case 19:Zn(o,r),ei(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Wc(r,d)));break;case 30:break;case 21:break;default:Zn(o,r),ei(r)}}function ei(r){var o=r.flags;if(o&2){try{for(var u,d=r.return;d!==null;){if(H0(d)){u=d;break}d=d.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var y=u.stateNode,_=gp(r);Xc(r,_,y);break;case 5:var T=u.stateNode;u.flags&32&&(ea(T,""),u.flags&=-33);var R=gp(r);Xc(r,R,T);break;case 3:case 4:var D=u.stateNode.containerInfo,$=gp(r);yp(r,$,D);break;default:throw Error(i(161))}}catch(Q){ot(r,r.return,Q)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function W0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;W0(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function Wr(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)$0(r,o.alternate,o),o=o.sibling}function So(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:Rs(4,o,o.return),So(o);break;case 1:Cr(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&G0(o,o.return,u),So(o);break;case 27:nu(o.stateNode);case 26:case 5:Cr(o,o.return),So(o);break;case 22:o.memoizedState===null&&So(o);break;case 30:So(o);break;default:So(o)}r=r.sibling}}function Qr(r,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,y=r,_=o,T=_.flags;switch(_.tag){case 0:case 11:case 15:Qr(y,_,u),jl(4,_);break;case 1:if(Qr(y,_,u),d=_,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch($){ot(d,d.return,$)}if(d=_,y=d.updateQueue,y!==null){var R=d.stateNode;try{var D=y.shared.hiddenCallbacks;if(D!==null)for(y.shared.hiddenCallbacks=null,y=0;y<D.length;y++)Rv(D[y],R)}catch($){ot(d,d.return,$)}}u&&T&64&&B0(_),Jl(_,_.return);break;case 27:V0(_);case 26:case 5:Qr(y,_,u),u&&d===null&&T&4&&z0(_),Jl(_,_.return);break;case 12:Qr(y,_,u);break;case 31:Qr(y,_,u),u&&T&4&&Y0(y,_);break;case 13:Qr(y,_,u),u&&T&4&&K0(y,_);break;case 22:_.memoizedState===null&&Qr(y,_,u),Jl(_,_.return);break;case 30:break;default:Qr(y,_,u)}o=o.sibling}}function _p(r,o){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&Dl(u))}function bp(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Dl(r))}function lr(r,o,u,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Q0(r,o,u,d),o=o.sibling}function Q0(r,o,u,d){var y=o.flags;switch(o.tag){case 0:case 11:case 15:lr(r,o,u,d),y&2048&&jl(9,o);break;case 1:lr(r,o,u,d);break;case 3:lr(r,o,u,d),y&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Dl(r)));break;case 12:if(y&2048){lr(r,o,u,d),r=o.stateNode;try{var _=o.memoizedProps,T=_.id,R=_.onPostCommit;typeof R=="function"&&R(T,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(D){ot(o,o.return,D)}}else lr(r,o,u,d);break;case 31:lr(r,o,u,d);break;case 13:lr(r,o,u,d);break;case 23:break;case 22:_=o.stateNode,T=o.alternate,o.memoizedState!==null?_._visibility&2?lr(r,o,u,d):Yl(r,o):_._visibility&2?lr(r,o,u,d):(_._visibility|=2,ba(r,o,u,d,(o.subtreeFlags&10256)!==0||!1)),y&2048&&_p(T,o);break;case 24:lr(r,o,u,d),y&2048&&bp(o.alternate,o);break;default:lr(r,o,u,d)}}function ba(r,o,u,d,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var _=r,T=o,R=u,D=d,$=T.flags;switch(T.tag){case 0:case 11:case 15:ba(_,T,R,D,y),jl(8,T);break;case 23:break;case 22:var Q=T.stateNode;T.memoizedState!==null?Q._visibility&2?ba(_,T,R,D,y):Yl(_,T):(Q._visibility|=2,ba(_,T,R,D,y)),y&&$&2048&&_p(T.alternate,T);break;case 24:ba(_,T,R,D,y),y&&$&2048&&bp(T.alternate,T);break;default:ba(_,T,R,D,y)}o=o.sibling}}function Yl(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=r,d=o,y=d.flags;switch(d.tag){case 22:Yl(u,d),y&2048&&_p(d.alternate,d);break;case 24:Yl(u,d),y&2048&&bp(d.alternate,d);break;default:Yl(u,d)}o=o.sibling}}var Kl=8192;function xa(r,o,u){if(r.subtreeFlags&Kl)for(r=r.child;r!==null;)Z0(r,o,u),r=r.sibling}function Z0(r,o,u){switch(r.tag){case 26:xa(r,o,u),r.flags&Kl&&r.memoizedState!==null&&bR(u,ar,r.memoizedState,r.memoizedProps);break;case 5:xa(r,o,u);break;case 3:case 4:var d=ar;ar=dd(r.stateNode.containerInfo),xa(r,o,u),ar=d;break;case 22:r.memoizedState===null&&(d=r.alternate,d!==null&&d.memoizedState!==null?(d=Kl,Kl=16777216,xa(r,o,u),Kl=d):xa(r,o,u));break;default:xa(r,o,u)}}function e_(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function Xl(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];cn=d,n_(d,r)}e_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)t_(r),r=r.sibling}function t_(r){switch(r.tag){case 0:case 11:case 15:Xl(r),r.flags&2048&&Rs(9,r,r.return);break;case 3:Xl(r);break;case 12:Xl(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,Qc(r)):Xl(r);break;default:Xl(r)}}function Qc(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];cn=d,n_(d,r)}e_(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:Rs(8,o,o.return),Qc(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Qc(o));break;default:Qc(o)}r=r.sibling}}function n_(r,o){for(;cn!==null;){var u=cn;switch(u.tag){case 0:case 11:case 15:Rs(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Dl(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,cn=d;else e:for(u=r;cn!==null;){d=cn;var y=d.sibling,_=d.return;if(j0(d),d===u){cn=null;break e}if(y!==null){y.return=_,cn=y;break e}cn=_}}}var UA={getCacheForType:function(r){var o=yn(Kt),u=o.data.get(r);return u===void 0&&(u=r(),o.data.set(r,u)),u},cacheSignal:function(){return yn(Kt).controller.signal}},OA=typeof WeakMap=="function"?WeakMap:Map,tt=0,ct=null,ze=null,$e=0,st=0,gi=null,Ns=!1,Sa=!1,xp=!1,Zr=0,Lt=0,ks=0,wo=0,Sp=0,yi=0,wa=0,Wl=null,ti=null,wp=!1,Zc=0,i_=0,ed=1/0,td=null,Ms=null,sn=0,Is=null,Ta=null,es=0,Tp=0,Ep=null,r_=null,Ql=0,Cp=null;function vi(){return(tt&2)!==0&&$e!==0?$e&-$e:V.T!==null?Ip():Le()}function s_(){if(yi===0)if(($e&536870912)===0||Je){var r=Cn;Cn<<=1,(Cn&3932160)===0&&(Cn=262144),yi=r}else yi=536870912;return r=pi.current,r!==null&&(r.flags|=32),yi}function ni(r,o,u){(r===ct&&(st===2||st===9)||r.cancelPendingCommit!==null)&&(Ea(r,0),Ds(r,$e,yi,!1)),me(r,u),((tt&2)===0||r!==ct)&&(r===ct&&((tt&2)===0&&(wo|=u),Lt===4&&Ds(r,$e,yi,!1)),Ar(r))}function o_(r,o,u){if((tt&6)!==0)throw Error(i(327));var d=!u&&(o&127)===0&&(o&r.expiredLanes)===0||Oi(r,o),y=d?BA(r,o):Rp(r,o,!0),_=d;do{if(y===0){Sa&&!d&&Ds(r,o,0,!1);break}else{if(u=r.current.alternate,_&&!LA(u)){y=Rp(r,o,!1),_=!1;continue}if(y===2){if(_=o,r.errorRecoveryDisabledLanes&_)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){o=T;e:{var R=r;y=Wl;var D=R.current.memoizedState.isDehydrated;if(D&&(Ea(R,T).flags|=256),T=Rp(R,T,!1),T!==2){if(xp&&!D){R.errorRecoveryDisabledLanes|=_,wo|=_,y=4;break e}_=ti,ti=y,_!==null&&(ti===null?ti=_:ti.push.apply(ti,_))}y=T}if(_=!1,y!==2)continue}}if(y===1){Ea(r,0),Ds(r,o,0,!0);break}e:{switch(d=r,_=y,_){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Ds(d,o,yi,!Ns);break e;case 2:ti=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(y=Zc+300-Gt(),10<y)){if(Ds(d,o,yi,!Ns),Ui(d,0,!0)!==0)break e;es=o,d.timeoutHandle=L_(a_.bind(null,d,u,ti,td,wp,o,yi,wo,wa,Ns,_,"Throttled",-0,0),y);break e}a_(d,u,ti,td,wp,o,yi,wo,wa,Ns,_,null,-0,0)}}break}while(!0);Ar(r)}function a_(r,o,u,d,y,_,T,R,D,$,Q,ne,j,Y){if(r.timeoutHandle=-1,ne=o.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Br},Z0(o,_,ne);var ue=(_&62914560)===_?Zc-Gt():(_&4194048)===_?i_-Gt():0;if(ue=xR(ne,ue),ue!==null){es=_,r.cancelPendingCommit=ue(m_.bind(null,r,o,_,u,d,y,T,R,D,Q,ne,null,j,Y)),Ds(r,_,T,!$);return}}m_(r,o,_,u,d,y,T,R,D)}function LA(r){for(var o=r;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var y=u[d],_=y.getSnapshot;y=y.value;try{if(!fi(_(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ds(r,o,u,d){o&=~Sp,o&=~wo,r.suspendedLanes|=o,r.pingedLanes&=~o,d&&(r.warmLanes|=o),d=r.expirationTimes;for(var y=o;0<y;){var _=31-Yt(y),T=1<<_;d[_]=-1,y&=~T}u!==0&&ae(r,u,o)}function nd(){return(tt&6)===0?(Zl(0),!1):!0}function Ap(){if(ze!==null){if(st===0)var r=ze.return;else r=ze,Vr=po=null,Vh(r),ma=null,Ul=0,r=ze;for(;r!==null;)q0(r.alternate,r),r=r.return;ze=null}}function Ea(r,o){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,iR(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),es=0,Ap(),ct=r,ze=u=zr(r.current,null),$e=o,st=0,gi=null,Ns=!1,Sa=Oi(r,o),xp=!1,wa=yi=Sp=wo=ks=Lt=0,ti=Wl=null,wp=!1,(o&8)!==0&&(o|=o&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=o;0<d;){var y=31-Yt(d),_=1<<y;o|=r[y],d&=~_}return Zr=o,wc(),u}function l_(r,o){ke=null,V.H=Vl,o===pa||o===Mc?(o=Tv(),st=3):o===Mh?(o=Tv(),st=4):st=o===sp?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,gi=o,ze===null&&(Lt=1,$c(r,Hi(o,r.current)))}function u_(){var r=pi.current;return r===null?!0:($e&4194048)===$e?ji===null:($e&62914560)===$e||($e&536870912)!==0?r===ji:!1}function c_(){var r=V.H;return V.H=Vl,r===null?Vl:r}function d_(){var r=V.A;return V.A=UA,r}function id(){Lt=4,Ns||($e&4194048)!==$e&&pi.current!==null||(Sa=!0),(ks&134217727)===0&&(wo&134217727)===0||ct===null||Ds(ct,$e,yi,!1)}function Rp(r,o,u){var d=tt;tt|=2;var y=c_(),_=d_();(ct!==r||$e!==o)&&(td=null,Ea(r,o)),o=!1;var T=Lt;e:do try{if(st!==0&&ze!==null){var R=ze,D=gi;switch(st){case 8:Ap(),T=6;break e;case 3:case 2:case 9:case 6:pi.current===null&&(o=!0);var $=st;if(st=0,gi=null,Ca(r,R,D,$),u&&Sa){T=0;break e}break;default:$=st,st=0,gi=null,Ca(r,R,D,$)}}qA(),T=Lt;break}catch(Q){l_(r,Q)}while(!0);return o&&r.shellSuspendCounter++,Vr=po=null,tt=d,V.H=y,V.A=_,ze===null&&(ct=null,$e=0,wc()),T}function qA(){for(;ze!==null;)f_(ze)}function BA(r,o){var u=tt;tt|=2;var d=c_(),y=d_();ct!==r||$e!==o?(td=null,ed=Gt()+500,Ea(r,o)):Sa=Oi(r,o);e:do try{if(st!==0&&ze!==null){o=ze;var _=gi;t:switch(st){case 1:st=0,gi=null,Ca(r,o,_,1);break;case 2:case 9:if(Sv(_)){st=0,gi=null,h_(o);break}o=function(){st!==2&&st!==9||ct!==r||(st=7),Ar(r)},_.then(o,o);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Sv(_)?(st=0,gi=null,h_(o)):(st=0,gi=null,Ca(r,o,_,7));break;case 5:var T=null;switch(ze.tag){case 26:T=ze.memoizedState;case 5:case 27:var R=ze;if(T?Q_(T):R.stateNode.complete){st=0,gi=null;var D=R.sibling;if(D!==null)ze=D;else{var $=R.return;$!==null?(ze=$,rd($)):ze=null}break t}}st=0,gi=null,Ca(r,o,_,5);break;case 6:st=0,gi=null,Ca(r,o,_,6);break;case 8:Ap(),Lt=6;break e;default:throw Error(i(462))}}GA();break}catch(Q){l_(r,Q)}while(!0);return Vr=po=null,V.H=d,V.A=y,tt=u,ze!==null?0:(ct=null,$e=0,wc(),Lt)}function GA(){for(;ze!==null&&!ir();)f_(ze)}function f_(r){var o=O0(r.alternate,r,Zr);r.memoizedProps=r.pendingProps,o===null?rd(r):ze=o}function h_(r){var o=r,u=o.alternate;switch(o.tag){case 15:case 0:o=k0(u,o,o.pendingProps,o.type,void 0,$e);break;case 11:o=k0(u,o,o.pendingProps,o.type.render,o.ref,$e);break;case 5:Vh(o);default:q0(u,o),o=ze=dv(o,Zr),o=O0(u,o,Zr)}r.memoizedProps=r.pendingProps,o===null?rd(r):ze=o}function Ca(r,o,u,d){Vr=po=null,Vh(o),ma=null,Ul=0;var y=o.return;try{if(RA(r,y,o,u,$e)){Lt=1,$c(r,Hi(u,r.current)),ze=null;return}}catch(_){if(y!==null)throw ze=y,_;Lt=1,$c(r,Hi(u,r.current)),ze=null;return}o.flags&32768?(Je||d===1?r=!0:Sa||($e&536870912)!==0?r=!1:(Ns=r=!0,(d===2||d===9||d===3||d===6)&&(d=pi.current,d!==null&&d.tag===13&&(d.flags|=16384))),p_(o,r)):rd(o)}function rd(r){var o=r;do{if((o.flags&32768)!==0){p_(o,Ns);return}r=o.return;var u=MA(o.alternate,o,Zr);if(u!==null){ze=u;return}if(o=o.sibling,o!==null){ze=o;return}ze=o=r}while(o!==null);Lt===0&&(Lt=5)}function p_(r,o){do{var u=IA(r.alternate,r);if(u!==null){u.flags&=32767,ze=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(r=r.sibling,r!==null)){ze=r;return}ze=r=u}while(r!==null);Lt=6,ze=null}function m_(r,o,u,d,y,_,T,R,D){r.cancelPendingCommit=null;do sd();while(sn!==0);if((tt&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(_=o.lanes|o.childLanes,_|=gh,Xe(r,u,_,T,R,D),r===ct&&(ze=ct=null,$e=0),Ta=o,Is=r,es=u,Tp=_,Ep=y,r_=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,FA(En,function(){return b_(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=V.T,V.T=null,y=X.p,X.p=2,T=tt,tt|=4;try{DA(r,o,u)}finally{tt=T,X.p=y,V.T=d}}sn=1,g_(),y_(),v_()}}function g_(){if(sn===1){sn=0;var r=Is,o=Ta,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=V.T,V.T=null;var d=X.p;X.p=2;var y=tt;tt|=4;try{X0(o,r);var _=Gp,T=nv(r.containerInfo),R=_.focusedElem,D=_.selectionRange;if(T!==R&&R&&R.ownerDocument&&tv(R.ownerDocument.documentElement,R)){if(D!==null&&dh(R)){var $=D.start,Q=D.end;if(Q===void 0&&(Q=$),"selectionStart"in R)R.selectionStart=$,R.selectionEnd=Math.min(Q,R.value.length);else{var ne=R.ownerDocument||document,j=ne&&ne.defaultView||window;if(j.getSelection){var Y=j.getSelection(),ue=R.textContent.length,Se=Math.min(D.start,ue),ut=D.end===void 0?Se:Math.min(D.end,ue);!Y.extend&&Se>ut&&(T=ut,ut=Se,Se=T);var H=ev(R,Se),L=ev(R,ut);if(H&&L&&(Y.rangeCount!==1||Y.anchorNode!==H.node||Y.anchorOffset!==H.offset||Y.focusNode!==L.node||Y.focusOffset!==L.offset)){var F=ne.createRange();F.setStart(H.node,H.offset),Y.removeAllRanges(),Se>ut?(Y.addRange(F),Y.extend(L.node,L.offset)):(F.setEnd(L.node,L.offset),Y.addRange(F))}}}}for(ne=[],Y=R;Y=Y.parentNode;)Y.nodeType===1&&ne.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ne.length;R++){var ee=ne[R];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}yd=!!Bp,Gp=Bp=null}finally{tt=y,X.p=d,V.T=u}}r.current=o,sn=2}}function y_(){if(sn===2){sn=0;var r=Is,o=Ta,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=V.T,V.T=null;var d=X.p;X.p=2;var y=tt;tt|=4;try{$0(r,o.alternate,o)}finally{tt=y,X.p=d,V.T=u}}sn=3}}function v_(){if(sn===4||sn===3){sn=0,vr();var r=Is,o=Ta,u=es,d=r_;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?sn=5:(sn=0,Ta=Is=null,__(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(Ms=null),Ut(u),o=o.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(_r,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=V.T,y=X.p,X.p=2,V.T=null;try{for(var _=r.onRecoverableError,T=0;T<d.length;T++){var R=d[T];_(R.value,{componentStack:R.stack})}}finally{V.T=o,X.p=y}}(es&3)!==0&&sd(),Ar(r),y=r.pendingLanes,(u&261930)!==0&&(y&42)!==0?r===Cp?Ql++:(Ql=0,Cp=r):Ql=0,Zl(0)}}function __(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,Dl(o)))}function sd(){return g_(),y_(),v_(),b_()}function b_(){if(sn!==5)return!1;var r=Is,o=Tp;Tp=0;var u=Ut(es),d=V.T,y=X.p;try{X.p=32>u?32:u,V.T=null,u=Ep,Ep=null;var _=Is,T=es;if(sn=0,Ta=Is=null,es=0,(tt&6)!==0)throw Error(i(331));var R=tt;if(tt|=4,t_(_.current),Q0(_,_.current,T,u),tt=R,Zl(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(_r,_)}catch{}return!0}finally{X.p=y,V.T=d,__(r,o)}}function x_(r,o,u){o=Hi(u,o),o=rp(r.stateNode,o,2),r=Es(r,o,2),r!==null&&(me(r,2),Ar(r))}function ot(r,o,u){if(r.tag===3)x_(r,r,u);else for(;o!==null;){if(o.tag===3){x_(o,r,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ms===null||!Ms.has(d))){r=Hi(u,r),u=S0(2),d=Es(o,u,2),d!==null&&(w0(u,d,o,r),me(d,2),Ar(d));break}}o=o.return}}function Np(r,o,u){var d=r.pingCache;if(d===null){d=r.pingCache=new OA;var y=new Set;d.set(o,y)}else y=d.get(o),y===void 0&&(y=new Set,d.set(o,y));y.has(u)||(xp=!0,y.add(u),r=zA.bind(null,r,o,u),o.then(r,r))}function zA(r,o,u){var d=r.pingCache;d!==null&&d.delete(o),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,ct===r&&($e&u)===u&&(Lt===4||Lt===3&&($e&62914560)===$e&&300>Gt()-Zc?(tt&2)===0&&Ea(r,0):Sp|=u,wa===$e&&(wa=0)),Ar(r)}function S_(r,o){o===0&&(o=gs()),r=co(r,o),r!==null&&(me(r,o),Ar(r))}function HA(r){var o=r.memoizedState,u=0;o!==null&&(u=o.retryLane),S_(r,u)}function VA(r,o){var u=0;switch(r.tag){case 31:case 13:var d=r.stateNode,y=r.memoizedState;y!==null&&(u=y.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(o),S_(r,u)}function FA(r,o){return Ii(r,o)}var od=null,Aa=null,kp=!1,ad=!1,Mp=!1,Ps=0;function Ar(r){r!==Aa&&r.next===null&&(Aa===null?od=Aa=r:Aa=Aa.next=r),ad=!0,kp||(kp=!0,jA())}function Zl(r,o){if(!Mp&&ad){Mp=!0;do for(var u=!1,d=od;d!==null;){if(r!==0){var y=d.pendingLanes;if(y===0)var _=0;else{var T=d.suspendedLanes,R=d.pingedLanes;_=(1<<31-Yt(42|r)+1)-1,_&=y&~(T&~R),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,C_(d,_))}else _=$e,_=Ui(d,d===ct?_:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(_&3)===0||Oi(d,_)||(u=!0,C_(d,_));d=d.next}while(u);Mp=!1}}function $A(){w_()}function w_(){ad=kp=!1;var r=0;Ps!==0&&nR()&&(r=Ps);for(var o=Gt(),u=null,d=od;d!==null;){var y=d.next,_=T_(d,o);_===0?(d.next=null,u===null?od=y:u.next=y,y===null&&(Aa=u)):(u=d,(r!==0||(_&3)!==0)&&(ad=!0)),d=y}sn!==0&&sn!==5||Zl(r),Ps!==0&&(Ps=0)}function T_(r,o){for(var u=r.suspendedLanes,d=r.pingedLanes,y=r.expirationTimes,_=r.pendingLanes&-62914561;0<_;){var T=31-Yt(_),R=1<<T,D=y[T];D===-1?((R&u)===0||(R&d)!==0)&&(y[T]=sr(R,o)):D<=o&&(r.expiredLanes|=R),_&=~R}if(o=ct,u=$e,u=Ui(r,r===o?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,u===0||r===o&&(st===2||st===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&ht(d),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||Oi(r,u)){if(o=u&-u,o===r.callbackPriority)return o;switch(d!==null&&ht(d),Ut(u)){case 2:case 8:u=bt;break;case 32:u=En;break;case 268435456:u=Di;break;default:u=En}return d=E_.bind(null,r),u=Ii(u,d),r.callbackPriority=o,r.callbackNode=u,o}return d!==null&&d!==null&&ht(d),r.callbackPriority=2,r.callbackNode=null,2}function E_(r,o){if(sn!==0&&sn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(sd()&&r.callbackNode!==u)return null;var d=$e;return d=Ui(r,r===ct?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(o_(r,d,o),T_(r,Gt()),r.callbackNode!=null&&r.callbackNode===u?E_.bind(null,r):null)}function C_(r,o){if(sd())return null;o_(r,o,!0)}function jA(){rR(function(){(tt&6)!==0?Ii(rr,$A):w_()})}function Ip(){if(Ps===0){var r=fa;r===0&&(r=Pi,Pi<<=1,(Pi&261888)===0&&(Pi=256)),Ps=r}return Ps}function A_(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:mc(""+r)}function R_(r,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,r.id&&u.setAttribute("form",r.id),o.parentNode.insertBefore(u,o),r=new FormData(r),u.parentNode.removeChild(u),r}function JA(r,o,u,d,y){if(o==="submit"&&u&&u.stateNode===y){var _=A_((y[Pe]||null).action),T=d.submitter;T&&(o=(o=T[Pe]||null)?A_(o.formAction):T.getAttribute("formAction"),o!==null&&(_=o,T=null));var R=new _c("action","action",null,d,y);r.push({event:R,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ps!==0){var D=T?R_(y,T):new FormData(y);Qh(u,{pending:!0,data:D,method:y.method,action:_},null,D)}}else typeof _=="function"&&(R.preventDefault(),D=T?R_(y,T):new FormData(y),Qh(u,{pending:!0,data:D,method:y.method,action:_},_,D))},currentTarget:y}]})}}for(var Dp=0;Dp<mh.length;Dp++){var Pp=mh[Dp],YA=Pp.toLowerCase(),KA=Pp[0].toUpperCase()+Pp.slice(1);or(YA,"on"+KA)}or(sv,"onAnimationEnd"),or(ov,"onAnimationIteration"),or(av,"onAnimationStart"),or("dblclick","onDoubleClick"),or("focusin","onFocus"),or("focusout","onBlur"),or(dA,"onTransitionRun"),or(fA,"onTransitionStart"),or(hA,"onTransitionCancel"),or(lv,"onTransitionEnd"),Li("onMouseEnter",["mouseout","mouseover"]),Li("onMouseLeave",["mouseout","mouseover"]),Li("onPointerEnter",["pointerout","pointerover"]),Li("onPointerLeave",["pointerout","pointerover"]),Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eu));function N_(r,o){o=(o&4)!==0;for(var u=0;u<r.length;u++){var d=r[u],y=d.event;d=d.listeners;e:{var _=void 0;if(o)for(var T=d.length-1;0<=T;T--){var R=d[T],D=R.instance,$=R.currentTarget;if(R=R.listener,D!==_&&y.isPropagationStopped())break e;_=R,y.currentTarget=$;try{_(y)}catch(Q){Sc(Q)}y.currentTarget=null,_=D}else for(T=0;T<d.length;T++){if(R=d[T],D=R.instance,$=R.currentTarget,R=R.listener,D!==_&&y.isPropagationStopped())break e;_=R,y.currentTarget=$;try{_(y)}catch(Q){Sc(Q)}y.currentTarget=null,_=D}}}}function He(r,o){var u=o[On];u===void 0&&(u=o[On]=new Set);var d=r+"__bubble";u.has(d)||(k_(o,r,2,!1),u.add(d))}function Up(r,o,u){var d=0;o&&(d|=4),k_(u,r,d,o)}var ld="_reactListening"+Math.random().toString(36).slice(2);function Op(r){if(!r[ld]){r[ld]=!0,di.forEach(function(u){u!=="selectionchange"&&(XA.has(u)||Up(u,!1,r),Up(u,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[ld]||(o[ld]=!0,Up("selectionchange",!1,o))}}function k_(r,o,u,d){switch(sb(o)){case 2:var y=TR;break;case 8:y=ER;break;default:y=Wp}u=y.bind(null,o,u,r),y=void 0,!nh||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),d?y!==void 0?r.addEventListener(o,u,{capture:!0,passive:y}):r.addEventListener(o,u,!0):y!==void 0?r.addEventListener(o,u,{passive:y}):r.addEventListener(o,u,!1)}function Lp(r,o,u,d,y){var _=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var R=d.stateNode.containerInfo;if(R===y)break;if(T===4)for(T=d.return;T!==null;){var D=T.tag;if((D===3||D===4)&&T.stateNode.containerInfo===y)return;T=T.return}for(;R!==null;){if(T=Rt(R),T===null)return;if(D=T.tag,D===5||D===6||D===26||D===27){d=_=T;continue e}R=R.parentNode}}d=d.return}Uy(function(){var $=_,Q=eh(u),ne=[];e:{var j=uv.get(r);if(j!==void 0){var Y=_c,ue=r;switch(r){case"keypress":if(yc(u)===0)break e;case"keydown":case"keyup":Y=VC;break;case"focusin":ue="focus",Y=oh;break;case"focusout":ue="blur",Y=oh;break;case"beforeblur":case"afterblur":Y=oh;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=qy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=MC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=jC;break;case sv:case ov:case av:Y=PC;break;case lv:Y=YC;break;case"scroll":case"scrollend":Y=NC;break;case"wheel":Y=XC;break;case"copy":case"cut":case"paste":Y=OC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Gy;break;case"toggle":case"beforetoggle":Y=QC}var Se=(o&4)!==0,ut=!Se&&(r==="scroll"||r==="scrollend"),H=Se?j!==null?j+"Capture":null:j;Se=[];for(var L=$,F;L!==null;){var ee=L;if(F=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||F===null||H===null||(ee=Sl(L,H),ee!=null&&Se.push(tu(L,ee,F))),ut)break;L=L.return}0<Se.length&&(j=new Y(j,ue,null,u,Q),ne.push({event:j,listeners:Se}))}}if((o&7)===0){e:{if(j=r==="mouseover"||r==="pointerover",Y=r==="mouseout"||r==="pointerout",j&&u!==Zf&&(ue=u.relatedTarget||u.fromElement)&&(Rt(ue)||ue[Ke]))break e;if((Y||j)&&(j=Q.window===Q?Q:(j=Q.ownerDocument)?j.defaultView||j.parentWindow:window,Y?(ue=u.relatedTarget||u.toElement,Y=$,ue=ue?Rt(ue):null,ue!==null&&(ut=a(ue),Se=ue.tag,ue!==ut||Se!==5&&Se!==27&&Se!==6)&&(ue=null)):(Y=null,ue=$),Y!==ue)){if(Se=qy,ee="onMouseLeave",H="onMouseEnter",L="mouse",(r==="pointerout"||r==="pointerover")&&(Se=Gy,ee="onPointerLeave",H="onPointerEnter",L="pointer"),ut=Y==null?j:xr(Y),F=ue==null?j:xr(ue),j=new Se(ee,L+"leave",Y,u,Q),j.target=ut,j.relatedTarget=F,ee=null,Rt(Q)===$&&(Se=new Se(H,L+"enter",ue,u,Q),Se.target=F,Se.relatedTarget=ut,ee=Se),ut=ee,Y&&ue)t:{for(Se=WA,H=Y,L=ue,F=0,ee=H;ee;ee=Se(ee))F++;ee=0;for(var ye=L;ye;ye=Se(ye))ee++;for(;0<F-ee;)H=Se(H),F--;for(;0<ee-F;)L=Se(L),ee--;for(;F--;){if(H===L||L!==null&&H===L.alternate){Se=H;break t}H=Se(H),L=Se(L)}Se=null}else Se=null;Y!==null&&M_(ne,j,Y,Se,!1),ue!==null&&ut!==null&&M_(ne,ut,ue,Se,!0)}}e:{if(j=$?xr($):window,Y=j.nodeName&&j.nodeName.toLowerCase(),Y==="select"||Y==="input"&&j.type==="file")var We=Yy;else if(jy(j))if(Ky)We=lA;else{We=oA;var fe=sA}else Y=j.nodeName,!Y||Y.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?$&&Qf($.elementType)&&(We=Yy):We=aA;if(We&&(We=We(r,$))){Jy(ne,We,u,Q);break e}fe&&fe(r,j,$),r==="focusout"&&$&&j.type==="number"&&$.memoizedProps.value!=null&&Wf(j,"number",j.value)}switch(fe=$?xr($):window,r){case"focusin":(jy(fe)||fe.contentEditable==="true")&&(ra=fe,fh=$,kl=null);break;case"focusout":kl=fh=ra=null;break;case"mousedown":hh=!0;break;case"contextmenu":case"mouseup":case"dragend":hh=!1,iv(ne,u,Q);break;case"selectionchange":if(cA)break;case"keydown":case"keyup":iv(ne,u,Q)}var Me;if(lh)e:{switch(r){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else ia?Fy(r,u)&&(je="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(je="onCompositionStart");je&&(zy&&u.locale!=="ko"&&(ia||je!=="onCompositionStart"?je==="onCompositionEnd"&&ia&&(Me=Oy()):(vs=Q,ih="value"in vs?vs.value:vs.textContent,ia=!0)),fe=ud($,je),0<fe.length&&(je=new By(je,r,null,u,Q),ne.push({event:je,listeners:fe}),Me?je.data=Me:(Me=$y(u),Me!==null&&(je.data=Me)))),(Me=eA?tA(r,u):nA(r,u))&&(je=ud($,"onBeforeInput"),0<je.length&&(fe=new By("onBeforeInput","beforeinput",null,u,Q),ne.push({event:fe,listeners:je}),fe.data=Me)),JA(ne,r,$,u,Q)}N_(ne,o)})}function tu(r,o,u){return{instance:r,listener:o,currentTarget:u}}function ud(r,o){for(var u=o+"Capture",d=[];r!==null;){var y=r,_=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||_===null||(y=Sl(r,u),y!=null&&d.unshift(tu(r,y,_)),y=Sl(r,o),y!=null&&d.push(tu(r,y,_))),r.tag===3)return d;r=r.return}return[]}function WA(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function M_(r,o,u,d,y){for(var _=o._reactName,T=[];u!==null&&u!==d;){var R=u,D=R.alternate,$=R.stateNode;if(R=R.tag,D!==null&&D===d)break;R!==5&&R!==26&&R!==27||$===null||(D=$,y?($=Sl(u,_),$!=null&&T.unshift(tu(u,$,D))):y||($=Sl(u,_),$!=null&&T.push(tu(u,$,D)))),u=u.return}T.length!==0&&r.push({event:o,listeners:T})}var QA=/\r\n?/g,ZA=/\u0000|\uFFFD/g;function I_(r){return(typeof r=="string"?r:""+r).replace(QA,`
`).replace(ZA,"")}function D_(r,o){return o=I_(o),I_(r)===o}function lt(r,o,u,d,y,_){switch(u){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||ea(r,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&ea(r,""+d);break;case"className":hc(r,"class",d);break;case"tabIndex":hc(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":hc(r,u,d);break;case"style":Dy(r,d,_);break;case"data":if(o!=="object"){hc(r,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||u!=="href")){r.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(u);break}d=mc(""+d),r.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(o!=="input"&&lt(r,o,"name",y.name,y,null),lt(r,o,"formEncType",y.formEncType,y,null),lt(r,o,"formMethod",y.formMethod,y,null),lt(r,o,"formTarget",y.formTarget,y,null)):(lt(r,o,"encType",y.encType,y,null),lt(r,o,"method",y.method,y,null),lt(r,o,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(u);break}d=mc(""+d),r.setAttribute(u,d);break;case"onClick":d!=null&&(r.onclick=Br);break;case"onScroll":d!=null&&He("scroll",r);break;case"onScrollEnd":d!=null&&He("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}u=mc(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,""+d):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":d===!0?r.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(u,d):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(u,d):r.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(u):r.setAttribute(u,d);break;case"popover":He("beforetoggle",r),He("toggle",r),fc(r,"popover",d);break;case"xlinkActuate":qr(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":qr(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":qr(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":qr(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":qr(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":qr(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":qr(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":qr(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":qr(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":fc(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=AC.get(u)||u,fc(r,u,d))}}function qp(r,o,u,d,y,_){switch(u){case"style":Dy(r,d,_);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"children":typeof d=="string"?ea(r,d):(typeof d=="number"||typeof d=="bigint")&&ea(r,""+d);break;case"onScroll":d!=null&&He("scroll",r);break;case"onScrollEnd":d!=null&&He("scrollend",r);break;case"onClick":d!=null&&(r.onclick=Br);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qo.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),_=r[Pe]||null,_=_!=null?_[u]:null,typeof _=="function"&&r.removeEventListener(o,_,y),typeof d=="function")){typeof _!="function"&&_!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(o,d,y);break e}u in r?r[u]=d:d===!0?r.setAttribute(u,""):fc(r,u,d)}}}function _n(r,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",r),He("load",r);var d=!1,y=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var T=u[_];if(T!=null)switch(_){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:lt(r,o,_,T,u,null)}}y&&lt(r,o,"srcSet",u.srcSet,u,null),d&&lt(r,o,"src",u.src,u,null);return;case"input":He("invalid",r);var R=_=T=y=null,D=null,$=null;for(d in u)if(u.hasOwnProperty(d)){var Q=u[d];if(Q!=null)switch(d){case"name":y=Q;break;case"type":T=Q;break;case"checked":D=Q;break;case"defaultChecked":$=Q;break;case"value":_=Q;break;case"defaultValue":R=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,o));break;default:lt(r,o,d,Q,u,null)}}Ny(r,_,R,D,$,T,y,!1);return;case"select":He("invalid",r),d=T=_=null;for(y in u)if(u.hasOwnProperty(y)&&(R=u[y],R!=null))switch(y){case"value":_=R;break;case"defaultValue":T=R;break;case"multiple":d=R;default:lt(r,o,y,R,u,null)}o=_,u=T,r.multiple=!!d,o!=null?Zo(r,!!d,o,!1):u!=null&&Zo(r,!!d,u,!0);return;case"textarea":He("invalid",r),_=y=d=null;for(T in u)if(u.hasOwnProperty(T)&&(R=u[T],R!=null))switch(T){case"value":d=R;break;case"defaultValue":y=R;break;case"children":_=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:lt(r,o,T,R,u,null)}My(r,d,y,_);return;case"option":for(D in u)if(u.hasOwnProperty(D)&&(d=u[D],d!=null))switch(D){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:lt(r,o,D,d,u,null)}return;case"dialog":He("beforetoggle",r),He("toggle",r),He("cancel",r),He("close",r);break;case"iframe":case"object":He("load",r);break;case"video":case"audio":for(d=0;d<eu.length;d++)He(eu[d],r);break;case"image":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"embed":case"source":case"link":He("error",r),He("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in u)if(u.hasOwnProperty($)&&(d=u[$],d!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:lt(r,o,$,d,u,null)}return;default:if(Qf(o)){for(Q in u)u.hasOwnProperty(Q)&&(d=u[Q],d!==void 0&&qp(r,o,Q,d,u,void 0));return}}for(R in u)u.hasOwnProperty(R)&&(d=u[R],d!=null&&lt(r,o,R,d,u,null))}function eR(r,o,u,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,_=null,T=null,R=null,D=null,$=null,Q=null;for(Y in u){var ne=u[Y];if(u.hasOwnProperty(Y)&&ne!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=ne;default:d.hasOwnProperty(Y)||lt(r,o,Y,null,d,ne)}}for(var j in d){var Y=d[j];if(ne=u[j],d.hasOwnProperty(j)&&(Y!=null||ne!=null))switch(j){case"type":_=Y;break;case"name":y=Y;break;case"checked":$=Y;break;case"defaultChecked":Q=Y;break;case"value":T=Y;break;case"defaultValue":R=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,o));break;default:Y!==ne&&lt(r,o,j,Y,d,ne)}}Xf(r,T,R,D,$,Q,_,y);return;case"select":Y=T=R=j=null;for(_ in u)if(D=u[_],u.hasOwnProperty(_)&&D!=null)switch(_){case"value":break;case"multiple":Y=D;default:d.hasOwnProperty(_)||lt(r,o,_,null,d,D)}for(y in d)if(_=d[y],D=u[y],d.hasOwnProperty(y)&&(_!=null||D!=null))switch(y){case"value":j=_;break;case"defaultValue":R=_;break;case"multiple":T=_;default:_!==D&&lt(r,o,y,_,d,D)}o=R,u=T,d=Y,j!=null?Zo(r,!!u,j,!1):!!d!=!!u&&(o!=null?Zo(r,!!u,o,!0):Zo(r,!!u,u?[]:"",!1));return;case"textarea":Y=j=null;for(R in u)if(y=u[R],u.hasOwnProperty(R)&&y!=null&&!d.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:lt(r,o,R,null,d,y)}for(T in d)if(y=d[T],_=u[T],d.hasOwnProperty(T)&&(y!=null||_!=null))switch(T){case"value":j=y;break;case"defaultValue":Y=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==_&&lt(r,o,T,y,d,_)}ky(r,j,Y);return;case"option":for(var ue in u)if(j=u[ue],u.hasOwnProperty(ue)&&j!=null&&!d.hasOwnProperty(ue))switch(ue){case"selected":r.selected=!1;break;default:lt(r,o,ue,null,d,j)}for(D in d)if(j=d[D],Y=u[D],d.hasOwnProperty(D)&&j!==Y&&(j!=null||Y!=null))switch(D){case"selected":r.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:lt(r,o,D,j,d,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in u)j=u[Se],u.hasOwnProperty(Se)&&j!=null&&!d.hasOwnProperty(Se)&&lt(r,o,Se,null,d,j);for($ in d)if(j=d[$],Y=u[$],d.hasOwnProperty($)&&j!==Y&&(j!=null||Y!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(i(137,o));break;default:lt(r,o,$,j,d,Y)}return;default:if(Qf(o)){for(var ut in u)j=u[ut],u.hasOwnProperty(ut)&&j!==void 0&&!d.hasOwnProperty(ut)&&qp(r,o,ut,void 0,d,j);for(Q in d)j=d[Q],Y=u[Q],!d.hasOwnProperty(Q)||j===Y||j===void 0&&Y===void 0||qp(r,o,Q,j,d,Y);return}}for(var H in u)j=u[H],u.hasOwnProperty(H)&&j!=null&&!d.hasOwnProperty(H)&&lt(r,o,H,null,d,j);for(ne in d)j=d[ne],Y=u[ne],!d.hasOwnProperty(ne)||j===Y||j==null&&Y==null||lt(r,o,ne,j,d,Y)}function P_(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tR(){if(typeof performance.getEntriesByType=="function"){for(var r=0,o=0,u=performance.getEntriesByType("resource"),d=0;d<u.length;d++){var y=u[d],_=y.transferSize,T=y.initiatorType,R=y.duration;if(_&&R&&P_(T)){for(T=0,R=y.responseEnd,d+=1;d<u.length;d++){var D=u[d],$=D.startTime;if($>R)break;var Q=D.transferSize,ne=D.initiatorType;Q&&P_(ne)&&(D=D.responseEnd,T+=Q*(D<R?1:(R-$)/(D-$)))}if(--d,o+=8*(_+T)/(y.duration/1e3),r++,10<r)break}}if(0<r)return o/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Bp=null,Gp=null;function cd(r){return r.nodeType===9?r:r.ownerDocument}function U_(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function O_(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function zp(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Hp=null;function nR(){var r=window.event;return r&&r.type==="popstate"?r===Hp?!1:(Hp=r,!0):(Hp=null,!1)}var L_=typeof setTimeout=="function"?setTimeout:void 0,iR=typeof clearTimeout=="function"?clearTimeout:void 0,q_=typeof Promise=="function"?Promise:void 0,rR=typeof queueMicrotask=="function"?queueMicrotask:typeof q_<"u"?function(r){return q_.resolve(null).then(r).catch(sR)}:L_;function sR(r){setTimeout(function(){throw r})}function Us(r){return r==="head"}function B_(r,o){var u=o,d=0;do{var y=u.nextSibling;if(r.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(d===0){r.removeChild(y),Ma(o);return}d--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")d++;else if(u==="html")nu(r.ownerDocument.documentElement);else if(u==="head"){u=r.ownerDocument.head,nu(u);for(var _=u.firstChild;_;){var T=_.nextSibling,R=_.nodeName;_[At]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&_.rel.toLowerCase()==="stylesheet"||u.removeChild(_),_=T}}else u==="body"&&nu(r.ownerDocument.body);u=y}while(u);Ma(o)}function G_(r,o){var u=r;r=0;do{var d=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),d&&d.nodeType===8)if(u=d.data,u==="/$"){if(r===0)break;r--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||r++;u=d}while(u)}function Vp(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Vp(u),zt(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function oR(r,o,u,d){for(;r.nodeType===1;){var y=u;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[At])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(_=r.getAttribute("rel"),_==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(_!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(_=r.getAttribute("src"),(_!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&_&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var _=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===_)return r}else return r;if(r=Ji(r.nextSibling),r===null)break}return null}function aR(r,o,u){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=Ji(r.nextSibling),r===null))return null;return r}function z_(r,o){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Ji(r.nextSibling),r===null))return null;return r}function Fp(r){return r.data==="$?"||r.data==="$~"}function $p(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function lR(r,o){var u=r.ownerDocument;if(r.data==="$~")r._reactRetry=o;else if(r.data!=="$?"||u.readyState!=="loading")o();else{var d=function(){o(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function Ji(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return r}var jp=null;function H_(r){r=r.nextSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"||u==="/&"){if(o===0)return Ji(r.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}r=r.nextSibling}return null}function V_(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return r;o--}else u!=="/$"&&u!=="/&"||o++}r=r.previousSibling}return null}function F_(r,o,u){switch(o=cd(u),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function nu(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);zt(r)}var Yi=new Map,$_=new Set;function dd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ts=X.d;X.d={f:uR,r:cR,D:dR,C:fR,L:hR,m:pR,X:gR,S:mR,M:yR};function uR(){var r=ts.f(),o=nd();return r||o}function cR(r){var o=Xn(r);o!==null&&o.tag===5&&o.type==="form"?l0(o):ts.r(r)}var Ra=typeof document>"u"?null:document;function j_(r,o,u){var d=Ra;if(d&&typeof o=="string"&&o){var y=Gi(o);y='link[rel="'+r+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),$_.has(y)||($_.add(y),r={rel:r,crossOrigin:u,href:o},d.querySelector(y)===null&&(o=d.createElement("link"),_n(o,"link",r),qe(o),d.head.appendChild(o)))}}function dR(r){ts.D(r),j_("dns-prefetch",r,null)}function fR(r,o){ts.C(r,o),j_("preconnect",r,o)}function hR(r,o,u){ts.L(r,o,u);var d=Ra;if(d&&r&&o){var y='link[rel="preload"][as="'+Gi(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Gi(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Gi(u.imageSizes)+'"]')):y+='[href="'+Gi(r)+'"]';var _=y;switch(o){case"style":_=Na(r);break;case"script":_=ka(r)}Yi.has(_)||(r=v({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:r,as:o},u),Yi.set(_,r),d.querySelector(y)!==null||o==="style"&&d.querySelector(iu(_))||o==="script"&&d.querySelector(ru(_))||(o=d.createElement("link"),_n(o,"link",r),qe(o),d.head.appendChild(o)))}}function pR(r,o){ts.m(r,o);var u=Ra;if(u&&r){var d=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Gi(d)+'"][href="'+Gi(r)+'"]',_=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=ka(r)}if(!Yi.has(_)&&(r=v({rel:"modulepreload",href:r},o),Yi.set(_,r),u.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(ru(_)))return}d=u.createElement("link"),_n(d,"link",r),qe(d),u.head.appendChild(d)}}}function mR(r,o,u){ts.S(r,o,u);var d=Ra;if(d&&r){var y=Nt(d).hoistableStyles,_=Na(r);o=o||"default";var T=y.get(_);if(!T){var R={loading:0,preload:null};if(T=d.querySelector(iu(_)))R.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":o},u),(u=Yi.get(_))&&Jp(r,u);var D=T=d.createElement("link");qe(D),_n(D,"link",r),D._p=new Promise(function($,Q){D.onload=$,D.onerror=Q}),D.addEventListener("load",function(){R.loading|=1}),D.addEventListener("error",function(){R.loading|=2}),R.loading|=4,fd(T,o,d)}T={type:"stylesheet",instance:T,count:1,state:R},y.set(_,T)}}}function gR(r,o){ts.X(r,o);var u=Ra;if(u&&r){var d=Nt(u).hoistableScripts,y=ka(r),_=d.get(y);_||(_=u.querySelector(ru(y)),_||(r=v({src:r,async:!0},o),(o=Yi.get(y))&&Yp(r,o),_=u.createElement("script"),qe(_),_n(_,"link",r),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},d.set(y,_))}}function yR(r,o){ts.M(r,o);var u=Ra;if(u&&r){var d=Nt(u).hoistableScripts,y=ka(r),_=d.get(y);_||(_=u.querySelector(ru(y)),_||(r=v({src:r,async:!0,type:"module"},o),(o=Yi.get(y))&&Yp(r,o),_=u.createElement("script"),qe(_),_n(_,"link",r),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},d.set(y,_))}}function J_(r,o,u,d){var y=(y=_e.current)?dd(y):null;if(!y)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Na(u.href),u=Nt(y).hoistableStyles,d=u.get(o),d||(d={type:"style",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=Na(u.href);var _=Nt(y).hoistableStyles,T=_.get(r);if(T||(y=y.ownerDocument||y,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(r,T),(_=y.querySelector(iu(r)))&&!_._p&&(T.instance=_,T.state.loading=5),Yi.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Yi.set(r,u),_||vR(y,r,u,T.state))),o&&d===null)throw Error(i(528,""));return T}if(o&&d!==null)throw Error(i(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=ka(u),u=Nt(y).hoistableScripts,d=u.get(o),d||(d={type:"script",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Na(r){return'href="'+Gi(r)+'"'}function iu(r){return'link[rel="stylesheet"]['+r+"]"}function Y_(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function vR(r,o,u,d){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=r.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),_n(o,"link",u),qe(o),r.head.appendChild(o))}function ka(r){return'[src="'+Gi(r)+'"]'}function ru(r){return"script[async]"+r}function K_(r,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var d=r.querySelector('style[data-href~="'+Gi(u.href)+'"]');if(d)return o.instance=d,qe(d),d;var y=v({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),qe(d),_n(d,"style",y),fd(d,u.precedence,r),o.instance=d;case"stylesheet":y=Na(u.href);var _=r.querySelector(iu(y));if(_)return o.state.loading|=4,o.instance=_,qe(_),_;d=Y_(u),(y=Yi.get(y))&&Jp(d,y),_=(r.ownerDocument||r).createElement("link"),qe(_);var T=_;return T._p=new Promise(function(R,D){T.onload=R,T.onerror=D}),_n(_,"link",d),o.state.loading|=4,fd(_,u.precedence,r),o.instance=_;case"script":return _=ka(u.src),(y=r.querySelector(ru(_)))?(o.instance=y,qe(y),y):(d=u,(y=Yi.get(_))&&(d=v({},u),Yp(d,y)),r=r.ownerDocument||r,y=r.createElement("script"),qe(y),_n(y,"link",d),r.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,fd(d,u.precedence,r));return o.instance}function fd(r,o,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,_=y,T=0;T<d.length;T++){var R=d[T];if(R.dataset.precedence===o)_=R;else if(_!==y)break}_?_.parentNode.insertBefore(r,_.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(r,o.firstChild))}function Jp(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function Yp(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var hd=null;function X_(r,o,u){if(hd===null){var d=new Map,y=hd=new Map;y.set(u,d)}else y=hd,d=y.get(u),d||(d=new Map,y.set(u,d));if(d.has(r))return d;for(d.set(r,null),u=u.getElementsByTagName(r),y=0;y<u.length;y++){var _=u[y];if(!(_[At]||_[Ie]||r==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var T=_.getAttribute(o)||"";T=r+T;var R=d.get(T);R?R.push(_):d.set(T,[_])}}return d}function W_(r,o,u){r=r.ownerDocument||r,r.head.insertBefore(u,o==="title"?r.querySelector("head > title"):null)}function _R(r,o,u){if(u===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Q_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function bR(r,o,u,d){if(u.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=Na(d.href),_=o.querySelector(iu(y));if(_){o=_._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(r.count++,r=pd.bind(r),o.then(r,r)),u.state.loading|=4,u.instance=_,qe(_);return}_=o.ownerDocument||o,d=Y_(d),(y=Yi.get(y))&&Jp(d,y),_=_.createElement("link"),qe(_);var T=_;T._p=new Promise(function(R,D){T.onload=R,T.onerror=D}),_n(_,"link",d),u.instance=_}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(r.count++,u=pd.bind(r),o.addEventListener("load",u),o.addEventListener("error",u))}}var Kp=0;function xR(r,o){return r.stylesheets&&r.count===0&&gd(r,r.stylesheets),0<r.count||0<r.imgCount?function(u){var d=setTimeout(function(){if(r.stylesheets&&gd(r,r.stylesheets),r.unsuspend){var _=r.unsuspend;r.unsuspend=null,_()}},6e4+o);0<r.imgBytes&&Kp===0&&(Kp=62500*tR());var y=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&gd(r,r.stylesheets),r.unsuspend)){var _=r.unsuspend;r.unsuspend=null,_()}},(r.imgBytes>Kp?50:800)+o);return r.unsuspend=u,function(){r.unsuspend=null,clearTimeout(d),clearTimeout(y)}}:null}function pd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gd(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var md=null;function gd(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,md=new Map,o.forEach(SR,r),md=null,pd.call(r))}function SR(r,o){if(!(o.state.loading&4)){var u=md.get(r);if(u)var d=u.get(null);else{u=new Map,md.set(r,u);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<y.length;_++){var T=y[_];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(u.set(T.dataset.precedence,T),d=T)}d&&u.set(null,d)}y=o.instance,T=y.getAttribute("data-precedence"),_=u.get(T)||d,_===d&&u.set(null,y),u.set(T,y),this.count++,d=pd.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),_?_.parentNode.insertBefore(y,_.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),o.state.loading|=4}}var su={$$typeof:k,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function wR(r,o,u,d,y,_,T,R,D){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ce(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ce(0),this.hiddenUpdates=Ce(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=_,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Z_(r,o,u,d,y,_,T,R,D,$,Q,ne){return r=new wR(r,o,u,T,D,$,Q,ne,R),o=1,_===!0&&(o|=24),_=hi(3,null,null,o),r.current=_,_.stateNode=r,o=Rh(),o.refCount++,r.pooledCache=o,o.refCount++,_.memoizedState={element:d,isDehydrated:u,cache:o},Ih(_),r}function eb(r){return r?(r=aa,r):aa}function tb(r,o,u,d,y,_){y=eb(y),d.context===null?d.context=y:d.pendingContext=y,d=Ts(o),d.payload={element:u},_=_===void 0?null:_,_!==null&&(d.callback=_),u=Es(r,d,o),u!==null&&(ni(u,r,o),Ll(u,r,o))}function nb(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<o?u:o}}function Xp(r,o){nb(r,o),(r=r.alternate)&&nb(r,o)}function ib(r){if(r.tag===13||r.tag===31){var o=co(r,67108864);o!==null&&ni(o,r,67108864),Xp(r,67108864)}}function rb(r){if(r.tag===13||r.tag===31){var o=vi();o=Ee(o);var u=co(r,o);u!==null&&ni(u,r,o),Xp(r,o)}}var yd=!0;function TR(r,o,u,d){var y=V.T;V.T=null;var _=X.p;try{X.p=2,Wp(r,o,u,d)}finally{X.p=_,V.T=y}}function ER(r,o,u,d){var y=V.T;V.T=null;var _=X.p;try{X.p=8,Wp(r,o,u,d)}finally{X.p=_,V.T=y}}function Wp(r,o,u,d){if(yd){var y=Qp(d);if(y===null)Lp(r,o,d,vd,u),ob(r,d);else if(AR(y,r,o,u,d))d.stopPropagation();else if(ob(r,d),o&4&&-1<CR.indexOf(r)){for(;y!==null;){var _=Xn(y);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var T=rn(_.pendingLanes);if(T!==0){var R=_;for(R.pendingLanes|=2,R.entangledLanes|=2;T;){var D=1<<31-Yt(T);R.entanglements[1]|=D,T&=~D}Ar(_),(tt&6)===0&&(ed=Gt()+500,Zl(0))}}break;case 31:case 13:R=co(_,2),R!==null&&ni(R,_,2),nd(),Xp(_,2)}if(_=Qp(d),_===null&&Lp(r,o,d,vd,u),_===y)break;y=_}y!==null&&d.stopPropagation()}else Lp(r,o,d,null,u)}}function Qp(r){return r=eh(r),Zp(r)}var vd=null;function Zp(r){if(vd=null,r=Rt(r),r!==null){var o=a(r);if(o===null)r=null;else{var u=o.tag;if(u===13){if(r=l(o),r!==null)return r;r=null}else if(u===31){if(r=c(o),r!==null)return r;r=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return vd=r,null}function sb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jt()){case rr:return 2;case bt:return 8;case En:case Kn:return 32;case Di:return 268435456;default:return 32}default:return 32}}var em=!1,Os=null,Ls=null,qs=null,ou=new Map,au=new Map,Bs=[],CR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ob(r,o){switch(r){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":ou.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":au.delete(o.pointerId)}}function lu(r,o,u,d,y,_){return r===null||r.nativeEvent!==_?(r={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:_,targetContainers:[y]},o!==null&&(o=Xn(o),o!==null&&ib(o)),r):(r.eventSystemFlags|=d,o=r.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),r)}function AR(r,o,u,d,y){switch(o){case"focusin":return Os=lu(Os,r,o,u,d,y),!0;case"dragenter":return Ls=lu(Ls,r,o,u,d,y),!0;case"mouseover":return qs=lu(qs,r,o,u,d,y),!0;case"pointerover":var _=y.pointerId;return ou.set(_,lu(ou.get(_)||null,r,o,u,d,y)),!0;case"gotpointercapture":return _=y.pointerId,au.set(_,lu(au.get(_)||null,r,o,u,d,y)),!0}return!1}function ab(r){var o=Rt(r.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){r.blockedOn=o,xt(r.priority,function(){rb(u)});return}}else if(o===31){if(o=c(u),o!==null){r.blockedOn=o,xt(r.priority,function(){rb(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function _d(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var u=Qp(r.nativeEvent);if(u===null){u=r.nativeEvent;var d=new u.constructor(u.type,u);Zf=d,u.target.dispatchEvent(d),Zf=null}else return o=Xn(u),o!==null&&ib(o),r.blockedOn=u,!1;o.shift()}return!0}function lb(r,o,u){_d(r)&&u.delete(o)}function RR(){em=!1,Os!==null&&_d(Os)&&(Os=null),Ls!==null&&_d(Ls)&&(Ls=null),qs!==null&&_d(qs)&&(qs=null),ou.forEach(lb),au.forEach(lb)}function bd(r,o){r.blockedOn===o&&(r.blockedOn=null,em||(em=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,RR)))}var xd=null;function ub(r){xd!==r&&(xd=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){xd===r&&(xd=null);for(var o=0;o<r.length;o+=3){var u=r[o],d=r[o+1],y=r[o+2];if(typeof d!="function"){if(Zp(d||u)===null)continue;break}var _=Xn(u);_!==null&&(r.splice(o,3),o-=3,Qh(_,{pending:!0,data:y,method:u.method,action:d},d,y))}}))}function Ma(r){function o(D){return bd(D,r)}Os!==null&&bd(Os,r),Ls!==null&&bd(Ls,r),qs!==null&&bd(qs,r),ou.forEach(o),au.forEach(o);for(var u=0;u<Bs.length;u++){var d=Bs[u];d.blockedOn===r&&(d.blockedOn=null)}for(;0<Bs.length&&(u=Bs[0],u.blockedOn===null);)ab(u),u.blockedOn===null&&Bs.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var y=u[d],_=u[d+1],T=y[Pe]||null;if(typeof _=="function")T||ub(u);else if(T){var R=null;if(_&&_.hasAttribute("formAction")){if(y=_,T=_[Pe]||null)R=T.formAction;else if(Zp(y)!==null)continue}else R=T.action;typeof R=="function"?u[d+1]=R:(u.splice(d,3),d-=3),ub(u)}}}function cb(){function r(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(T){return y=T})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),d||setTimeout(u,20)}function u(){if(!d&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,y=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){d=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function tm(r){this._internalRoot=r}Sd.prototype.render=tm.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var u=o.current,d=vi();tb(u,d,r,o,null,null)},Sd.prototype.unmount=tm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;tb(r.current,2,null,r,null,null),nd(),o[Ke]=null}};function Sd(r){this._internalRoot=r}Sd.prototype.unstable_scheduleHydration=function(r){if(r){var o=Le();r={blockedOn:null,target:r,priority:o};for(var u=0;u<Bs.length&&o!==0&&o<Bs[u].priority;u++);Bs.splice(u,0,r),u===0&&ab(r)}};var db=e.version;if(db!=="19.2.3")throw Error(i(527,db,"19.2.3"));X.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(o),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var NR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wd.isDisabled&&wd.supportsFiber)try{_r=wd.inject(NR),Ct=wd}catch{}}return cu.createRoot=function(r,o){if(!s(r))throw Error(i(299));var u=!1,d="",y=v0,_=_0,T=b0;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError)),o=Z_(r,1,!1,null,null,u,d,null,y,_,T,cb),r[Ke]=o.current,Op(r),new tm(o)},cu.hydrateRoot=function(r,o,u){if(!s(r))throw Error(i(299));var d=!1,y="",_=v0,T=_0,R=b0,D=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(T=u.onCaughtError),u.onRecoverableError!==void 0&&(R=u.onRecoverableError),u.formState!==void 0&&(D=u.formState)),o=Z_(r,1,!0,o,u??null,d,y,D,_,T,R,cb),o.context=eb(null),u=o.current,d=vi(),d=Ee(d),y=Ts(d),y.callback=null,Es(u,y,d),u=d,o.current.lanes=u,me(o,u),Ar(o),r[Ke]=o.current,Op(r),new Sd(o)},cu.version="19.2.3",cu}var xb;function BR(){if(xb)return rm.exports;xb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rm.exports=qR(),rm.exports}var GR=BR();const zR=xw(GR);function Mf(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function HR(t,e,n,i){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function c(m){try{h(i.next(m))}catch(v){l(v)}}function f(m){try{h(i.throw(m))}catch(v){l(v)}}function h(m){m.done?a(m.value):s(m.value).then(c,f)}h((i=i.apply(t,e||[])).next())})}const VR=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Ug extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class FR extends Ug{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Sb extends Ug{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class wb extends Ug{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Om;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Om||(Om={}));class $R{constructor(e,{headers:n={},customFetch:i,region:s=Om.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=VR(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return HR(this,arguments,void 0,function*(n,i={}){var s;let a,l;try{const{headers:c,method:f,body:h,signal:m,timeout:v}=i;let b={},{region:S}=i;S||(S=this.region);const E=new URL(`${this.url}/${n}`);S&&S!=="any"&&(b["x-region"]=S,E.searchParams.set("forceFunctionRegion",S));let w;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",w=h):typeof h=="string"?(b["Content-Type"]="text/plain",w=h):typeof FormData<"u"&&h instanceof FormData?w=h:(b["Content-Type"]="application/json",w=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?w=JSON.stringify(h):w=h;let C=m;v&&(l=new AbortController,a=setTimeout(()=>l.abort(),v),m?(C=l.signal,m.addEventListener("abort",()=>l.abort())):C=l.signal);const A=yield this.fetch(E.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),c),body:w,signal:C}).catch(U=>{throw new FR(U)}),N=A.headers.get("x-relay-error");if(N&&N==="true")throw new Sb(A);if(!A.ok)throw new wb(A);let k=((s=A.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),M;return k==="application/json"?M=yield A.json():k==="application/octet-stream"||k==="application/pdf"?M=yield A.blob():k==="text/event-stream"?M=A:k==="multipart/form-data"?M=yield A.formData():M=yield A.text(),{data:M,error:null,response:A}}catch(c){return{data:null,error:c,response:c instanceof wb||c instanceof Sb?c.context:void 0}}finally{a&&clearTimeout(a)}})}}var jR=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},JR=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let s=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let l=null,c=null,f=null,h=a.status,m=a.statusText;if(a.ok){var v,b;if(n.method!=="HEAD"){var S;const A=await a.text();A===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((S=n.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?c=A:c=JSON.parse(A))}const w=(v=n.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),C=(b=a.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");w&&C&&C.length>1&&(f=parseInt(C[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(c)&&(c.length>1?(l={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,f=null,h=406,m="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var E;const w=await a.text();try{l=JSON.parse(w),Array.isArray(l)&&a.status===404&&(c=[],l=null,h=200,m="OK")}catch{a.status===404&&w===""?(h=204,m="No Content"):l={message:w}}if(l&&n.isMaybeSingle&&(!(l==null||(E=l.details)===null||E===void 0)&&E.includes("0 rows"))&&(l=null,h=200,m="OK"),l&&n.shouldThrowOnError)throw new jR(l)}return{error:l,data:c,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(s=s.catch(a=>{var l;let c="";const f=a==null?void 0:a.cause;if(f){var h,m,v,b;const E=(h=f==null?void 0:f.message)!==null&&h!==void 0?h:"",w=(m=f==null?void 0:f.code)!==null&&m!==void 0?m:"";c=`${(v=a==null?void 0:a.name)!==null&&v!==void 0?v:"FetchError"}: ${a==null?void 0:a.message}`,c+=`

Caused by: ${(b=f==null?void 0:f.name)!==null&&b!==void 0?b:"Error"}: ${E}`,w&&(c+=` (${w})`),f!=null&&f.stack&&(c+=`
${f.stack}`)}else{var S;c=(S=a==null?void 0:a.stack)!==null&&S!==void 0?S:""}return{error:{message:`${(l=a==null?void 0:a.name)!==null&&l!==void 0?l:"FetchError"}: ${a==null?void 0:a.message}`,details:c,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},YR=class extends JR{select(t){let e=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(a,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,e?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),f=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${f}"; options=${c};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Tb=new RegExp("[,()]");var za=class extends YR{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(i=>typeof i=="string"&&Tb.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(i=>typeof i=="string"&&Tb.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${a}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},KR=class{constructor(t,{headers:e={},schema:n,fetch:i}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:i}=e??{},s=n?"HEAD":"GET";let a=!1;const l=(t??"*").split("").map(h=>/\s/.test(h)&&!a?"":(h==='"'&&(a=!a),h)).join(""),{url:c,headers:f}=this.cloneRequestState();return c.searchParams.set("select",l),i&&f.append("Prefer",`count=${i}`),new za({method:s,url:c,headers:f,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var i;const s="POST",{url:a,headers:l}=this.cloneRequestState();if(e&&l.append("Prefer",`count=${e}`),n||l.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(c.length>0){const f=[...new Set(c)].map(h=>`"${h}"`);a.searchParams.set("columns",f.join(","))}}return new za({method:s,url:a,headers:l,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){var a;const l="POST",{url:c,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&c.searchParams.set("on_conflict",e),i&&f.append("Prefer",`count=${i}`),s||f.append("Prefer","missing=default"),Array.isArray(t)){const h=t.reduce((m,v)=>m.concat(Object.keys(v)),[]);if(h.length>0){const m=[...new Set(h)].map(v=>`"${v}"`);c.searchParams.set("columns",m.join(","))}}return new za({method:l,url:c,headers:f,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:e}={}){var n;const i="PATCH",{url:s,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new za({method:i,url:s,headers:a,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:i,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new za({method:n,url:i,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},XR=class ww{constructor(e,{headers:n={},schema:i,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=i,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new KR(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new ww(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:i=!1,get:s=!1,count:a}={}){var l;let c;const f=new URL(`${this.url}/rpc/${e}`);let h;const m=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(m)),v=i&&Object.values(n).some(m);v?(c="POST",h=n):i||s?(c=i?"HEAD":"GET",Object.entries(n).filter(([S,E])=>E!==void 0).map(([S,E])=>[S,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([S,E])=>{f.searchParams.append(S,E)})):(c="POST",h=n);const b=new Headers(this.headers);return v?b.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&b.set("Prefer",`count=${a}`),new za({method:c,url:f,headers:b,schema:this.schemaName,body:h,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};class WR{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const i=n.versions;if(i&&i.node){const s=i.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const i=this.getWebSocketConstructor();return new i(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const QR="2.93.2",ZR=`realtime-js/${QR}`,eN="1.0.0",Tw="2.0.0",Eb=Tw,Lm=1e4,tN=1e3,nN=100;var Hs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Hs||(Hs={}));var on;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(on||(on={}));var dr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(dr||(dr={}));var qm;(function(t){t.websocket="websocket"})(qm||(qm={}));var Uo;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Uo||(Uo={}));class iN{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,i;const s=(i=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var n,i;const s=(i=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:{},l=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(e,n,i){var s,a;const l=e.topic,c=(s=e.ref)!==null&&s!==void 0?s:"",f=(a=e.join_ref)!==null&&a!==void 0?a:"",h=e.payload.event,m=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},v=Object.keys(m).length===0?"":JSON.stringify(m);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+c.length+l.length+h.length+v.length,S=new ArrayBuffer(this.HEADER_LENGTH+b);let E=new DataView(S),w=0;E.setUint8(w++,this.KINDS.userBroadcastPush),E.setUint8(w++,f.length),E.setUint8(w++,c.length),E.setUint8(w++,l.length),E.setUint8(w++,h.length),E.setUint8(w++,v.length),E.setUint8(w++,n),Array.from(f,A=>E.setUint8(w++,A.charCodeAt(0))),Array.from(c,A=>E.setUint8(w++,A.charCodeAt(0))),Array.from(l,A=>E.setUint8(w++,A.charCodeAt(0))),Array.from(h,A=>E.setUint8(w++,A.charCodeAt(0))),Array.from(v,A=>E.setUint8(w++,A.charCodeAt(0)));var C=new Uint8Array(S.byteLength+i.byteLength);return C.set(new Uint8Array(S),0),C.set(new Uint8Array(i),S.byteLength),C.buffer}decode(e,n){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return n(i)}if(typeof e=="string"){const i=JSON.parse(e),[s,a,l,c,f]=i;return n({join_ref:s,ref:a,topic:l,event:c,payload:f})}return n({})}_binaryDecode(e){const n=new DataView(e),i=n.getUint8(0),s=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,s)}}_decodeUserBroadcast(e,n,i){const s=n.getUint8(1),a=n.getUint8(2),l=n.getUint8(3),c=n.getUint8(4);let f=this.HEADER_LENGTH+4;const h=i.decode(e.slice(f,f+s));f=f+s;const m=i.decode(e.slice(f,f+a));f=f+a;const v=i.decode(e.slice(f,f+l));f=f+l;const b=e.slice(f,e.byteLength),S=c===this.JSON_ENCODING?JSON.parse(i.decode(b)):b,E={type:this.BROADCAST_EVENT,event:m,payload:S};return l>0&&(E.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>n.includes(i)))}}class Ew{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(pt||(pt={}));const Cb=(t,e,n={})=>{var i;const s=(i=n.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((a,l)=>(a[l]=rN(l,t,e,s),a),{}):{}},rN=(t,e,n,i)=>{const s=e.find(c=>c.name===t),a=s==null?void 0:s.type,l=n[t];return a&&!i.includes(a)?Cw(a,l):Bm(l)},Cw=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return lN(e,n)}switch(t){case pt.bool:return sN(e);case pt.float4:case pt.float8:case pt.int2:case pt.int4:case pt.int8:case pt.numeric:case pt.oid:return oN(e);case pt.json:case pt.jsonb:return aN(e);case pt.timestamp:return uN(e);case pt.abstime:case pt.date:case pt.daterange:case pt.int4range:case pt.int8range:case pt.money:case pt.reltime:case pt.text:case pt.time:case pt.timestamptz:case pt.timetz:case pt.tsrange:case pt.tstzrange:return Bm(e);default:return Bm(e)}},Bm=t=>t,sN=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},oN=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},aN=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},lN=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let a;const l=t.slice(1,n);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(c=>Cw(e,c))}return t},uN=t=>typeof t=="string"?t.replace(" ","T"):t,Aw=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class lm{constructor(e,n,i={},s=Lm){this.channel=e,this.event=n,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ab;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ab||(Ab={}));class Ru{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ru.syncState(this.state,s,a,l),this.pendingDiffs.forEach(f=>{this.state=Ru.syncDiff(this.state,f,a,l)}),this.pendingDiffs=[],c()}),this.channel._on(i.diff,{},s=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ru.syncDiff(this.state,s,a,l),c())}),this.onJoin((s,a,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:l})}),this.onLeave((s,a,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,s){const a=this.cloneDeep(e),l=this.transformState(n),c={},f={};return this.map(a,(h,m)=>{l[h]||(f[h]=m)}),this.map(l,(h,m)=>{const v=a[h];if(v){const b=m.map(C=>C.presence_ref),S=v.map(C=>C.presence_ref),E=m.filter(C=>S.indexOf(C.presence_ref)<0),w=v.filter(C=>b.indexOf(C.presence_ref)<0);E.length>0&&(c[h]=E),w.length>0&&(f[h]=w)}else c[h]=m}),this.syncDiff(a,{joins:c,leaves:f},i,s)}static syncDiff(e,n,i,s){const{joins:a,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(a,(c,f)=>{var h;const m=(h=e[c])!==null&&h!==void 0?h:[];if(e[c]=this.cloneDeep(f),m.length>0){const v=e[c].map(S=>S.presence_ref),b=m.filter(S=>v.indexOf(S.presence_ref)<0);e[c].unshift(...b)}i(c,m,f)}),this.map(l,(c,f)=>{let h=e[c];if(!h)return;const m=f.map(v=>v.presence_ref);h=h.filter(v=>m.indexOf(v.presence_ref)<0),e[c]=h,s(c,h,f),h.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const s=e[i];return"metas"in s?n[i]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[i]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Rb;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Rb||(Rb={}));var Nu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Nu||(Nu={}));var ns;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ns||(ns={}));class Ja{constructor(e,n={config:{}},i){var s,a;if(this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=on.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new lm(this,dr.join,this.params,this.timeout),this.rejoinTimer=new Ew(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=on.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=on.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=on.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=on.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=on.errored,this.rejoinTimer.scheduleTimeout())}),this._on(dr.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new Ru(this),this.broadcastEndpointURL=Aw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var i,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==on.closed){const{config:{broadcast:l,presence:c,private:f}}=this.params,h=(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(S=>S.filter))!==null&&s!==void 0?s:[],m=!!this.bindings[Nu.PRESENCE]&&this.bindings[Nu.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,v={},b={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(S=>e==null?void 0:e(ns.CHANNEL_ERROR,S)),this._onClose(()=>e==null?void 0:e(ns.CLOSED)),this.updateJoinPayload(Object.assign({config:b},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:S})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){e==null||e(ns.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,C=(E=w==null?void 0:w.length)!==null&&E!==void 0?E:0,A=[];for(let N=0;N<C;N++){const k=w[N],{filter:{event:M,schema:U,table:z,filter:I}}=k,q=S&&S[N];if(q&&q.event===M&&Ja.isFilterValueEqual(q.schema,U)&&Ja.isFilterValueEqual(q.table,z)&&Ja.isFilterValueEqual(q.filter,I))A.push(Object.assign(Object.assign({},k),{id:q.id}));else{this.unsubscribe(),this.state=on.errored,e==null||e(ns.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,e&&e(ns.SUBSCRIBED);return}}).receive("error",S=>{this.state=on.errored,e==null||e(ns.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ns.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this.state===on.joined&&e===Nu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,i)}async httpSend(e,n,i={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let f=c.statusText;try{const h=await c.json();f=h.error||h.message||f}catch{}return Promise.reject(new Error(f))}async send(e,n={}){var i,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=e,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=h.body)===null||s===void 0?void 0:s.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,c,f;const h=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||f===void 0)&&f.ack)&&a("ok"),h.receive("ok",()=>a("ok")),h.receive("error",()=>a("error")),h.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=on.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(dr.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(s=>{i=new lm(this,dr.leave,{},e),i.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=on.closed,this.bindings={}}async _fetchWithTimeout(e,n,i){const s=new AbortController,a=setTimeout(()=>s.abort(),i),l=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(a),l}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new lm(this,e,n,i);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>nN){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var s,a;const l=e.toLocaleLowerCase(),{close:c,error:f,leave:h,join:m}=dr;if(i&&[c,f,h,m].indexOf(l)>=0&&i!==this._joinRef())return;let b=this._onMessage(l,n,i);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(S=>{var E,w,C;return((E=S.filter)===null||E===void 0?void 0:E.event)==="*"||((C=(w=S.filter)===null||w===void 0?void 0:w.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===l}).map(S=>S.callback(b,i)):(a=this.bindings[l])===null||a===void 0||a.filter(S=>{var E,w,C,A,N,k;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in S){const M=S.id,U=(E=S.filter)===null||E===void 0?void 0:E.event;return M&&((w=n.ids)===null||w===void 0?void 0:w.includes(M))&&(U==="*"||(U==null?void 0:U.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const M=(N=(A=S==null?void 0:S.filter)===null||A===void 0?void 0:A.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return M==="*"||M===((k=n==null?void 0:n.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===l}).map(S=>{if(typeof b=="object"&&"ids"in b){const E=b.data,{schema:w,table:C,commit_timestamp:A,type:N,errors:k}=E;b=Object.assign(Object.assign({},{schema:w,table:C,commit_timestamp:A,eventType:N,new:{},old:{},errors:k}),this._getPayloadRecords(E))}S.callback(b,i)})}_isClosed(){return this.state===on.closed}_isJoined(){return this.state===on.joined}_isJoining(){return this.state===on.joining}_isLeaving(){return this.state===on.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const s=e.toLocaleLowerCase(),a={type:s,filter:n,callback:i};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===i&&Ja.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(dr.close,{},e)}_onError(e){this._on(dr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=on.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Cb(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Cb(e.columns,e.old_record)),n}}const um=()=>{},Td={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},cN=[1e3,2e3,5e3,1e4],dN=1e4,fN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class hN{constructor(e,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Lm,this.transport=null,this.heartbeatIntervalMs=Td.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=um,this.ref=0,this.reconnectTimer=null,this.vsn=Eb,this.logger=um,this.conn=null,this.sendBuffer=[],this.serializer=new iN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),!(!((i=n==null?void 0:n.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${qm.websocket}`,this.httpEndpoint=Aw(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=WR.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Hs.connecting:return Uo.Connecting;case Hs.open:return Uo.Open;case Hs.closing:return Uo.Closing;default:return Uo.Closed}}isConnected(){return this.connectionState()===Uo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const i=`realtime:${e}`,s=this.getChannels().find(a=>a.topic===i);if(s)return s;{const a=new Ja(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:i,payload:s,ref:a}=e,l=()=>{this.encode(e,c=>{var f;(f=this.conn)===null||f===void 0||f.send(c)})};this.log("push",`${n} ${i} (${a})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(tN,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Td.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",h)}catch(m){this.log("error","error in heartbeat callback",m)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:s,payload:a,ref:l}=n,c=l?`(${l})`:"",f=a.status||"";this.log("receive",`${f} ${i} ${s} ${c}`.trim(),a),this.channels.filter(h=>h._isMember(i)).forEach(h=>h._trigger(s,a,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Hs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Hs.open||this.conn.readyState===Hs.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(dr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${i}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([fN],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,i=!1;if(e)n=e,i=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const a={access_token:n,version:ZR};n&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(dr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Ew(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Td.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,i,s,a,l,c,f,h,m,v,b,S;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:Lm,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Td.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=e==null?void 0:e.heartbeatCallback)!==null&&c!==void 0?c:um,this.vsn=(f=e==null?void 0:e.vsn)!==null&&f!==void 0?f:Eb,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e==null?void 0:e.reconnectAfterMs)!==null&&h!==void 0?h:(E=>cN[E-1]||dN),this.vsn){case eN:this.encode=(m=e==null?void 0:e.encode)!==null&&m!==void 0?m:((E,w)=>w(JSON.stringify(E))),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:((E,w)=>w(JSON.parse(E)));break;case Tw:this.encode=(b=e==null?void 0:e.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(S=e==null?void 0:e.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Vu=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function pN(t,e,n){const i=new URL(e,t);if(n)for(const[s,a]of Object.entries(n))a!==void 0&&i.searchParams.set(s,a);return i.toString()}async function mN(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function gN(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:i,query:s,body:a,headers:l}){const c=pN(t.baseUrl,i,s),f=await mN(t.auth),h=await e(c,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...f,...l},body:a?JSON.stringify(a):void 0}),m=await h.text(),v=(h.headers.get("content-type")||"").includes("application/json"),b=v&&m?JSON.parse(m):m;if(!h.ok){const S=v?b:void 0,E=S==null?void 0:S.error;throw new Vu((E==null?void 0:E.message)??`Request failed with status ${h.status}`,{status:h.status,icebergType:E==null?void 0:E.type,icebergCode:E==null?void 0:E.code,details:S})}return{status:h.status,headers:h.headers,data:b}}}}function Ed(t){return t.join("")}var yN=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Ed(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ed(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ed(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ed(t.namespace)}`}),!0}catch(e){if(e instanceof Vu&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Vu&&n.status===409)return;throw n}}};function Ia(t){return t.join("")}var vN=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ia(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ia(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ia(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ia(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ia(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ia(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Vu&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Vu&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},_N=class{constructor(t){var i;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=gN({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(i=t.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new yN(this.client,e),this.tableOps=new vN(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},If=class extends Error{constructor(t,e="storage",n,i){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=i}};function Df(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Cd=class extends If{constructor(t,e,n,i="storage"){super(t,i,e,n),this.name=i==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Rw=class extends If{constructor(t,e,n="storage"){super(t,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const bN=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),xN=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Gm=t=>{if(Array.isArray(t))return t.map(n=>Gm(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const s=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[s]=Gm(i)}),e},SN=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function wN(t,e){if(Fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(Fu(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TN(t){var e=wN(t,"string");return Fu(e)=="symbol"?e:e+""}function EN(t,e,n){return(e=TN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function Te(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nb(Object(n),!0).forEach(function(i){EN(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nb(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}const kb=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},CN=async(t,e,n,i)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const s=t,a=s.status||500;if(typeof s.json=="function")s.json().then(l=>{const c=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||a+"";e(new Cd(kb(l),a,c,i))}).catch(()=>{if(i==="vectors"){const l=a+"";e(new Cd(s.statusText||`HTTP ${a} error`,a,l,i))}else{const l=a+"";e(new Cd(s.statusText||`HTTP ${a} error`,a,l,i))}});else{const l=a+"";e(new Cd(s.statusText||`HTTP ${a} error`,a,l,i))}}else e(new Rw(kb(t),t,i))},AN=(t,e,n,i)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!i?Te(Te({},s),n):(xN(i)?(s.headers=Te({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(i)):s.body=i,e!=null&&e.duplex&&(s.duplex=e.duplex),Te(Te({},s),n))};async function du(t,e,n,i,s,a,l){return new Promise((c,f)=>{t(n,AN(e,i,s,a)).then(h=>{if(!h.ok)throw h;if(i!=null&&i.noResolveJson)return h;if(l==="vectors"){const m=h.headers.get("content-type");if(!m||!m.includes("application/json"))return{}}return h.json()}).then(h=>c(h)).catch(h=>CN(h,f,i,l))})}function RN(t="storage"){return{get:async(e,n,i,s)=>du(e,"GET",n,i,s,void 0,t),post:async(e,n,i,s,a)=>du(e,"POST",n,s,a,i,t),put:async(e,n,i,s,a)=>du(e,"PUT",n,s,a,i,t),head:async(e,n,i,s)=>du(e,"HEAD",n,Te(Te({},i),{},{noResolveJson:!0}),s,void 0,t),remove:async(e,n,i,s,a)=>du(e,"DELETE",n,s,a,i,t)}}const NN=RN("storage"),{get:$u,post:wt,put:zm,head:kN,remove:Og}=NN;var ml=class{constructor(t,e={},n,i="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=bN(n),this.namespace=i}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Df(n))return{data:null,error:n};throw n}}},MN=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Df(e))return{data:null,error:e};throw e}}};let Nw;Nw=Symbol.toStringTag;var IN=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Nw]="BlobDownloadBuilder",this.promise=null}asStream(){return new MN(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Df(e))return{data:null,error:e};throw e}}};const DN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Mb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var PN=class extends ml{constructor(t,e={},n,i){super(t,e,i,"storage"),this.bucketId=n}async uploadOrUpdate(t,e,n,i){var s=this;return s.handleOperation(async()=>{let a;const l=Te(Te({},Mb),i);let c=Te(Te({},s.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),f&&a.append("metadata",s.encodeMetadata(f)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",l.cacheControl),f&&!a.has("metadata")&&a.append("metadata",s.encodeMetadata(f))):(a=n,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,f&&(c["x-metadata"]=s.toBase64(s.encodeMetadata(f))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!l.duplex&&(l.duplex="half")),i!=null&&i.headers&&(c=Te(Te({},c),i.headers));const h=s._removeEmptyFolders(e),m=s._getFinalPath(h),v=await(t=="PUT"?zm:wt)(s.fetch,`${s.url}/object/${m}`,a,Te({headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{path:h,id:v.Id,fullPath:v.Key}})}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,i){var s=this;const a=s._removeEmptyFolders(t),l=s._getFinalPath(a),c=new URL(s.url+`/object/upload/sign/${l}`);return c.searchParams.set("token",e),s.handleOperation(async()=>{let f;const h=Te({upsert:Mb.upsert},i),m=Te(Te({},s.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",h.cacheControl)):(f=n,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType),{path:a,fullPath:(await zm(s.fetch,c.toString(),f,{headers:m})).Key}})}async createSignedUploadUrl(t,e){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(t);const s=Te({},n.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const a=await wt(n.fetch,`${n.url}/object/upload/sign/${i}`,{},{headers:s}),l=new URL(n.url+a.url),c=l.searchParams.get("token");if(!c)throw new If("No token returned by API");return{signedUrl:l.toString(),path:t,token:c}})}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var i=this;return i.handleOperation(async()=>await wt(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:i.headers}))}async copy(t,e,n){var i=this;return i.handleOperation(async()=>({path:(await wt(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:i.headers})).Key}))}async createSignedUrl(t,e,n){var i=this;return i.handleOperation(async()=>{let s=i._getFinalPath(t),a=await wt(i.fetch,`${i.url}/object/sign/${s}`,Te({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:i.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${i.url}${a.signedURL}${l}`)}})}async createSignedUrls(t,e,n){var i=this;return i.handleOperation(async()=>{const s=await wt(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:e,paths:t},{headers:i.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s.map(l=>Te(Te({},l),{},{signedUrl:l.signedURL?encodeURI(`${i.url}${l.signedURL}${a}`):null}))})}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=i?`?${i}`:"",a=this._getFinalPath(t),l=()=>$u(this.fetch,`${this.url}/${n}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new IN(l,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);return e.handleOperation(async()=>Gm(await $u(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})))}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await kN(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Df(i)&&i instanceof Rw){const s=i.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:i}}throw i}}getPublicUrl(t,e){const n=this._getFinalPath(t),i=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&i.push(s);const a=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await Og(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,n){var i=this;return i.handleOperation(async()=>{const s=Te(Te(Te({},DN),e),{},{prefix:t||""});return await wt(i.fetch,`${i.url}/object/list/${i.bucketId}`,s,{headers:i.headers},n)})}async listV2(t,e){var n=this;return n.handleOperation(async()=>{const i=Te({},t);return await wt(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,i,{headers:n.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const UN="2.93.2",ac={"X-Client-Info":`storage-js/${UN}`};var ON=class extends ml{constructor(t,e={},n,i){const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const a=s.href.replace(/\/$/,""),l=Te(Te({},ac),e);super(a,l,n,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=e.listBucketOptionsToQueryString(t);return await $u(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await $u(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var n=this;return n.handleOperation(async()=>await wt(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async updateBucket(t,e){var n=this;return n.handleOperation(async()=>await zm(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await wt(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Og(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},LN=class extends ml{constructor(t,e={},n){const i=t.replace(/\/$/,""),s=Te(Te({},ac),e);super(i,s,n,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await wt(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const i=n.toString(),s=i?`${e.url}/bucket?${i}`:`${e.url}/bucket`;return await $u(e.fetch,s,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Og(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!SN(t))throw new If("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new _N({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(n,{get(s,a){const l=s[a];return typeof l!="function"?l:async(...c)=>{try{return{data:await l.apply(s,c),error:null}}catch(f){if(i)throw f;return{data:null,error:f}}}}})}},qN=class extends ml{constructor(t,e={},n){const i=t.replace(/\/$/,""),s=Te(Te({},ac),{},{"Content-Type":"application/json"},e);super(i,s,n,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await wt(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var n=this;return n.handleOperation(async()=>await wt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await wt(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var n=this;return n.handleOperation(async()=>await wt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{})}},BN=class extends ml{constructor(t,e={},n){const i=t.replace(/\/$/,""),s=Te(Te({},ac),{},{"Content-Type":"application/json"},e);super(i,s,n,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await wt(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await wt(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await wt(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await wt(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await wt(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},GN=class extends ml{constructor(t,e={},n){const i=t.replace(/\/$/,""),s=Te(Te({},ac),{},{"Content-Type":"application/json"},e);super(i,s,n,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await wt(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await wt(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await wt(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await wt(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},zN=class extends GN{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new HN(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},HN=class extends qN{constructor(t,e,n,i){super(t,e,i),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new VN(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},VN=class extends BN{constructor(t,e,n,i,s){super(t,e,s),this.vectorBucketName=n,this.indexName=i}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,Te(Te({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},FN=class extends ON{constructor(t,e={},n,i){super(t,e,n,i)}from(t){return new PN(this.url,this.headers,t,this.fetch)}get vectors(){return new zN(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new LN(this.url+"/iceberg",this.headers,this.fetch)}};const kw="2.93.2",Ha=30*1e3,Hm=3,cm=Hm*Ha,$N="http://localhost:9999",jN="supabase.auth.token",JN={"X-Client-Info":`gotrue-js/${kw}`},Vm="X-Supabase-Api-Version",Mw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},YN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,KN=600*1e3;class ju extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function pe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class XN extends ju{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function WN(t){return pe(t)&&t.name==="AuthApiError"}class Oo extends ju{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class hs extends ju{constructor(e,n,i,s){super(e,i,s),this.name=n,this.status=i}}class _i extends hs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dm(t){return pe(t)&&t.name==="AuthSessionMissingError"}class Da extends hs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ad extends hs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Rd extends hs{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function QN(t){return pe(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ib extends hs{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ZN extends hs{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Fm extends hs{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function fm(t){return pe(t)&&t.name==="AuthRetryableFetchError"}class Db extends hs{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class $m extends hs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const cf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Pb=` 	
\r=`.split(""),e1=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Pb.length;e+=1)t[Pb[e].charCodeAt(0)]=-2;for(let e=0;e<cf.length;e+=1)t[cf[e].charCodeAt(0)]=e;return t})();function Ub(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(cf[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(cf[i]),e.queuedBits-=6}}function Iw(t,e,n){const i=e1[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ob(t){const e=[],n=l=>{e.push(String.fromCodePoint(l))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=l=>{i1(l,i,n)};for(let l=0;l<t.length;l+=1)Iw(t.charCodeAt(l),s,a);return e.join("")}function t1(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function n1(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const s=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}t1(i,e)}}function i1(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Za(t){const e=[],n={queue:0,queuedBits:0},i=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Iw(t.charCodeAt(s),n,i);return new Uint8Array(e)}function r1(t){const e=[];return n1(t,n=>e.push(n)),new Uint8Array(e)}function Lo(t){const e=[],n={queue:0,queuedBits:0},i=s=>{e.push(s)};return t.forEach(s=>Ub(s,n,i)),Ub(null,n,i),e.join("")}function s1(t){return Math.round(Date.now()/1e3)+t}function o1(){return Symbol("auth-callback")}const xn=()=>typeof window<"u"&&typeof document<"u",To={tested:!1,writable:!1},Dw=()=>{if(!xn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(To.tested)return To.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),To.tested=!0,To.writable=!0}catch{To.tested=!0,To.writable=!1}return To.writable};function a1(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,a)=>{e[a]=s})}catch{}return n.searchParams.forEach((i,s)=>{e[s]=i}),e}const Pw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),l1=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Va=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Eo=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},bn=async(t,e)=>{await t.removeItem(e)};class Pf{constructor(){this.promise=new Pf.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Pf.promiseConstructor=Promise;function Nd(t){const e=t.split(".");if(e.length!==3)throw new $m("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!YN.test(e[i]))throw new $m("JWT not in base64url format");return{header:JSON.parse(Ob(e[0])),payload:JSON.parse(Ob(e[1])),signature:Za(e[2]),raw:{header:e[0],payload:e[1]}}}async function u1(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function c1(t,e){return new Promise((i,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await t(a);if(!e(a,null,l)){i(l);return}}catch(l){if(!e(a,l)){s(l);return}}})()})}function d1(t){return("0"+t.toString(16)).substr(-2)}function f1(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let s="";for(let a=0;a<56;a++)s+=n.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(e),Array.from(e,d1).join("")}async function h1(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(i);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function p1(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await h1(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pa(t,e,n=!1){const i=f1();let s=i;n&&(s+="/PASSWORD_RECOVERY"),await Va(t,`${e}-code-verifier`,s);const a=await p1(i);return[a,i===a?"plain":"s256"]}const m1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function g1(t){const e=t.headers.get(Vm);if(!e||!e.match(m1))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function y1(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function v1(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ua(t){if(!_1.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hm(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function b1(t,e){return new Proxy(t,{get:(n,i,s)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const a=i.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,i,s)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,i,s)}})}function Lb(t){return JSON.parse(JSON.stringify(t))}const No=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),x1=[502,503,504];async function qb(t){var e;if(!l1(t))throw new Fm(No(t),0);if(x1.includes(t.status))throw new Fm(No(t),t.status);let n;try{n=await t.json()}catch(a){throw new Oo(No(a),a)}let i;const s=g1(t);if(s&&s.getTime()>=Mw["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new Db(No(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new _i}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new Db(No(n),t.status,n.weak_password.reasons);throw new XN(No(n),t.status||500,i)}const S1=(t,e,n,i)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),n))};async function we(t,e,n,i){var s;const a=Object.assign({},i==null?void 0:i.headers);a[Vm]||(a[Vm]=Mw["2024-01-01"].name),i!=null&&i.jwt&&(a.Authorization=`Bearer ${i.jwt}`);const l=(s=i==null?void 0:i.query)!==null&&s!==void 0?s:{};i!=null&&i.redirectTo&&(l.redirect_to=i.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await w1(t,e,n+c,{headers:a,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(f):{data:Object.assign({},f),error:null}}async function w1(t,e,n,i,s,a){const l=S1(e,i,s,a);let c;try{c=await t(n,Object.assign({},l))}catch(f){throw console.error(f),new Fm(No(f),0)}if(c.ok||await qb(c),i!=null&&i.noResolveJson)return c;try{return await c.json()}catch(f){await qb(f)}}function ur(t){var e;let n=null;C1(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=s1(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function Bb(t){const e=ur(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Vs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function T1(t){return{data:t,error:null}}function E1(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:s,verification_type:a}=t,l=Mf(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:i,redirect_to:s,verification_type:a},f=Object.assign({},l);return{data:{properties:c,user:f},error:null}}function Gb(t){return t}function C1(t){return t.access_token&&t.refresh_token&&t.expires_in}const pm=["global","local","others"];class A1{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=Pw(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=pm[0]){if(pm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${pm.join(", ")}`);try{return await we(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(pe(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await we(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Vs})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=Mf(e,["options"]),s=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(s.new_email=i==null?void 0:i.newEmail,delete s.newEmail),await we(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:E1,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(pe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await we(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Vs})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,s,a,l,c,f;try{const h={nextPage:null,lastPage:0,total:0},m=await we(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(a=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Gb});if(m.error)throw m.error;const v=await m.json(),b=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,S=(f=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&f!==void 0?f:[];return S.length>0&&(S.forEach(E=>{const w=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(E.split(";")[1].split("=")[1]);h[`${C}Page`]=w}),h.total=parseInt(b)),{data:Object.assign(Object.assign({},v),h),error:null}}catch(h){if(pe(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){Ua(e);try{return await we(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Vs})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Ua(e);try{return await we(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Vs})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){Ua(e);try{return await we(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Vs})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Ua(e.userId);try{const{data:n,error:i}=await we(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:i}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Ua(e.userId),Ua(e.id);try{return{data:await we(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,i,s,a,l,c,f;try{const h={nextPage:null,lastPage:0,total:0},m=await we(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(a=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Gb});if(m.error)throw m.error;const v=await m.json(),b=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,S=(f=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&f!==void 0?f:[];return S.length>0&&(S.forEach(E=>{const w=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(E.split(";")[1].split("=")[1]);h[`${C}Page`]=w}),h.total=parseInt(b)),{data:Object.assign(Object.assign({},v),h),error:null}}catch(h){if(pe(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await we(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await we(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await we(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(pe(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await we(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await we(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}}function zb(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Oa={debug:!!(globalThis&&Dw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Uw extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class R1 extends Uw{}async function N1(t,e,n){Oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Oa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){Oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new R1(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Oa.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function k1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ow(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function M1(t){return parseInt(t,16)}function I1(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function D1(t){var e;const{chainId:n,domain:i,expirationTime:s,issuedAt:a=new Date,nonce:l,notBefore:c,requestId:f,resources:h,scheme:m,uri:v,version:b}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const S=Ow(t.address),E=m?`${m}://${i}`:i,w=t.statement?`${t.statement}
`:"",C=`${E} wants you to sign in with your Ethereum account:
${S}

${w}`;let A=`URI: ${v}
Version: ${b}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(s&&(A+=`
Expiration Time: ${s.toISOString()}`),c&&(A+=`
Not Before: ${c.toISOString()}`),f&&(A+=`
Request ID: ${f}`),h){let N=`
Resources:`;for(const k of h){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);N+=`
- ${k}`}A+=N}return`${C}
${A}`}class Zt extends Error{constructor({message:e,code:n,cause:i,name:s}){var a;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(a=s??(i instanceof Error?i.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class df extends Zt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function P1({error:t,options:e}){var n,i,s;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Zt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Zt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Zt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Zt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Zt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Zt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Zt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Zt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(Lw(l)){if(a.rp.id!==l)return new Zt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Zt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Zt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Zt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Zt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function U1({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Zt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Zt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(Lw(i)){if(n.rpId!==i)return new Zt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Zt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Zt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Zt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class O1{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const L1=new O1;function q1(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:i}=t,s=Mf(t,["challenge","user","excludeCredentials"]),a=Za(e).buffer,l=Object.assign(Object.assign({},n),{id:Za(n.id).buffer}),c=Object.assign(Object.assign({},s),{challenge:a,user:l});if(i&&i.length>0){c.excludeCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const h=i[f];c.excludeCredentials[f]=Object.assign(Object.assign({},h),{id:Za(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function B1(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,i=Mf(t,["challenge","allowCredentials"]),s=Za(e).buffer,a=Object.assign(Object.assign({},i),{challenge:s});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];a.allowCredentials[l]=Object.assign(Object.assign({},c),{id:Za(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function G1(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Lo(new Uint8Array(t.response.attestationObject)),clientDataJSON:Lo(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function z1(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,i=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Lo(new Uint8Array(s.authenticatorData)),clientDataJSON:Lo(new Uint8Array(s.clientDataJSON)),signature:Lo(new Uint8Array(s.signature)),userHandle:s.userHandle?Lo(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Lw(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Hb(){var t,e;return!!(xn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function H1(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new df("Browser returned unexpected credential type",e)}:{data:null,error:new df("Empty credential response",e)}}catch(e){return{data:null,error:P1({error:e,options:t})}}}async function V1(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new df("Browser returned unexpected credential type",e)}:{data:null,error:new df("Empty credential response",e)}}catch(e){return{data:null,error:U1({error:e,options:t})}}}const F1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},$1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ff(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),i={};for(const s of t)if(s)for(const a in s){const l=s[a];if(l!==void 0)if(Array.isArray(l))i[a]=l;else if(n(l))i[a]=l;else if(e(l)){const c=i[a];e(c)?i[a]=ff(c,l):i[a]=ff(l)}else i[a]=l}return i}function j1(t,e){return ff(F1,t,e||{})}function J1(t,e){return ff($1,t,e||{})}class Y1{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:i,signal:s},a){try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!l)return{data:null,error:c};const f=s??L1.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:h}=l.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${i}`),h.displayName||(h.displayName=h.name)}switch(l.webauthn.type){case"create":{const h=j1(l.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:m,error:v}=await H1({publicKey:h,signal:f});return m?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:v}}case"request":{const h=J1(l.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:m,error:v}=await V1(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:h,signal:f}));return m?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:v}}}}catch(l){return pe(l)?{data:null,error:l}:{data:null,error:new Oo("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!n)return{data:null,error:new ju("rpId is required for WebAuthn authentication")};try{if(!Hb())return{data:null,error:new Oo("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:i},signal:s},{request:a});if(!l)return{data:null,error:c};const{webauthn:f}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:i,credential_response:f.credential_response}})}catch(l){return pe(l)?{data:null,error:l}:{data:null,error:new Oo("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!n)return{data:null,error:new ju("rpId is required for WebAuthn registration")};try{if(!Hb())return{data:null,error:new Oo("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(m=>{var v;return(v=m.data)===null||v===void 0?void 0:v.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===e&&b.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m==null?void 0:m.id}):void 0),{data:null,error:c};const{data:f,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:s},{create:a});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:i,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:h}}catch(l){return pe(l)?{data:null,error:l}:{data:null,error:new Oo("Unexpected error in register",l)}}}}k1();const K1={url:$N,storageKey:jN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:JN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Vb(t,e,n){return await n()}const La={};class Ju{get jwks(){var e,n;return(n=(e=La[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){La[this.storageKey]=Object.assign(Object.assign({},La[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=La[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){La[this.storageKey]=Object.assign(Object.assign({},La[this.storageKey]),{cachedAt:e})}constructor(e){var n,i,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},K1),e);if(this.storageKey=a.storageKey,this.instanceID=(n=Ju.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Ju.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&xn()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new A1({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Pw(a.fetch),this.lock=a.lock||Vb,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&xn()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=N1:this.lock=Vb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Y1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Dw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=zb(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=zb(this.memoryStorage)),xn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l);try{await this._notifyAllSubscribers(l.data.event,l.data.session,!1)}catch(c){this._debug("#broadcastChannel","error",c)}})}this.initialize().catch(l=>{this._debug("#initialize()","error",l)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${kw}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},i="none";if(xn()&&(n=a1(window.location.href),this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce")),xn()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:a}=await this._getSessionFromURL(n,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),QN(a)){const f=(e=a.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:l,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return pe(n)?this._returnResult({error:n}):this._returnResult({error:new Oo("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,s;try{const a=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ur}),{data:l,error:c}=a;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(a){if(pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var n,i,s;try{let a;if("email"in e){const{email:m,password:v,options:b}=e;let S=null,E=null;this.flowType==="pkce"&&([S,E]=await Pa(this.storage,this.storageKey)),a=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:m,password:v,data:(n=b==null?void 0:b.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:S,code_challenge_method:E},xform:ur})}else if("phone"in e){const{phone:m,password:v,options:b}=e;a=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:v,data:(i=b==null?void 0:b.data)!==null&&i!==void 0?i:{},channel:(s=b==null?void 0:b.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:ur})}else throw new Ad("You must provide either an email or phone number and a password");const{data:l,error:c}=a;if(c||!l)return await bn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(a){if(await bn(this.storage,`${this.storageKey}-code-verifier`),pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:l,options:c}=e;n=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Bb})}else if("phone"in e){const{phone:a,password:l,options:c}=e;n=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Bb})}else throw new Ad("You must provide either an email or phone number and a password");const{data:i,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!i||!i.session||!i.user){const a=new Da;return this._returnResult({data:{user:null,session:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,i,s,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,i,s,a,l,c,f,h,m,v,b;let S,E;if("message"in e)S=e.message,E=e.signature;else{const{chain:w,wallet:C,statement:A,options:N}=e;let k;if(xn())if(typeof C=="object")k=C;else{const B=window;if("ethereum"in B&&typeof B.ethereum=="object"&&"request"in B.ethereum&&typeof B.ethereum.request=="function")k=B.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=C}const M=new URL((n=N==null?void 0:N.url)!==null&&n!==void 0?n:window.location.href),U=await k.request({method:"eth_requestAccounts"}).then(B=>B).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!U||U.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const z=Ow(U[0]);let I=(i=N==null?void 0:N.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!I){const B=await k.request({method:"eth_chainId"});I=M1(B)}const q={domain:M.host,address:z,statement:A,uri:M.href,version:"1",chainId:I,nonce:(s=N==null?void 0:N.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(l=(a=N==null?void 0:N.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=N==null?void 0:N.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(f=N==null?void 0:N.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(h=N==null?void 0:N.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(m=N==null?void 0:N.signInWithEthereum)===null||m===void 0?void 0:m.resources};S=D1(q),E=await k.request({method:"personal_sign",params:[I1(S),z]})}try{const{data:w,error:C}=await we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:E},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:ur});if(C)throw C;if(!w||!w.session||!w.user){const A=new Da;return this._returnResult({data:{user:null,session:null},error:A})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:C})}catch(w){if(pe(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var n,i,s,a,l,c,f,h,m,v,b,S;let E,w;if("message"in e)E=e.message,w=e.signature;else{const{chain:C,wallet:A,statement:N,options:k}=e;let M;if(xn())if(typeof A=="object")M=A;else{const z=window;if("solana"in z&&typeof z.solana=="object"&&("signIn"in z.solana&&typeof z.solana.signIn=="function"||"signMessage"in z.solana&&typeof z.solana.signMessage=="function"))M=z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=A}const U=new URL((n=k==null?void 0:k.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in M&&M.signIn){const z=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),N?{statement:N}:null));let I;if(Array.isArray(z)&&z[0]&&typeof z[0]=="object")I=z[0];else if(z&&typeof z=="object"&&"signedMessage"in z&&"signature"in z)I=z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)E=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),w=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${U.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(s=(i=k==null?void 0:k.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=k==null?void 0:k.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((l=k==null?void 0:k.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((c=k==null?void 0:k.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((f=k==null?void 0:k.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((h=k==null?void 0:k.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((v=(m=k==null?void 0:k.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||v===void 0)&&v.length?["Resources",...k.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const z=await M.signMessage(new TextEncoder().encode(E),"utf8");if(!z||!(z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=z}}try{const{data:C,error:A}=await we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Lo(w)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:ur});if(A)throw A;if(!C||!C.session||!C.user){const N=new Da;return this._returnResult({data:{user:null,session:null},error:N})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:A})}catch(C){if(pe(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(e){const n=await Eo(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(n??"").split("/");try{if(!i&&this.flowType==="pkce")throw new ZN;const{data:a,error:l}=await we(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:ur});if(await bn(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!a||!a.session||!a.user){const c=new Da;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:l})}catch(a){if(await bn(this.storage,`${this.storageKey}-code-verifier`),pe(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:n,provider:i,token:s,access_token:a,nonce:l}=e,c=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ur}),{data:f,error:h}=c;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f||!f.session||!f.user){const m=new Da;return this._returnResult({data:{user:null,session:null},error:m})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:h})}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,i,s,a,l;try{if("email"in e){const{email:c,options:f}=e;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await Pa(this.storage,this.storageKey));const{error:v}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(i=f==null?void 0:f.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:m},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:c,options:f}=e,{data:h,error:m}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},create_user:(a=f==null?void 0:f.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(l=f==null?void 0:f.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:m})}throw new Ad("You must provide either an email or phone number.")}catch(c){if(await bn(this.storage,`${this.storageKey}-code-verifier`),pe(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var n,i;try{let s,a;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:l,error:c}=await we(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:ur});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,h=l.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(pe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,i,s,a,l;try{let c=null,f=null;this.flowType==="pkce"&&([c,f]=await Pa(this.storage,this.storageKey));const h=await we(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:f}),headers:this.headers,xform:T1});return!((a=h.data)===null||a===void 0)&&a.url&&xn()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(c){if(await bn(this.storage,`${this.storageKey}-code-verifier`),pe(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new _i;const{error:s}=await we(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(pe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:s,options:a}=e,{error:l}=await we(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:i,type:s,options:a}=e,{data:l,error:c}=await we(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c})}throw new Ad("You must provide either an email or phone number and a type")}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Eo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<cm:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const l=await Eo(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=hm()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=b1(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Vs}):await this._useSession(async n=>{var i,s,a;const{data:l,error:c}=n;if(c)throw c;return!(!((i=l.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _i}:await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Vs})})}catch(n){if(pe(n))return dm(n)&&(await this._removeSession(),await bn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:s,error:a}=i;if(a)throw a;if(!s.session)throw new _i;const l=s.session;let c=null,f=null;this.flowType==="pkce"&&e.email!=null&&([c,f]=await Pa(this.storage,this.storageKey));const{data:h,error:m}=await we(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:f}),jwt:l.access_token,xform:Vs});if(m)throw m;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(i){if(await bn(this.storage,`${this.storageKey}-code-verifier`),pe(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new _i;const n=Date.now()/1e3;let i=n,s=!0,a=null;const{payload:l}=Nd(e.access_token);if(l.exp&&(i=l.exp,s=i<=n),s){const{data:c,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:f}=await this._getUser(e.access_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});a={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(pe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:l,error:c}=n;if(c)throw c;e=(i=l.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new _i;const{data:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!xn())throw new Rd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Rd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Ib("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Rd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ib("No code detected.");const{data:N,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:a,refresh_token:l,expires_in:c,expires_at:f,token_type:h}=e;if(!a||!c||!l||!h)throw new Rd("No session defined in URL");const m=Math.round(Date.now()/1e3),v=parseInt(c);let b=m+v;f&&(b=parseInt(f));const S=b-m;S*1e3<=Ha&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${v}s`);const E=b-v;m-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,b,m):m-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,b,m);const{data:w,error:C}=await this._getUser(a);if(C)throw C;const A={provider_token:i,provider_refresh_token:s,access_token:a,expires_in:v,expires_at:b,refresh_token:l,token_type:h,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:A,redirectType:e.type},error:null})}catch(i){if(pe(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Eo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:s,error:a}=n;if(a&&!dm(a))return this._returnResult({error:a});const l=(i=s.session)===null||i===void 0?void 0:i.access_token;if(l){const{error:c}=await this.admin.signOut(l,e);if(c&&!(WN(c)&&(c.status===404||c.status===401||c.status===403)||dm(c)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await bn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=o1(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,s;try{const{data:{session:a},error:l}=n;if(l)throw l;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await Pa(this.storage,this.storageKey,!0));try{return await we(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await bn(this.storage,`${this.storageKey}-code-verifier`),pe(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:i,error:s}=await this._useSession(async a=>{var l,c,f,h,m;const{data:v,error:b}=a;if(b)throw b;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await we(this.fetch,"GET",S,{headers:this.headers,jwt:(m=(h=v.session)===null||h===void 0?void 0:h.access_token)!==null&&m!==void 0?m:void 0})});if(s)throw s;return xn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:e.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(pe(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var i;try{const{error:s,data:{session:a}}=n;if(s)throw s;const{options:l,provider:c,token:f,access_token:h,nonce:m}=e,v=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=a==null?void 0:a.access_token)!==null&&i!==void 0?i:void 0,body:{provider:c,id_token:f,access_token:h,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ur}),{data:b,error:S}=v;return S?this._returnResult({data:{user:null,session:null},error:S}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new Da}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:S}))}catch(s){if(await bn(this.storage,`${this.storageKey}-code-verifier`),pe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,s;const{data:a,error:l}=n;if(l)throw l;return await we(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await c1(async s=>(s>0&&await u1(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await we(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ur})),(s,a)=>{const l=200*Math.pow(2,s);return a&&fm(a)&&Date.now()+l-i<Ha})}catch(i){if(this._debug(n,"error",i),pe(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),xn()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const s=await Eo(this.storage,this.storageKey);if(s&&this.userStorage){let l=await Eo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await Va(this.userStorage,this.storageKey+"-user",l)),s.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:hm()}else if(s&&!s.user&&!s.user){const l=await Eo(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(s.user=l.user,await bn(this.storage,this.storageKey+"-user"),await Va(this.storage,this.storageKey,s)):s.user=hm()}if(this._debug(i,"session from storage",s),!this._isValidSession(s)){this._debug(i,"session is not valid"),s!==null&&await this._removeSession();return}const a=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<cm;if(this._debug(i,`session has${a?"":" not"} expired with margin of ${cm}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),fm(l)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(s.access_token);!c&&(l!=null&&l.user)?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(i,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(i,"error",s),console.error(s);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new _i;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Pf;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new _i;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(s,"error",a),pe(a)){const l={data:null,error:a};return fm(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,i=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(f){a.push(f)}});if(await Promise.all(l),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await bn(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await Va(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const a=Lb(s);await Va(this.storage,this.storageKey,a)}else{const s=Lb(n);await Va(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await bn(this.storage,this.storageKey),await bn(this.storage,this.storageKey+"-code-verifier"),await bn(this.storage,this.storageKey+"-user"),this.userStorage&&await bn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&xn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ha);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-e)/Ha);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ha}ms, refresh threshold is ${Hm} ticks`),s<=Hm&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Uw)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const s=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[a,l]=await Pa(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(c.toString())}if(i!=null&&i.queryParams){const a=new URLSearchParams(i.queryParams);s.push(a.toString())}return i!=null&&i.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:s,error:a}=n;return a?this._returnResult({data:null,error:a}):await we(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,s;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:h}=await we(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&f.type==="totp"&&(!((s=f==null?void 0:f.totp)===null||s===void 0)&&s.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?G1(e.webauthn.credential_response):z1(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:f}=await we(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:f}))})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=await we(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:q1(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:B1(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(e){var n,i,s,a;if(e)try{const{payload:S}=Nd(e);let E=null;S.aal&&(E=S.aal);let w=E;const{data:{user:C},error:A}=await this.getUser(e);if(A)return this._returnResult({data:null,error:A});((i=(n=C==null?void 0:C.factors)===null||n===void 0?void 0:n.filter(M=>M.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(w="aal2");const k=S.amr||[];return{data:{currentLevel:E,nextLevel:w,currentAuthenticationMethods:k},error:null}}catch(S){if(pe(S))return this._returnResult({data:null,error:S});throw S}const{data:{session:l},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Nd(l.access_token);let h=null;f.aal&&(h=f.aal);let m=h;((a=(s=l.user.factors)===null||s===void 0?void 0:s.filter(S=>S.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(m="aal2");const b=f.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:b},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;return s?this._returnResult({data:null,error:s}):i?await we(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new _i})})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async i=>{const{data:{session:s},error:a}=i;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new _i});const l=await we(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&xn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,n){try{return await this._useSession(async i=>{const{data:{session:s},error:a}=i;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new _i});const l=await we(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&xn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;return i?this._returnResult({data:null,error:i}):n?await we(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new _i})})}catch(e){if(pe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;return s?this._returnResult({data:null,error:s}):i?(await we(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new _i})})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(c=>c.kid===e);if(i)return i;const s=Date.now();if(i=this.jwks.keys.find(c=>c.kid===e),i&&this.jwks_cached_at+KN>s)return i;const{data:a,error:l}=await we(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,i=a.keys.find(c=>c.kid===e),!i)?null:i}async getClaims(e,n={}){try{let i=e;if(!i){const{data:S,error:E}=await this.getSession();if(E||!S.session)return this._returnResult({data:null,error:E});i=S.session.access_token}const{header:s,payload:a,signature:l,raw:{header:c,payload:f}}=Nd(i);n!=null&&n.allowExpired||y1(a.exp);const h=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!h){const{error:S}=await this.getUser(i);if(S)throw S;return{data:{claims:a,header:s,signature:l},error:null}}const m=v1(s.alg),v=await crypto.subtle.importKey("jwk",h,m,!0,["verify"]);if(!await crypto.subtle.verify(m,v,l,r1(`${c}.${f}`)))throw new $m("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(i){if(pe(i))return this._returnResult({data:null,error:i});throw i}}}Ju.nextInstanceID={};const X1=Ju,W1="2.93.2";let _u="";typeof Deno<"u"?_u="deno":typeof document<"u"?_u="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_u="react-native":_u="node";const Q1={"X-Client-Info":`supabase-js-${_u}/${W1}`},Z1={headers:Q1},ek={schema:"public"},tk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},nk={};function Yu(t){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(t)}function ik(t,e){if(Yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(Yu(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rk(t){var e=ik(t,"string");return Yu(e)=="symbol"?e:e+""}function sk(t,e,n){return(e=rk(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fb(Object(n),!0).forEach(function(i){sk(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fb(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}const ok=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),ak=()=>Headers,lk=(t,e,n)=>{const i=ok(n),s=ak();return async(a,l)=>{var c;const f=(c=await e())!==null&&c!==void 0?c:t;let h=new s(l==null?void 0:l.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),i(a,qt(qt({},l),{},{headers:h}))}};function uk(t){return t.endsWith("/")?t:t+"/"}function ck(t,e){var n,i;const{db:s,auth:a,realtime:l,global:c}=t,{db:f,auth:h,realtime:m,global:v}=e,b={db:qt(qt({},f),s),auth:qt(qt({},h),a),realtime:qt(qt({},m),l),storage:{},global:qt(qt(qt({},v),c),{},{headers:qt(qt({},(n=v==null?void 0:v.headers)!==null&&n!==void 0?n:{}),(i=c==null?void 0:c.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return t.accessToken?b.accessToken=t.accessToken:delete b.accessToken,b}function dk(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(uk(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var fk=class extends X1{constructor(t){super(t)}},hk=class{constructor(t,e,n){var i,s;this.supabaseUrl=t,this.supabaseKey=e;const a=dk(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:ek,realtime:nk,auth:qt(qt({},tk),{},{storageKey:l}),global:Z1},f=ck(n??{},c);if(this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=f.auth)!==null&&h!==void 0?h:{},this.headers,f.global.fetch)}this.fetch=lk(e,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(qt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new XR(new URL("rest/v1",a).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new FN(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new $R(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:i}=await t.auth.getSession();return(e=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:a,flowType:l,lock:c,debug:f,throwOnError:h},m,v){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fk({url:this.authUrl.href,headers:qt(qt({},b),m),storageKey:a,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:i,userStorage:s,flowType:l,lock:c,debug:f,throwOnError:h,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new hN(this.realtimeUrl.href,qt(qt({},t),{},{params:qt(qt({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const pk=(t,e,n)=>new hk(t,e,n);function mk(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}mk()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const gk="https://egqhdyeoctcqmbycgfgk.supabase.co",yk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVncWhkeWVvY3RjcW1ieWNnZmdrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkwMzUxMTIsImV4cCI6MjA4NDYxMTExMn0.Ci1QXFCdHZYVrfDkkhskN0OVpAVag2l3B25HFAxtlys",fr=pk(gk,yk,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),qw=O.createContext(void 0);function vk({children:t}){const[e,n]=O.useState(null),[i,s]=O.useState(null),[a,l]=O.useState(!0);O.useEffect(()=>{const{data:{subscription:m}}=fr.auth.onAuthStateChange((v,b)=>{s(b),n((b==null?void 0:b.user)??null),l(!1)});return fr.auth.getSession().then(({data:{session:v}})=>{s(v),n((v==null?void 0:v.user)??null),l(!1)}),()=>m.unsubscribe()},[]);const c=O.useCallback(async(m,v)=>{const{error:b}=await fr.auth.signInWithPassword({email:m,password:v});return{error:b?new Error(b.message):null}},[]),f=O.useCallback(async()=>{await fr.auth.signOut()},[]),h={user:e,session:i,loading:a,signIn:c,signOut:f,isAuthenticated:!!i};return x.jsx(qw.Provider,{value:h,children:t})}function lc(){const t=O.useContext(qw);if(t===void 0)throw new Error("useAuth must be used within AuthProvider");return t}/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $b="popstate";function _k(t={}){function e(i,s){let{pathname:a,search:l,hash:c}=i.location;return jm("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:Ku(s)}return xk(e,n,null,t)}function Et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bk(){return Math.random().toString(36).substring(2,10)}function jb(t,e){return{usr:t.state,key:t.key,idx:e}}function jm(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?gl(e):e,state:n,key:e&&e.key||i||bk()}}function Ku({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function gl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function xk(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,l=s.history,c="POP",f=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function v(){c="POP";let C=m(),A=C==null?null:C-h;h=C,f&&f({action:c,location:w.location,delta:A})}function b(C,A){c="PUSH";let N=jm(w.location,C,A);h=m()+1;let k=jb(N,h),M=w.createHref(N);try{l.pushState(k,"",M)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;s.location.assign(M)}a&&f&&f({action:c,location:w.location,delta:1})}function S(C,A){c="REPLACE";let N=jm(w.location,C,A);h=m();let k=jb(N,h),M=w.createHref(N);l.replaceState(k,"",M),a&&f&&f({action:c,location:w.location,delta:0})}function E(C){return Sk(C)}let w={get action(){return c},get location(){return t(s,l)},listen(C){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener($b,v),f=C,()=>{s.removeEventListener($b,v),f=null}},createHref(C){return e(s,C)},createURL:E,encodeLocation(C){let A=E(C);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:b,replace:S,go(C){return l.go(C)}};return w}function Sk(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Et(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Ku(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function Bw(t,e,n="/"){return wk(t,e,n,!1)}function wk(t,e,n,i){let s=typeof e=="string"?gl(e):e,a=us(s.pathname||"/",n);if(a==null)return null;let l=Gw(t);Tk(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let h=Uk(a);c=Dk(l[f],h,i)}return c}function Gw(t,e=[],n=[],i="",s=!1){let a=(l,c,f=s,h)=>{let m={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(i)&&f)return;Et(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length)}let v=as([i,m.relativePath]),b=n.concat(m);l.children&&l.children.length>0&&(Et(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Gw(l.children,e,b,v,f)),!(l.path==null&&!l.index)&&e.push({path:v,score:Mk(v,l.index),routesMeta:b})};return t.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,c);else for(let h of zw(l.path))a(l,c,!0,h)}),e}function zw(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let l=zw(i.join("/")),c=[];return c.push(...l.map(f=>f===""?a:[a,f].join("/"))),s&&c.push(...l),c.map(f=>t.startsWith("/")&&f===""?"/":f)}function Tk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Ik(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var Ek=/^:[\w-]+$/,Ck=3,Ak=2,Rk=1,Nk=10,kk=-2,Jb=t=>t==="*";function Mk(t,e){let n=t.split("/"),i=n.length;return n.some(Jb)&&(i+=kk),e&&(i+=Ak),n.filter(s=>!Jb(s)).reduce((s,a)=>s+(Ek.test(a)?Ck:a===""?Rk:Nk),i)}function Ik(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function Dk(t,e,n=!1){let{routesMeta:i}=t,s={},a="/",l=[];for(let c=0;c<i.length;++c){let f=i[c],h=c===i.length-1,m=a==="/"?e:e.slice(a.length)||"/",v=hf({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},m),b=f.route;if(!v&&h&&n&&!i[i.length-1].route.index&&(v=hf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!v)return null;Object.assign(s,v.params),l.push({params:s,pathname:as([a,v.pathname]),pathnameBase:Bk(as([a,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(a=as([a,v.pathnameBase]))}return l}function hf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=Pk(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((h,{paramName:m,isOptional:v},b)=>{if(m==="*"){let E=c[b]||"";l=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const S=c[b];return v&&!S?h[m]=void 0:h[m]=(S||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:t}}function Pk(t,e=!1,n=!0){mr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(i.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function Uk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function us(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var Ok=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Lk(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?gl(t):t,a;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?a=Yb(n.substring(1),"/"):a=Yb(n,e)):a=e,{pathname:a,search:Gk(i),hash:zk(s)}}function Yb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function mm(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Lg(t){let e=qk(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function qg(t,e,n,i=!1){let s;typeof t=="string"?s=gl(t):(s={...t},Et(!s.pathname||!s.pathname.includes("?"),mm("?","pathname","search",s)),Et(!s.pathname||!s.pathname.includes("#"),mm("#","pathname","hash",s)),Et(!s.search||!s.search.includes("#"),mm("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=n;else{let v=e.length-1;if(!i&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),v-=1;s.pathname=b.join("/")}c=v>=0?e[v]:"/"}let f=Lk(s,c),h=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||m)&&(f.pathname+="/"),f}var as=t=>t.join("/").replace(/\/\/+/g,"/"),Bk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Gk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,zk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Hk=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Vk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Fk(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Hw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Vw(t,e){let n=t;if(typeof n!="string"||!Ok.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,s=!1;if(Hw)try{let a=new URL(window.location.href),l=n.startsWith("//")?new URL(a.protocol+n):new URL(n),c=us(l.pathname,e);l.origin===a.origin&&c!=null?n=c+l.search+l.hash:s=!0}catch{mr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Fw=["POST","PUT","PATCH","DELETE"];new Set(Fw);var $k=["GET",...Fw];new Set($k);var yl=O.createContext(null);yl.displayName="DataRouter";var Uf=O.createContext(null);Uf.displayName="DataRouterState";var jk=O.createContext(!1),$w=O.createContext({isTransitioning:!1});$w.displayName="ViewTransition";var Jk=O.createContext(new Map);Jk.displayName="Fetchers";var Yk=O.createContext(null);Yk.displayName="Await";var Mi=O.createContext(null);Mi.displayName="Navigation";var uc=O.createContext(null);uc.displayName="Location";var gr=O.createContext({outlet:null,matches:[],isDataRoute:!1});gr.displayName="Route";var Bg=O.createContext(null);Bg.displayName="RouteError";var jw="REACT_ROUTER_ERROR",Kk="REDIRECT",Xk="ROUTE_ERROR_RESPONSE";function Wk(t){if(t.startsWith(`${jw}:${Kk}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Qk(t){if(t.startsWith(`${jw}:${Xk}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Hk(e.status,e.statusText,e.data)}catch{}}function Zk(t,{relative:e}={}){Et(vl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=O.useContext(Mi),{hash:s,pathname:a,search:l}=cc(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:as([n,a])),i.createHref({pathname:c,search:l,hash:s})}function vl(){return O.useContext(uc)!=null}function Or(){return Et(vl(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(uc).location}var Jw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Yw(t){O.useContext(Mi).static||O.useLayoutEffect(t)}function Gg(){let{isDataRoute:t}=O.useContext(gr);return t?pM():eM()}function eM(){Et(vl(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(yl),{basename:e,navigator:n}=O.useContext(Mi),{matches:i}=O.useContext(gr),{pathname:s}=Or(),a=JSON.stringify(Lg(i)),l=O.useRef(!1);return Yw(()=>{l.current=!0}),O.useCallback((f,h={})=>{if(mr(l.current,Jw),!l.current)return;if(typeof f=="number"){n.go(f);return}let m=qg(f,JSON.parse(a),s,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:as([e,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[e,n,a,s,t])}var tM=O.createContext(null);function nM(t){let e=O.useContext(gr).outlet;return O.useMemo(()=>e&&O.createElement(tM.Provider,{value:t},e),[e,t])}function cc(t,{relative:e}={}){let{matches:n}=O.useContext(gr),{pathname:i}=Or(),s=JSON.stringify(Lg(n));return O.useMemo(()=>qg(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function iM(t,e){return Kw(t,e)}function Kw(t,e,n,i,s){var N;Et(vl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=O.useContext(Mi),{matches:l}=O.useContext(gr),c=l[l.length-1],f=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",v=c&&c.route;{let k=v&&v.path||"";Ww(h,!v||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let b=Or(),S;if(e){let k=typeof e=="string"?gl(e):e;Et(m==="/"||((N=k.pathname)==null?void 0:N.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${k.pathname}" was given in the \`location\` prop.`),S=k}else S=b;let E=S.pathname||"/",w=E;if(m!=="/"){let k=m.replace(/^\//,"").split("/");w="/"+E.replace(/^\//,"").split("/").slice(k.length).join("/")}let C=Bw(t,{pathname:w});mr(v||C!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),mr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=lM(C&&C.map(k=>Object.assign({},k,{params:Object.assign({},f,k.params),pathname:as([m,a.encodeLocation?a.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:as([m,a.encodeLocation?a.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),l,n,i,s);return e&&A?O.createElement(uc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},A):A}function rM(){let t=hM(),e=Vk(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:a},"ErrorBoundary")," or"," ",O.createElement("code",{style:a},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:s},n):null,l)}var sM=O.createElement(rM,null),Xw=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=Qk(t.digest);n&&(t=n)}let e=t!==void 0?O.createElement(gr.Provider,{value:this.props.routeContext},O.createElement(Bg.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?O.createElement(oM,{error:t},e):e}};Xw.contextType=jk;var gm=new WeakMap;function oM({children:t,error:e}){let{basename:n}=O.useContext(Mi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=Wk(e.digest);if(i){let s=gm.get(e);if(s)throw s;let a=Vw(i.location,n);if(Hw&&!gm.get(e))if(a.isExternal||i.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:i.replace}));throw gm.set(e,l),l}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function aM({routeContext:t,match:e,children:n}){let i=O.useContext(yl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(gr.Provider,{value:t},n)}function lM(t,e=[],n=null,i=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let m=a.findIndex(v=>v.route.id&&(l==null?void 0:l[v.route.id])!==void 0);Et(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,f=-1;if(n)for(let m=0;m<a.length;m++){let v=a[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=m),v.route.id){let{loaderData:b,errors:S}=n,E=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||E){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}let h=n&&i?(m,v)=>{var b,S;i(m,{location:n.location,params:((S=(b=n.matches)==null?void 0:b[0])==null?void 0:S.params)??{},unstable_pattern:Fk(n.matches),errorInfo:v})}:void 0;return a.reduceRight((m,v,b)=>{let S,E=!1,w=null,C=null;n&&(S=l&&v.route.id?l[v.route.id]:void 0,w=v.route.errorElement||sM,c&&(f<0&&b===0?(Ww("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,C=null):f===b&&(E=!0,C=v.route.hydrateFallbackElement||null)));let A=e.concat(a.slice(0,b+1)),N=()=>{let k;return S?k=w:E?k=C:v.route.Component?k=O.createElement(v.route.Component,null):v.route.element?k=v.route.element:k=m,O.createElement(aM,{match:v,routeContext:{outlet:m,matches:A,isDataRoute:n!=null},children:k})};return n&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?O.createElement(Xw,{location:n.location,revalidation:n.revalidation,component:w,error:S,children:N(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:h}):N()},null)}function zg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uM(t){let e=O.useContext(yl);return Et(e,zg(t)),e}function cM(t){let e=O.useContext(Uf);return Et(e,zg(t)),e}function dM(t){let e=O.useContext(gr);return Et(e,zg(t)),e}function Hg(t){let e=dM(t),n=e.matches[e.matches.length-1];return Et(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function fM(){return Hg("useRouteId")}function hM(){var i;let t=O.useContext(Bg),e=cM("useRouteError"),n=Hg("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function pM(){let{router:t}=uM("useNavigate"),e=Hg("useNavigate"),n=O.useRef(!1);return Yw(()=>{n.current=!0}),O.useCallback(async(s,a={})=>{mr(n.current,Jw),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var Kb={};function Ww(t,e,n){!e&&!Kb[t]&&(Kb[t]=!0,mr(!1,n))}O.memo(mM);function mM({routes:t,future:e,state:n,onError:i}){return Kw(t,void 0,n,i,e)}function Qw({to:t,replace:e,state:n,relative:i}){Et(vl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=O.useContext(Mi);mr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=O.useContext(gr),{pathname:l}=Or(),c=Gg(),f=qg(t,Lg(a),l,i==="path"),h=JSON.stringify(f);return O.useEffect(()=>{c(JSON.parse(h),{replace:e,state:n,relative:i})},[c,h,i,e,n]),null}function gM(t){return nM(t.context)}function ko(t){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yM({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:a=!1,unstable_useTransitions:l}){Et(!vl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),f=O.useMemo(()=>({basename:c,navigator:s,static:a,unstable_useTransitions:l,future:{}}),[c,s,a,l]);typeof n=="string"&&(n=gl(n));let{pathname:h="/",search:m="",hash:v="",state:b=null,key:S="default"}=n,E=O.useMemo(()=>{let w=us(h,c);return w==null?null:{location:{pathname:w,search:m,hash:v,state:b,key:S},navigationType:i}},[c,h,m,v,b,S,i]);return mr(E!=null,`<Router basename="${c}"> is not able to match the URL "${h}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:O.createElement(Mi.Provider,{value:f},O.createElement(uc.Provider,{children:e,value:E}))}function vM({children:t,location:e}){return iM(Jm(t),e)}function Jm(t,e=[]){let n=[];return O.Children.forEach(t,(i,s)=>{if(!O.isValidElement(i))return;let a=[...e,s];if(i.type===O.Fragment){n.push.apply(n,Jm(i.props.children,a));return}Et(i.type===ko,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Jm(i.props.children,a)),n.push(l)}),n}var Xd="get",Wd="application/x-www-form-urlencoded";function Of(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function _M(t){return Of(t)&&t.tagName.toLowerCase()==="button"}function bM(t){return Of(t)&&t.tagName.toLowerCase()==="form"}function xM(t){return Of(t)&&t.tagName.toLowerCase()==="input"}function SM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wM(t,e){return t.button===0&&(!e||e==="_self")&&!SM(t)}var kd=null;function TM(){if(kd===null)try{new FormData(document.createElement("form"),0),kd=!1}catch{kd=!0}return kd}var EM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ym(t){return t!=null&&!EM.has(t)?(mr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wd}"`),null):t}function CM(t,e){let n,i,s,a,l;if(bM(t)){let c=t.getAttribute("action");i=c?us(c,e):null,n=t.getAttribute("method")||Xd,s=ym(t.getAttribute("enctype"))||Wd,a=new FormData(t)}else if(_M(t)||xM(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||c.getAttribute("action");if(i=f?us(f,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Xd,s=ym(t.getAttribute("formenctype"))||ym(c.getAttribute("enctype"))||Wd,a=new FormData(c,t),!TM()){let{name:h,type:m,value:v}=t;if(m==="image"){let b=h?`${h}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else h&&a.append(h,v)}}else{if(Of(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xd,i=null,s=Wd,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function AM(t,e,n,i){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${i}`:s.pathname=`${s.pathname}.${i}`:s.pathname==="/"?s.pathname=`_root.${i}`:e&&us(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function RM(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function NM(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function kM(t,e,n){let i=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await RM(a,n);return l.links?l.links():[]}return[]}));return PM(i.flat(1).filter(NM).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Xb(t,e,n,i,s,a){let l=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,c=(f,h)=>{var m;return n[h].pathname!==f.pathname||((m=n[h].route.path)==null?void 0:m.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,h)=>l(f,h)||c(f,h)):a==="data"?e.filter((f,h)=>{var v;let m=i.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(l(f,h)||c(f,h))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function MM(t,e,{includeHydrateFallback:n}={}){return IM(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function IM(t){return[...new Set(t)]}function DM(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function PM(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let a=JSON.stringify(DM(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function Zw(){let t=O.useContext(yl);return Vg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function UM(){let t=O.useContext(Uf);return Vg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Fg=O.createContext(void 0);Fg.displayName="FrameworkContext";function eT(){let t=O.useContext(Fg);return Vg(t,"You must render this element inside a <HydratedRouter> element"),t}function OM(t,e){let n=O.useContext(Fg),[i,s]=O.useState(!1),[a,l]=O.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:h,onMouseLeave:m,onTouchStart:v}=e,b=O.useRef(null);O.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let w=A=>{A.forEach(N=>{l(N.isIntersecting)})},C=new IntersectionObserver(w,{threshold:.5});return b.current&&C.observe(b.current),()=>{C.disconnect()}}},[t]),O.useEffect(()=>{if(i){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[i]);let S=()=>{s(!0)},E=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,b,{}]:[a,b,{onFocus:fu(c,S),onBlur:fu(f,E),onMouseEnter:fu(h,S),onMouseLeave:fu(m,E),onTouchStart:fu(v,S)}]:[!1,b,{}]}function fu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function LM({page:t,...e}){let{router:n}=Zw(),i=O.useMemo(()=>Bw(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?O.createElement(BM,{page:t,matches:i,...e}):null}function qM(t){let{manifest:e,routeModules:n}=eT(),[i,s]=O.useState([]);return O.useEffect(()=>{let a=!1;return kM(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),i}function BM({page:t,matches:e,...n}){let i=Or(),{future:s,manifest:a,routeModules:l}=eT(),{basename:c}=Zw(),{loaderData:f,matches:h}=UM(),m=O.useMemo(()=>Xb(t,e,h,a,i,"data"),[t,e,h,a,i]),v=O.useMemo(()=>Xb(t,e,h,a,i,"assets"),[t,e,h,a,i]),b=O.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let w=new Set,C=!1;if(e.forEach(N=>{var M;let k=a.routes[N.route.id];!k||!k.hasLoader||(!m.some(U=>U.route.id===N.route.id)&&N.route.id in f&&((M=l[N.route.id])!=null&&M.shouldRevalidate)||k.hasClientLoader?C=!0:w.add(N.route.id))}),w.size===0)return[];let A=AM(t,c,s.unstable_trailingSlashAwareDataRequests,"data");return C&&w.size>0&&A.searchParams.set("_routes",e.filter(N=>w.has(N.route.id)).map(N=>N.route.id).join(",")),[A.pathname+A.search]},[c,s.unstable_trailingSlashAwareDataRequests,f,i,a,m,e,t,l]),S=O.useMemo(()=>MM(v,a),[v,a]),E=qM(v);return O.createElement(O.Fragment,null,b.map(w=>O.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),S.map(w=>O.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),E.map(({key:w,link:C})=>O.createElement("link",{key:w,nonce:n.nonce,...C,crossOrigin:C.crossOrigin??n.crossOrigin})))}function GM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var zM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zM&&(window.__reactRouterVersion="7.13.0")}catch{}function HM({basename:t,children:e,unstable_useTransitions:n,window:i}){let s=O.useRef();s.current==null&&(s.current=_k({window:i,v5Compat:!0}));let a=s.current,[l,c]=O.useState({action:a.action,location:a.location}),f=O.useCallback(h=>{n===!1?c(h):O.startTransition(()=>c(h))},[n]);return O.useLayoutEffect(()=>a.listen(f),[a,f]),O.createElement(yM,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a,unstable_useTransitions:n})}var tT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dr=O.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:a,replace:l,state:c,target:f,to:h,preventScrollReset:m,viewTransition:v,unstable_defaultShouldRevalidate:b,...S},E){let{basename:w,unstable_useTransitions:C}=O.useContext(Mi),A=typeof h=="string"&&tT.test(h),N=Vw(h,w);h=N.to;let k=Zk(h,{relative:s}),[M,U,z]=OM(i,S),I=jM(h,{replace:l,state:c,target:f,preventScrollReset:m,relative:s,viewTransition:v,unstable_defaultShouldRevalidate:b,unstable_useTransitions:C});function q(J){e&&e(J),J.defaultPrevented||I(J)}let B=O.createElement("a",{...S,...z,href:N.absoluteURL||k,onClick:N.isExternal||a?e:q,ref:GM(E,U),target:f,"data-discover":!A&&n==="render"?"true":void 0});return M&&!A?O.createElement(O.Fragment,null,B,O.createElement(LM,{page:k})):B});Dr.displayName="Link";var VM=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:a,to:l,viewTransition:c,children:f,...h},m){let v=cc(l,{relative:h.relative}),b=Or(),S=O.useContext(Uf),{navigator:E,basename:w}=O.useContext(Mi),C=S!=null&&WM(v)&&c===!0,A=E.encodeLocation?E.encodeLocation(v).pathname:v.pathname,N=b.pathname,k=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(N=N.toLowerCase(),k=k?k.toLowerCase():null,A=A.toLowerCase()),k&&w&&(k=us(k,w)||k);const M=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let U=N===A||!s&&N.startsWith(A)&&N.charAt(M)==="/",z=k!=null&&(k===A||!s&&k.startsWith(A)&&k.charAt(A.length)==="/"),I={isActive:U,isPending:z,isTransitioning:C},q=U?e:void 0,B;typeof i=="function"?B=i(I):B=[i,U?"active":null,z?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let J=typeof a=="function"?a(I):a;return O.createElement(Dr,{...h,"aria-current":q,className:B,ref:m,style:J,to:l,viewTransition:c},typeof f=="function"?f(I):f)});VM.displayName="NavLink";var FM=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:a,method:l=Xd,action:c,onSubmit:f,relative:h,preventScrollReset:m,viewTransition:v,unstable_defaultShouldRevalidate:b,...S},E)=>{let{unstable_useTransitions:w}=O.useContext(Mi),C=KM(),A=XM(c,{relative:h}),N=l.toLowerCase()==="get"?"get":"post",k=typeof c=="string"&&tT.test(c),M=U=>{if(f&&f(U),U.defaultPrevented)return;U.preventDefault();let z=U.nativeEvent.submitter,I=(z==null?void 0:z.getAttribute("formmethod"))||l,q=()=>C(z||U.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:s,state:a,relative:h,preventScrollReset:m,viewTransition:v,unstable_defaultShouldRevalidate:b});w&&n!==!1?O.startTransition(()=>q()):q()};return O.createElement("form",{ref:E,method:N,action:A,onSubmit:i?f:M,...S,"data-discover":!k&&t==="render"?"true":void 0})});FM.displayName="Form";function $M(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nT(t){let e=O.useContext(yl);return Et(e,$M(t)),e}function jM(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:c,unstable_useTransitions:f}={}){let h=Gg(),m=Or(),v=cc(t,{relative:a});return O.useCallback(b=>{if(wM(b,e)){b.preventDefault();let S=n!==void 0?n:Ku(m)===Ku(v),E=()=>h(t,{replace:S,state:i,preventScrollReset:s,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:c});f?O.startTransition(()=>E()):E()}},[m,h,v,n,i,e,t,s,a,l,c,f])}var JM=0,YM=()=>`__${String(++JM)}__`;function KM(){let{router:t}=nT("useSubmit"),{basename:e}=O.useContext(Mi),n=fM(),i=t.fetch,s=t.navigate;return O.useCallback(async(a,l={})=>{let{action:c,method:f,encType:h,formData:m,body:v}=CM(a,e);if(l.navigate===!1){let b=l.fetcherKey||YM();await i(b,n,l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:v,formMethod:l.method||f,formEncType:l.encType||h,flushSync:l.flushSync})}else await s(l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:v,formMethod:l.method||f,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,s,e,n])}function XM(t,{relative:e}={}){let{basename:n}=O.useContext(Mi),i=O.useContext(gr);Et(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...cc(t||".",{relative:e})},l=Or();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),f=c.getAll("index");if(f.some(m=>m==="")){c.delete("index"),f.filter(v=>v).forEach(v=>c.append("index",v));let m=c.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:as([n,a.pathname])),Ku(a)}function WM(t,{relative:e}={}){let n=O.useContext($w);Et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=nT("useViewTransitionState"),s=cc(t,{relative:e});if(!n.isTransitioning)return!1;let a=us(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=us(n.nextLocation.pathname,i)||n.nextLocation.pathname;return hf(s.pathname,l)!=null||hf(s.pathname,a)!=null}var nt=(t=>(t.HOME="home",t.LOST_PETS="lost_pets",t.ADOPTION="adoption",t.DONATIONS="donations",t.AI_ASSISTANT="ai_assistant",t.FAQ="faq",t))(nt||{});const QM=({currentView:t,setView:e})=>x.jsx("header",{className:"sticky top-0 z-50 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-md border-b border-accent-teal/10 px-4 md:px-10 lg:px-20 py-3",children:x.jsxs("div",{className:"max-w-[1440px] mx-auto flex items-center justify-between gap-4",children:[x.jsxs("div",{className:"flex items-center gap-8",children:[x.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>e(nt.HOME),children:[x.jsx("div",{className:"bg-primary p-1.5 rounded-lg text-white",children:x.jsx("span",{className:"material-symbols-outlined block",children:"pets"})}),x.jsx("h2",{className:"text-lg font-bold tracking-tight",children:"PetWelfare"})]}),x.jsxs("nav",{className:"hidden lg:flex items-center gap-8",children:[x.jsx("button",{onClick:()=>e(nt.HOME),className:`text-sm font-semibold transition-colors ${t===nt.HOME?"text-primary":"hover:text-primary"}`,children:"Inicio"}),x.jsx("button",{onClick:()=>e(nt.LOST_PETS),className:`text-sm font-semibold transition-colors ${t===nt.LOST_PETS?"text-primary":"hover:text-primary"}`,children:"Mascotas Perdidas"}),x.jsx("button",{onClick:()=>e(nt.ADOPTION),className:`text-sm font-semibold transition-colors ${t===nt.ADOPTION?"text-primary":"hover:text-primary"}`,children:"Adopcin"}),x.jsx("button",{onClick:()=>e(nt.DONATIONS),className:`text-sm font-semibold transition-colors ${t===nt.DONATIONS?"text-primary":"hover:text-primary"}`,children:"Donaciones"}),x.jsxs("button",{onClick:()=>e(nt.FAQ),className:`text-sm font-semibold transition-colors ${t===nt.FAQ?"text-primary":"hover:text-primary"} flex items-center gap-1`,children:[x.jsx("span",{className:"material-symbols-outlined text-sm",children:"help"}),"Preguntas"]}),x.jsxs("button",{onClick:()=>e(nt.AI_ASSISTANT),className:`text-sm font-semibold transition-colors ${t===nt.AI_ASSISTANT?"text-primary":"hover:text-primary"} flex items-center gap-1`,children:[x.jsx("span",{className:"material-symbols-outlined text-sm",children:"smart_toy"}),"Asistente AI"]})]})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("button",{className:"hidden md:block bg-primary hover:bg-primary/90 text-background-dark px-4 py-2 rounded-lg text-sm font-bold transition-all shadow-sm",children:"Reportar Mascota"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("button",{className:"p-2 rounded-lg bg-accent-teal/5 dark:bg-white/5 hover:bg-accent-teal/10 transition-colors",children:x.jsx("span",{className:"material-symbols-outlined text-xl",children:"notifications"})}),x.jsx("div",{className:"size-10 rounded-full border-2 border-primary overflow-hidden bg-slate-200",children:x.jsx("img",{src:"https://picsum.photos/id/64/100/100",alt:"Avatar",className:"w-full h-full object-cover"})})]})]})]})}),ZM=[{id:"1",name:"Cooper",breed:"Beagle",species:"dog",gender:"male",status:"lost",urgency:!0,timeLabel:"hace 2 horas",location:"Parque Oakwood",distance:"2.4 km",image:"https://images.unsplash.com/photo-1537151608828-ea2b11777ee8?q=80&w=800&auto=format&fit=crop"},{id:"2",name:"Luna",breed:"Domstica",species:"cat",gender:"female",status:"lost",timeLabel:"hace 1 da",location:"Calle Willow",distance:"0.8 km",image:"https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?q=80&w=800&auto=format&fit=crop"},{id:"3",name:"Mochi",breed:"Bulldog Francs",species:"dog",gender:"male",status:"lost",urgency:!0,timeLabel:"hace 5 horas",location:"Plaza Central",distance:"1.2 km",image:"https://images.unsplash.com/photo-1583511655857-d19b40a7a54e?q=80&w=800&auto=format&fit=crop"},{id:"4",name:"Buddy",breed:"Golden Retriever",species:"dog",gender:"male",status:"lost",timeLabel:"hace 3 das",location:"Ro Este",distance:"5.0 km",image:"https://images.unsplash.com/photo-1552053831-71594a27632d?q=80&w=800&auto=format&fit=crop"}],Wb=[{id:"a1",name:"Cooper",breed:"Golden Retriever",species:"dog",gender:"male",age:"2 Aos",status:"adoption",location:"A 4 km",image:"https://images.unsplash.com/photo-1552053831-71594a27632d?q=80&w=800&auto=format&fit=crop",description:"Un compaero lleno de energa al que le encanta jugar y nadar.",medStatus:["Vacunado","Esterilizado","Microchip"]},{id:"a2",name:"Luna",breed:"Mezcla de Corgi",species:"dog",gender:"female",age:"4 Aos",status:"adoption",location:"A 6 km",image:"https://images.unsplash.com/photo-1518717758536-85ae29035b6d?q=80&w=800&auto=format&fit=crop",description:"Muy tranquila y observadora. Luna disfruta de paseos cortos.",medStatus:["Esterilizada","Vacunada"]}],Co=[{id:"c1",title:"Ciruga para Max: Recuperacin de Pata",description:"Ciruga ortopdica especializada urgente para un cruce de golden retriever rescatado.",raised:1250,goal:2e3,image:"https://images.unsplash.com/photo-1551730459-92db2a308d6a?q=80&w=800&auto=format&fit=crop",urgency:!0,type:"medical"},{id:"c2",title:"Rescate: 15 Cachorros Encontrados",description:"Vacunacin inmediata, desparasitacin y nutricin especializada necesaria.",raised:450,goal:800,image:"https://images.unsplash.com/photo-1548199973-03cce0bbc87b?q=80&w=800&auto=format&fit=crop",type:"medical"}];function is(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iT(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Ri={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},ll={duration:.5,overwrite:!1,delay:0},$g,wn,Tt,Qi=1e8,ft=1/Qi,Ym=Math.PI*2,eI=Ym/4,tI=0,rT=Math.sqrt,nI=Math.cos,iI=Math.sin,hn=function(e){return typeof e=="string"},Bt=function(e){return typeof e=="function"},cs=function(e){return typeof e=="number"},jg=function(e){return typeof e>"u"},Ur=function(e){return typeof e=="object"},ri=function(e){return e!==!1},Jg=function(){return typeof window<"u"},Md=function(e){return Bt(e)||hn(e)},sT=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Pn=Array.isArray,rI=/random\([^)]+\)/g,sI=/,\s*/g,Qb=/(?:-?\.?\d|\.)+/gi,oT=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Ya=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,vm=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,aT=/[+-]=-?[.\d]+/,oI=/[^,'"\[\]\s]+/gi,aI=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,It,Rr,Km,Yg,Ni={},pf={},lT,uT=function(e){return(pf=ul(e,Ni))&&li},Kg=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},Xu=function(e,n){return!n&&console.warn(e)},cT=function(e,n){return e&&(Ni[e]=n)&&pf&&(pf[e]=n)||Ni},Wu=function(){return 0},lI={suppressEvents:!0,isStart:!0,kill:!1},Qd={suppressEvents:!0,kill:!1},uI={suppressEvents:!0},Xg={},Xs=[],Xm={},dT,Si={},_m={},Zb=30,Zd=[],Wg="",Qg=function(e){var n=e[0],i,s;if(Ur(n)||Bt(n)||(e=[e]),!(i=(n._gsap||{}).harness)){for(s=Zd.length;s--&&!Zd[s].targetTest(n););i=Zd[s]}for(s=e.length;s--;)e[s]&&(e[s]._gsap||(e[s]._gsap=new UT(e[s],i)))||e.splice(s,1);return e},Go=function(e){return e._gsap||Qg(Zi(e))[0]._gsap},fT=function(e,n,i){return(i=e[n])&&Bt(i)?e[n]():jg(i)&&e.getAttribute&&e.getAttribute(n)||i},si=function(e,n){return(e=e.split(",")).forEach(n)||e},Ft=function(e){return Math.round(e*1e5)/1e5||0},Mt=function(e){return Math.round(e*1e7)/1e7||0},el=function(e,n){var i=n.charAt(0),s=parseFloat(n.substr(2));return e=parseFloat(e),i==="+"?e+s:i==="-"?e-s:i==="*"?e*s:e/s},cI=function(e,n){for(var i=n.length,s=0;e.indexOf(n[s])<0&&++s<i;);return s<i},mf=function(){var e=Xs.length,n=Xs.slice(0),i,s;for(Xm={},Xs.length=0,i=0;i<e;i++)s=n[i],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},Zg=function(e){return!!(e._initted||e._startAt||e.add)},hT=function(e,n,i,s){Xs.length&&!wn&&mf(),e.render(n,i,!!(wn&&n<0&&Zg(e))),Xs.length&&!wn&&mf()},pT=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(oI).length<2?n:hn(e)?e.trim():e},mT=function(e){return e},ki=function(e,n){for(var i in n)i in e||(e[i]=n[i]);return e},dI=function(e){return function(n,i){for(var s in i)s in n||s==="duration"&&e||s==="ease"||(n[s]=i[s])}},ul=function(e,n){for(var i in n)e[i]=n[i];return e},ex=function t(e,n){for(var i in n)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=Ur(n[i])?t(e[i]||(e[i]={}),n[i]):n[i]);return e},gf=function(e,n){var i={},s;for(s in e)s in n||(i[s]=e[s]);return i},ku=function(e){var n=e.parent||It,i=e.keyframes?dI(Pn(e.keyframes)):ki;if(ri(e.inherit))for(;n;)i(e,n.vars.defaults),n=n.parent||n._dp;return e},fI=function(e,n){for(var i=e.length,s=i===n.length;s&&i--&&e[i]===n[i];);return i<0},gT=function(e,n,i,s,a){var l=e[s],c;if(a)for(c=n[a];l&&l[a]>c;)l=l._prev;return l?(n._next=l._next,l._next=n):(n._next=e[i],e[i]=n),n._next?n._next._prev=n:e[s]=n,n._prev=l,n.parent=n._dp=e,n},Lf=function(e,n,i,s){i===void 0&&(i="_first"),s===void 0&&(s="_last");var a=n._prev,l=n._next;a?a._next=l:e[i]===n&&(e[i]=l),l?l._prev=a:e[s]===n&&(e[s]=a),n._next=n._prev=n.parent=null},Zs=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},zo=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},hI=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},Wm=function(e,n,i,s){return e._startAt&&(wn?e._startAt.revert(Qd):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,s))},pI=function t(e){return!e||e._ts&&t(e.parent)},tx=function(e){return e._repeat?cl(e._tTime,e=e.duration()+e._rDelay)*e:0},cl=function(e,n){var i=Math.floor(e=Mt(e/n));return e&&i===e?i-1:i},yf=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},qf=function(e){return e._end=Mt(e._start+(e._tDur/Math.abs(e._ts||e._rts||ft)||0))},Bf=function(e,n){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=Mt(i._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),qf(e),i._dirty||zo(i,e)),e},yT=function(e,n){var i;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(i=yf(e.rawTime(),n),(!n._dur||dc(0,n.totalDuration(),i)-n._tTime>ft)&&n.render(i,!0)),zo(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-ft}},kr=function(e,n,i,s){return n.parent&&Zs(n),n._start=Mt((cs(i)?i:i||e!==It?Ki(e,i,n):e._time)+n._delay),n._end=Mt(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),gT(e,n,"_first","_last",e._sort?"_start":0),Qm(n)||(e._recent=n),s||yT(e,n),e._ts<0&&Bf(e,e._tTime),e},vT=function(e,n){return(Ni.ScrollTrigger||Kg("scrollTrigger",n))&&Ni.ScrollTrigger.create(n,e)},_T=function(e,n,i,s,a){if(ty(e,n,a),!e._initted)return 1;if(!i&&e._pt&&!wn&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&dT!==Ti.frame)return Xs.push(e),e._lazy=[a,s],1},mI=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},Qm=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},gI=function(e,n,i,s){var a=e.ratio,l=n<0||!n&&(!e._start&&mI(e)&&!(!e._initted&&Qm(e))||(e._ts<0||e._dp._ts<0)&&!Qm(e))?0:1,c=e._rDelay,f=0,h,m,v;if(c&&e._repeat&&(f=dc(0,e._tDur,n),m=cl(f,c),e._yoyo&&m&1&&(l=1-l),m!==cl(e._tTime,c)&&(a=1-l,e.vars.repeatRefresh&&e._initted&&e.invalidate())),l!==a||wn||s||e._zTime===ft||!n&&e._zTime){if(!e._initted&&_T(e,n,s,i,f))return;for(v=e._zTime,e._zTime=n||(i?ft:0),i||(i=n&&!v),e.ratio=l,e._from&&(l=1-l),e._time=0,e._tTime=f,h=e._pt;h;)h.r(l,h.d),h=h._next;n<0&&Wm(e,n,i,!0),e._onUpdate&&!i&&Ci(e,"onUpdate"),f&&e._repeat&&!i&&e.parent&&Ci(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===l&&(l&&Zs(e,1),!i&&!wn&&(Ci(e,l?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},yI=function(e,n,i){var s;if(i>n)for(s=e._first;s&&s._start<=i;){if(s.data==="isPause"&&s._start>n)return s;s=s._next}else for(s=e._last;s&&s._start>=i;){if(s.data==="isPause"&&s._start<n)return s;s=s._prev}},dl=function(e,n,i,s){var a=e._repeat,l=Mt(n)||0,c=e._tTime/e._tDur;return c&&!s&&(e._time*=l/e._dur),e._dur=l,e._tDur=a?a<0?1e10:Mt(l*(a+1)+e._rDelay*a):l,c>0&&!s&&Bf(e,e._tTime=e._tDur*c),e.parent&&qf(e),i||zo(e.parent,e),e},nx=function(e){return e instanceof $n?zo(e):dl(e,e._dur)},vI={_start:0,endTime:Wu,totalDuration:Wu},Ki=function t(e,n,i){var s=e.labels,a=e._recent||vI,l=e.duration()>=Qi?a.endTime(!1):e._dur,c,f,h;return hn(n)&&(isNaN(n)||n in s)?(f=n.charAt(0),h=n.substr(-1)==="%",c=n.indexOf("="),f==="<"||f===">"?(c>=0&&(n=n.replace(/=/,"")),(f==="<"?a._start:a.endTime(a._repeat>=0))+(parseFloat(n.substr(1))||0)*(h?(c<0?a:i).totalDuration()/100:1)):c<0?(n in s||(s[n]=l),s[n]):(f=parseFloat(n.charAt(c-1)+n.substr(c+1)),h&&i&&(f=f/100*(Pn(i)?i[0]:i).totalDuration()),c>1?t(e,n.substr(0,c-1),i)+f:l+f)):n==null?l:+n},Mu=function(e,n,i){var s=cs(n[1]),a=(s?2:1)+(e<2?0:1),l=n[a],c,f;if(s&&(l.duration=n[1]),l.parent=i,e){for(c=l,f=i;f&&!("immediateRender"in c);)c=f.vars.defaults||{},f=ri(f.vars.inherit)&&f.parent;l.immediateRender=ri(c.immediateRender),e<2?l.runBackwards=1:l.startAt=n[a-1]}return new tn(n[0],l,n[a+1])},io=function(e,n){return e||e===0?n(e):n},dc=function(e,n,i){return i<e?e:i>n?n:i},Mn=function(e,n){return!hn(e)||!(n=aI.exec(e))?"":n[1]},_I=function(e,n,i){return io(i,function(s){return dc(e,n,s)})},Zm=[].slice,bT=function(e,n){return e&&Ur(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&Ur(e[0]))&&!e.nodeType&&e!==Rr},bI=function(e,n,i){return i===void 0&&(i=[]),e.forEach(function(s){var a;return hn(s)&&!n||bT(s,1)?(a=i).push.apply(a,Zi(s)):i.push(s)})||i},Zi=function(e,n,i){return Tt&&!n&&Tt.selector?Tt.selector(e):hn(e)&&!i&&(Km||!fl())?Zm.call((n||Yg).querySelectorAll(e),0):Pn(e)?bI(e,i):bT(e)?Zm.call(e,0):e?[e]:[]},eg=function(e){return e=Zi(e)[0]||Xu("Invalid scope")||{},function(n){var i=e.current||e.nativeElement||e;return Zi(n,i.querySelectorAll?i:i===e?Xu("Invalid scope")||Yg.createElement("div"):e)}},xT=function(e){return e.sort(function(){return .5-Math.random()})},ST=function(e){if(Bt(e))return e;var n=Ur(e)?e:{each:e},i=Ho(n.ease),s=n.from||0,a=parseFloat(n.base)||0,l={},c=s>0&&s<1,f=isNaN(s)||c,h=n.axis,m=s,v=s;return hn(s)?m=v={center:.5,edges:.5,end:1}[s]||0:!c&&f&&(m=s[0],v=s[1]),function(b,S,E){var w=(E||n).length,C=l[w],A,N,k,M,U,z,I,q,B;if(!C){if(B=n.grid==="auto"?0:(n.grid||[1,Qi])[1],!B){for(I=-Qi;I<(I=E[B++].getBoundingClientRect().left)&&B<w;);B<w&&B--}for(C=l[w]=[],A=f?Math.min(B,w)*m-.5:s%B,N=B===Qi?0:f?w*v/B-.5:s/B|0,I=0,q=Qi,z=0;z<w;z++)k=z%B-A,M=N-(z/B|0),C[z]=U=h?Math.abs(h==="y"?M:k):rT(k*k+M*M),U>I&&(I=U),U<q&&(q=U);s==="random"&&xT(C),C.max=I-q,C.min=q,C.v=w=(parseFloat(n.amount)||parseFloat(n.each)*(B>w?w-1:h?h==="y"?w/B:B:Math.max(B,w/B))||0)*(s==="edges"?-1:1),C.b=w<0?a-w:a,C.u=Mn(n.amount||n.each)||0,i=i&&w<0?IT(i):i}return w=(C[b]-C.min)/C.max||0,Mt(C.b+(i?i(w):w)*C.v)+C.u}},tg=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var s=Mt(Math.round(parseFloat(i)/e)*e*n);return(s-s%1)/n+(cs(i)?0:Mn(i))}},wT=function(e,n){var i=Pn(e),s,a;return!i&&Ur(e)&&(s=i=e.radius||Qi,e.values?(e=Zi(e.values),(a=!cs(e[0]))&&(s*=s)):e=tg(e.increment)),io(n,i?Bt(e)?function(l){return a=e(l),Math.abs(a-l)<=s?a:l}:function(l){for(var c=parseFloat(a?l.x:l),f=parseFloat(a?l.y:0),h=Qi,m=0,v=e.length,b,S;v--;)a?(b=e[v].x-c,S=e[v].y-f,b=b*b+S*S):b=Math.abs(e[v]-c),b<h&&(h=b,m=v);return m=!s||h<=s?e[m]:l,a||m===l||cs(l)?m:m+Mn(l)}:tg(e))},TT=function(e,n,i,s){return io(Pn(e)?!n:i===!0?!!(i=0):!s,function(){return Pn(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(s=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(n-e+i*.99))/i)*i*s)/s})},xI=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return function(s){return n.reduce(function(a,l){return l(a)},s)}},SI=function(e,n){return function(i){return e(parseFloat(i))+(n||Mn(i))}},wI=function(e,n,i){return CT(e,n,0,1,i)},ET=function(e,n,i){return io(i,function(s){return e[~~n(s)]})},TI=function t(e,n,i){var s=n-e;return Pn(e)?ET(e,t(0,e.length),n):io(i,function(a){return(s+(a-e)%s)%s+e})},EI=function t(e,n,i){var s=n-e,a=s*2;return Pn(e)?ET(e,t(0,e.length-1),n):io(i,function(l){return l=(a+(l-e)%a)%a||0,e+(l>s?a-l:l)})},Qu=function(e){return e.replace(rI,function(n){var i=n.indexOf("[")+1,s=n.substring(i||7,i?n.indexOf("]"):n.length-1).split(sI);return TT(i?s:+s[0],i?0:+s[1],+s[2]||1e-5)})},CT=function(e,n,i,s,a){var l=n-e,c=s-i;return io(a,function(f){return i+((f-e)/l*c||0)})},CI=function t(e,n,i,s){var a=isNaN(e+n)?0:function(S){return(1-S)*e+S*n};if(!a){var l=hn(e),c={},f,h,m,v,b;if(i===!0&&(s=1)&&(i=null),l)e={p:e},n={p:n};else if(Pn(e)&&!Pn(n)){for(m=[],v=e.length,b=v-2,h=1;h<v;h++)m.push(t(e[h-1],e[h]));v--,a=function(E){E*=v;var w=Math.min(b,~~E);return m[w](E-w)},i=n}else s||(e=ul(Pn(e)?[]:{},e));if(!m){for(f in n)ey.call(c,e,f,"get",n[f]);a=function(E){return ry(E,c)||(l?e.p:e)}}}return io(i,a)},ix=function(e,n,i){var s=e.labels,a=Qi,l,c,f;for(l in s)c=s[l]-n,c<0==!!i&&c&&a>(c=Math.abs(c))&&(f=l,a=c);return f},Ci=function(e,n,i){var s=e.vars,a=s[n],l=Tt,c=e._ctx,f,h,m;if(a)return f=s[n+"Params"],h=s.callbackScope||e,i&&Xs.length&&mf(),c&&(Tt=c),m=f?a.apply(h,f):a.call(h),Tt=l,m},bu=function(e){return Zs(e),e.scrollTrigger&&e.scrollTrigger.kill(!!wn),e.progress()<1&&Ci(e,"onInterrupt"),e},Ka,AT=[],RT=function(e){if(e)if(e=!e.name&&e.default||e,Jg()||e.headless){var n=e.name,i=Bt(e),s=n&&!i&&e.init?function(){this._props=[]}:e,a={init:Wu,render:ry,add:ey,kill:HI,modifier:zI,rawVars:0},l={targetTest:0,get:0,getSetter:iy,aliases:{},register:0};if(fl(),e!==s){if(Si[n])return;ki(s,ki(gf(e,a),l)),ul(s.prototype,ul(a,gf(e,l))),Si[s.prop=n]=s,e.targetTest&&(Zd.push(s),Xg[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}cT(n,s),e.register&&e.register(li,s,oi)}else AT.push(e)},dt=255,xu={aqua:[0,dt,dt],lime:[0,dt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,dt],navy:[0,0,128],white:[dt,dt,dt],olive:[128,128,0],yellow:[dt,dt,0],orange:[dt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[dt,0,0],pink:[dt,192,203],cyan:[0,dt,dt],transparent:[dt,dt,dt,0]},bm=function(e,n,i){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(i-n)*e*6:e<.5?i:e*3<2?n+(i-n)*(2/3-e)*6:n)*dt+.5|0},NT=function(e,n,i){var s=e?cs(e)?[e>>16,e>>8&dt,e&dt]:0:xu.black,a,l,c,f,h,m,v,b,S,E;if(!s){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),xu[e])s=xu[e];else if(e.charAt(0)==="#"){if(e.length<6&&(a=e.charAt(1),l=e.charAt(2),c=e.charAt(3),e="#"+a+a+l+l+c+c+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return s=parseInt(e.substr(1,6),16),[s>>16,s>>8&dt,s&dt,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),s=[e>>16,e>>8&dt,e&dt]}else if(e.substr(0,3)==="hsl"){if(s=E=e.match(Qb),!n)f=+s[0]%360/360,h=+s[1]/100,m=+s[2]/100,l=m<=.5?m*(h+1):m+h-m*h,a=m*2-l,s.length>3&&(s[3]*=1),s[0]=bm(f+1/3,a,l),s[1]=bm(f,a,l),s[2]=bm(f-1/3,a,l);else if(~e.indexOf("="))return s=e.match(oT),i&&s.length<4&&(s[3]=1),s}else s=e.match(Qb)||xu.transparent;s=s.map(Number)}return n&&!E&&(a=s[0]/dt,l=s[1]/dt,c=s[2]/dt,v=Math.max(a,l,c),b=Math.min(a,l,c),m=(v+b)/2,v===b?f=h=0:(S=v-b,h=m>.5?S/(2-v-b):S/(v+b),f=v===a?(l-c)/S+(l<c?6:0):v===l?(c-a)/S+2:(a-l)/S+4,f*=60),s[0]=~~(f+.5),s[1]=~~(h*100+.5),s[2]=~~(m*100+.5)),i&&s.length<4&&(s[3]=1),s},kT=function(e){var n=[],i=[],s=-1;return e.split(Ws).forEach(function(a){var l=a.match(Ya)||[];n.push.apply(n,l),i.push(s+=l.length+1)}),n.c=i,n},rx=function(e,n,i){var s="",a=(e+s).match(Ws),l=n?"hsla(":"rgba(",c=0,f,h,m,v;if(!a)return e;if(a=a.map(function(b){return(b=NT(b,n,1))&&l+(n?b[0]+","+b[1]+"%,"+b[2]+"%,"+b[3]:b.join(","))+")"}),i&&(m=kT(e),f=i.c,f.join(s)!==m.c.join(s)))for(h=e.replace(Ws,"1").split(Ya),v=h.length-1;c<v;c++)s+=h[c]+(~f.indexOf(c)?a.shift()||l+"0,0,0,0)":(m.length?m:a.length?a:i).shift());if(!h)for(h=e.split(Ws),v=h.length-1;c<v;c++)s+=h[c]+a[c];return s+h[v]},Ws=(function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in xu)t+="|"+e+"\\b";return new RegExp(t+")","gi")})(),AI=/hsl[a]?\(/,MT=function(e){var n=e.join(" "),i;if(Ws.lastIndex=0,Ws.test(n))return i=AI.test(n),e[1]=rx(e[1],i),e[0]=rx(e[0],i,kT(e[1])),!0},Zu,Ti=(function(){var t=Date.now,e=500,n=33,i=t(),s=i,a=1e3/240,l=a,c=[],f,h,m,v,b,S,E=function w(C){var A=t()-s,N=C===!0,k,M,U,z;if((A>e||A<0)&&(i+=A-n),s+=A,U=s-i,k=U-l,(k>0||N)&&(z=++v.frame,b=U-v.time*1e3,v.time=U=U/1e3,l+=k+(k>=a?4:a-k),M=1),N||(f=h(w)),M)for(S=0;S<c.length;S++)c[S](U,b,z,C)};return v={time:0,frame:0,tick:function(){E(!0)},deltaRatio:function(C){return b/(1e3/(C||60))},wake:function(){lT&&(!Km&&Jg()&&(Rr=Km=window,Yg=Rr.document||{},Ni.gsap=li,(Rr.gsapVersions||(Rr.gsapVersions=[])).push(li.version),uT(pf||Rr.GreenSockGlobals||!Rr.gsap&&Rr||{}),AT.forEach(RT)),m=typeof requestAnimationFrame<"u"&&requestAnimationFrame,f&&v.sleep(),h=m||function(C){return setTimeout(C,l-v.time*1e3+1|0)},Zu=1,E(2))},sleep:function(){(m?cancelAnimationFrame:clearTimeout)(f),Zu=0,h=Wu},lagSmoothing:function(C,A){e=C||1/0,n=Math.min(A||33,e)},fps:function(C){a=1e3/(C||240),l=v.time*1e3+a},add:function(C,A,N){var k=A?function(M,U,z,I){C(M,U,z,I),v.remove(k)}:C;return v.remove(C),c[N?"unshift":"push"](k),fl(),k},remove:function(C,A){~(A=c.indexOf(C))&&c.splice(A,1)&&S>=A&&S--},_listeners:c},v})(),fl=function(){return!Zu&&Ti.wake()},Ye={},RI=/^[\d.\-M][\d.\-,\s]/,NI=/["']/g,kI=function(e){for(var n={},i=e.substr(1,e.length-3).split(":"),s=i[0],a=1,l=i.length,c,f,h;a<l;a++)f=i[a],c=a!==l-1?f.lastIndexOf(","):f.length,h=f.substr(0,c),n[s]=isNaN(h)?h.replace(NI,"").trim():+h,s=f.substr(c+1).trim();return n},MI=function(e){var n=e.indexOf("(")+1,i=e.indexOf(")"),s=e.indexOf("(",n);return e.substring(n,~s&&s<i?e.indexOf(")",i+1):i)},II=function(e){var n=(e+"").split("("),i=Ye[n[0]];return i&&n.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[kI(n[1])]:MI(e).split(",").map(pT)):Ye._CE&&RI.test(e)?Ye._CE("",e):i},IT=function(e){return function(n){return 1-e(1-n)}},DT=function t(e,n){for(var i=e._first,s;i;)i instanceof $n?t(i,n):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==n&&(i.timeline?t(i.timeline,n):(s=i._ease,i._ease=i._yEase,i._yEase=s,i._yoyo=n)),i=i._next},Ho=function(e,n){return e&&(Bt(e)?e:Ye[e]||II(e))||n},Xo=function(e,n,i,s){i===void 0&&(i=function(f){return 1-n(1-f)}),s===void 0&&(s=function(f){return f<.5?n(f*2)/2:1-n((1-f)*2)/2});var a={easeIn:n,easeOut:i,easeInOut:s},l;return si(e,function(c){Ye[c]=Ni[c]=a,Ye[l=c.toLowerCase()]=i;for(var f in a)Ye[l+(f==="easeIn"?".in":f==="easeOut"?".out":".inOut")]=Ye[c+"."+f]=a[f]}),a},PT=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},xm=function t(e,n,i){var s=n>=1?n:1,a=(i||(e?.3:.45))/(n<1?n:1),l=a/Ym*(Math.asin(1/s)||0),c=function(m){return m===1?1:s*Math.pow(2,-10*m)*iI((m-l)*a)+1},f=e==="out"?c:e==="in"?function(h){return 1-c(1-h)}:PT(c);return a=Ym/a,f.config=function(h,m){return t(e,h,m)},f},Sm=function t(e,n){n===void 0&&(n=1.70158);var i=function(l){return l?--l*l*((n+1)*l+n)+1:0},s=e==="out"?i:e==="in"?function(a){return 1-i(1-a)}:PT(i);return s.config=function(a){return t(e,a)},s};si("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;Xo(t+",Power"+(n-1),e?function(i){return Math.pow(i,n)}:function(i){return i},function(i){return 1-Math.pow(1-i,n)},function(i){return i<.5?Math.pow(i*2,n)/2:1-Math.pow((1-i)*2,n)/2})});Ye.Linear.easeNone=Ye.none=Ye.Linear.easeIn;Xo("Elastic",xm("in"),xm("out"),xm());(function(t,e){var n=1/e,i=2*n,s=2.5*n,a=function(c){return c<n?t*c*c:c<i?t*Math.pow(c-1.5/e,2)+.75:c<s?t*(c-=2.25/e)*c+.9375:t*Math.pow(c-2.625/e,2)+.984375};Xo("Bounce",function(l){return 1-a(1-l)},a)})(7.5625,2.75);Xo("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});Xo("Circ",function(t){return-(rT(1-t*t)-1)});Xo("Sine",function(t){return t===1?1:-nI(t*eI)+1});Xo("Back",Sm("in"),Sm("out"),Sm());Ye.SteppedEase=Ye.steps=Ni.SteppedEase={config:function(e,n){e===void 0&&(e=1);var i=1/e,s=e+(n?0:1),a=n?1:0,l=1-ft;return function(c){return((s*dc(0,l,c)|0)+a)*i}}};ll.ease=Ye["quad.out"];si("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return Wg+=t+","+t+"Params,"});var UT=function(e,n){this.id=tI++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:fT,this.set=n?n.getSetter:iy},ec=(function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,dl(this,+n.duration,1,1),this.data=n.data,Tt&&(this._ctx=Tt,Tt.data.push(this)),Zu||Ti.wake()}var e=t.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,dl(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,s){if(fl(),!arguments.length)return this._tTime;var a=this._dp;if(a&&a.smoothChildTiming&&this._ts){for(Bf(this,i),!a._dp||a.parent||yT(a,this);a&&a.parent;)a.parent._time!==a._start+(a._ts>=0?a._tTime/a._ts:(a.totalDuration()-a._tTime)/-a._ts)&&a.totalTime(a._tTime,!0),a=a.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&kr(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===ft||!this._initted&&this._dur&&i||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),hT(this,i,s)),this},e.time=function(i,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+tx(this))%(this._dur+this._rDelay)||(i?this._dur:0),s):this._time},e.totalProgress=function(i,s){return arguments.length?this.totalTime(this.totalDuration()*i,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(i,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+tx(this),s):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(i,s){var a=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*a,s):this._repeat?cl(this._tTime,a)+1:1},e.timeScale=function(i,s){if(!arguments.length)return this._rts===-ft?0:this._rts;if(this._rts===i)return this;var a=this.parent&&this._ts?yf(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-ft?0:this._rts,this.totalTime(dc(-Math.abs(this._delay),this.totalDuration(),a),s!==!1),qf(this),hI(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(fl(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==ft&&(this._tTime-=ft)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=Mt(i);var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&kr(s,this,this._start-this._delay),this}return this._start},e.endTime=function(i){return this._start+(ri(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var s=this.parent||this._dp;return s?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?yf(s.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){i===void 0&&(i=uI);var s=wn;return wn=i,Zg(this)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),wn=s,this},e.globalTime=function(i){for(var s=this,a=arguments.length?i:s.rawTime();s;)a=s._start+a/(Math.abs(s._ts)||1),s=s._dp;return!this.parent&&this._sat?this._sat.globalTime(i):a},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,nx(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var s=this._time;return this._rDelay=i,nx(this),s?this.time(s):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,s){return this.totalTime(Ki(this,i),ri(s))},e.restart=function(i,s){return this.play().totalTime(i?-this._delay:0,ri(s)),this._dur||(this._zTime=-ft),this},e.play=function(i,s){return i!=null&&this.seek(i,s),this.reversed(!1).paused(!1)},e.reverse=function(i,s){return i!=null&&this.seek(i||this.totalDuration(),s),this.reversed(!0).paused(!1)},e.pause=function(i,s){return i!=null&&this.seek(i,s),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-ft:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-ft,this},e.isActive=function(){var i=this.parent||this._dp,s=this._start,a;return!!(!i||this._ts&&this._initted&&i.isActive()&&(a=i.rawTime(!0))>=s&&a<this.endTime(!0)-ft)},e.eventCallback=function(i,s,a){var l=this.vars;return arguments.length>1?(s?(l[i]=s,a&&(l[i+"Params"]=a),i==="onUpdate"&&(this._onUpdate=s)):delete l[i],this):l[i]},e.then=function(i){var s=this,a=s._prom;return new Promise(function(l){var c=Bt(i)?i:mT,f=function(){var m=s.then;s.then=null,a&&a(),Bt(c)&&(c=c(s))&&(c.then||c===s)&&(s.then=m),l(c),s.then=m};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?f():s._prom=f})},e.kill=function(){bu(this)},t})();ki(ec.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-ft,_prom:0,_ps:!1,_rts:1});var $n=(function(t){iT(e,t);function e(i,s){var a;return i===void 0&&(i={}),a=t.call(this,i)||this,a.labels={},a.smoothChildTiming=!!i.smoothChildTiming,a.autoRemoveChildren=!!i.autoRemoveChildren,a._sort=ri(i.sortChildren),It&&kr(i.parent||It,is(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),i.scrollTrigger&&vT(is(a),i.scrollTrigger),a}var n=e.prototype;return n.to=function(s,a,l){return Mu(0,arguments,this),this},n.from=function(s,a,l){return Mu(1,arguments,this),this},n.fromTo=function(s,a,l,c){return Mu(2,arguments,this),this},n.set=function(s,a,l){return a.duration=0,a.parent=this,ku(a).repeatDelay||(a.repeat=0),a.immediateRender=!!a.immediateRender,new tn(s,a,Ki(this,l),1),this},n.call=function(s,a,l){return kr(this,tn.delayedCall(0,s,a),l)},n.staggerTo=function(s,a,l,c,f,h,m){return l.duration=a,l.stagger=l.stagger||c,l.onComplete=h,l.onCompleteParams=m,l.parent=this,new tn(s,l,Ki(this,f)),this},n.staggerFrom=function(s,a,l,c,f,h,m){return l.runBackwards=1,ku(l).immediateRender=ri(l.immediateRender),this.staggerTo(s,a,l,c,f,h,m)},n.staggerFromTo=function(s,a,l,c,f,h,m,v){return c.startAt=l,ku(c).immediateRender=ri(c.immediateRender),this.staggerTo(s,a,c,f,h,m,v)},n.render=function(s,a,l){var c=this._time,f=this._dirty?this.totalDuration():this._tDur,h=this._dur,m=s<=0?0:Mt(s),v=this._zTime<0!=s<0&&(this._initted||!h),b,S,E,w,C,A,N,k,M,U,z,I;if(this!==It&&m>f&&s>=0&&(m=f),m!==this._tTime||l||v){if(c!==this._time&&h&&(m+=this._time-c,s+=this._time-c),b=m,M=this._start,k=this._ts,A=!k,v&&(h||(c=this._zTime),(s||!a)&&(this._zTime=s)),this._repeat){if(z=this._yoyo,C=h+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(C*100+s,a,l);if(b=Mt(m%C),m===f?(w=this._repeat,b=h):(U=Mt(m/C),w=~~U,w&&w===U&&(b=h,w--),b>h&&(b=h)),U=cl(this._tTime,C),!c&&this._tTime&&U!==w&&this._tTime-U*C-this._dur<=0&&(U=w),z&&w&1&&(b=h-b,I=1),w!==U&&!this._lock){var q=z&&U&1,B=q===(z&&w&1);if(w<U&&(q=!q),c=q?0:m%h?h:m,this._lock=1,this.render(c||(I?0:Mt(w*C)),a,!h)._lock=0,this._tTime=m,!a&&this.parent&&Ci(this,"onRepeat"),this.vars.repeatRefresh&&!I&&(this.invalidate()._lock=1,U=w),c&&c!==this._time||A!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(h=this._dur,f=this._tDur,B&&(this._lock=2,c=q?h:-1e-4,this.render(c,!0),this.vars.repeatRefresh&&!I&&this.invalidate()),this._lock=0,!this._ts&&!A)return this;DT(this,I)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(N=yI(this,Mt(c),Mt(b)),N&&(m-=b-(b=N._start))),this._tTime=m,this._time=b,this._act=!k,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,c=0),!c&&m&&h&&!a&&!U&&(Ci(this,"onStart"),this._tTime!==m))return this;if(b>=c&&s>=0)for(S=this._first;S;){if(E=S._next,(S._act||b>=S._start)&&S._ts&&N!==S){if(S.parent!==this)return this.render(s,a,l);if(S.render(S._ts>0?(b-S._start)*S._ts:(S._dirty?S.totalDuration():S._tDur)+(b-S._start)*S._ts,a,l),b!==this._time||!this._ts&&!A){N=0,E&&(m+=this._zTime=-ft);break}}S=E}else{S=this._last;for(var J=s<0?s:b;S;){if(E=S._prev,(S._act||J<=S._end)&&S._ts&&N!==S){if(S.parent!==this)return this.render(s,a,l);if(S.render(S._ts>0?(J-S._start)*S._ts:(S._dirty?S.totalDuration():S._tDur)+(J-S._start)*S._ts,a,l||wn&&Zg(S)),b!==this._time||!this._ts&&!A){N=0,E&&(m+=this._zTime=J?-ft:ft);break}}S=E}}if(N&&!a&&(this.pause(),N.render(b>=c?0:-ft)._zTime=b>=c?1:-1,this._ts))return this._start=M,qf(this),this.render(s,a,l);this._onUpdate&&!a&&Ci(this,"onUpdate",!0),(m===f&&this._tTime>=this.totalDuration()||!m&&c)&&(M===this._start||Math.abs(k)!==Math.abs(this._ts))&&(this._lock||((s||!h)&&(m===f&&this._ts>0||!m&&this._ts<0)&&Zs(this,1),!a&&!(s<0&&!c)&&(m||c||!f)&&(Ci(this,m===f&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(m<f&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(s,a){var l=this;if(cs(a)||(a=Ki(this,a,s)),!(s instanceof ec)){if(Pn(s))return s.forEach(function(c){return l.add(c,a)}),this;if(hn(s))return this.addLabel(s,a);if(Bt(s))s=tn.delayedCall(0,s);else return this}return this!==s?kr(this,s,a):this},n.getChildren=function(s,a,l,c){s===void 0&&(s=!0),a===void 0&&(a=!0),l===void 0&&(l=!0),c===void 0&&(c=-Qi);for(var f=[],h=this._first;h;)h._start>=c&&(h instanceof tn?a&&f.push(h):(l&&f.push(h),s&&f.push.apply(f,h.getChildren(!0,a,l)))),h=h._next;return f},n.getById=function(s){for(var a=this.getChildren(1,1,1),l=a.length;l--;)if(a[l].vars.id===s)return a[l]},n.remove=function(s){return hn(s)?this.removeLabel(s):Bt(s)?this.killTweensOf(s):(s.parent===this&&Lf(this,s),s===this._recent&&(this._recent=this._last),zo(this))},n.totalTime=function(s,a){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Mt(Ti.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),t.prototype.totalTime.call(this,s,a),this._forcing=0,this):this._tTime},n.addLabel=function(s,a){return this.labels[s]=Ki(this,a),this},n.removeLabel=function(s){return delete this.labels[s],this},n.addPause=function(s,a,l){var c=tn.delayedCall(0,a||Wu,l);return c.data="isPause",this._hasPause=1,kr(this,c,Ki(this,s))},n.removePause=function(s){var a=this._first;for(s=Ki(this,s);a;)a._start===s&&a.data==="isPause"&&Zs(a),a=a._next},n.killTweensOf=function(s,a,l){for(var c=this.getTweensOf(s,l),f=c.length;f--;)Fs!==c[f]&&c[f].kill(s,a);return this},n.getTweensOf=function(s,a){for(var l=[],c=Zi(s),f=this._first,h=cs(a),m;f;)f instanceof tn?cI(f._targets,c)&&(h?(!Fs||f._initted&&f._ts)&&f.globalTime(0)<=a&&f.globalTime(f.totalDuration())>a:!a||f.isActive())&&l.push(f):(m=f.getTweensOf(c,a)).length&&l.push.apply(l,m),f=f._next;return l},n.tweenTo=function(s,a){a=a||{};var l=this,c=Ki(l,s),f=a,h=f.startAt,m=f.onStart,v=f.onStartParams,b=f.immediateRender,S,E=tn.to(l,ki({ease:a.ease||"none",lazy:!1,immediateRender:!1,time:c,overwrite:"auto",duration:a.duration||Math.abs((c-(h&&"time"in h?h.time:l._time))/l.timeScale())||ft,onStart:function(){if(l.pause(),!S){var C=a.duration||Math.abs((c-(h&&"time"in h?h.time:l._time))/l.timeScale());E._dur!==C&&dl(E,C,0,1).render(E._time,!0,!0),S=1}m&&m.apply(E,v||[])}},a));return b?E.render(0):E},n.tweenFromTo=function(s,a,l){return this.tweenTo(a,ki({startAt:{time:Ki(this,s)}},l))},n.recent=function(){return this._recent},n.nextLabel=function(s){return s===void 0&&(s=this._time),ix(this,Ki(this,s))},n.previousLabel=function(s){return s===void 0&&(s=this._time),ix(this,Ki(this,s),1)},n.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+ft)},n.shiftChildren=function(s,a,l){l===void 0&&(l=0);var c=this._first,f=this.labels,h;for(s=Mt(s);c;)c._start>=l&&(c._start+=s,c._end+=s),c=c._next;if(a)for(h in f)f[h]>=l&&(f[h]+=s);return zo(this)},n.invalidate=function(s){var a=this._first;for(this._lock=0;a;)a.invalidate(s),a=a._next;return t.prototype.invalidate.call(this,s)},n.clear=function(s){s===void 0&&(s=!0);for(var a=this._first,l;a;)l=a._next,this.remove(a),a=l;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),zo(this)},n.totalDuration=function(s){var a=0,l=this,c=l._last,f=Qi,h,m,v;if(arguments.length)return l.timeScale((l._repeat<0?l.duration():l.totalDuration())/(l.reversed()?-s:s));if(l._dirty){for(v=l.parent;c;)h=c._prev,c._dirty&&c.totalDuration(),m=c._start,m>f&&l._sort&&c._ts&&!l._lock?(l._lock=1,kr(l,c,m-c._delay,1)._lock=0):f=m,m<0&&c._ts&&(a-=m,(!v&&!l._dp||v&&v.smoothChildTiming)&&(l._start+=Mt(m/l._ts),l._time-=m,l._tTime-=m),l.shiftChildren(-m,!1,-1/0),f=0),c._end>a&&c._ts&&(a=c._end),c=h;dl(l,l===It&&l._time>a?l._time:a,1,1),l._dirty=0}return l._tDur},e.updateRoot=function(s){if(It._ts&&(hT(It,yf(s,It)),dT=Ti.frame),Ti.frame>=Zb){Zb+=Ri.autoSleep||120;var a=It._first;if((!a||!a._ts)&&Ri.autoSleep&&Ti._listeners.length<2){for(;a&&!a._ts;)a=a._next;a||Ti.sleep()}}},e})(ec);ki($n.prototype,{_lock:0,_hasPause:0,_forcing:0});var DI=function(e,n,i,s,a,l,c){var f=new oi(this._pt,e,n,0,1,zT,null,a),h=0,m=0,v,b,S,E,w,C,A,N;for(f.b=i,f.e=s,i+="",s+="",(A=~s.indexOf("random("))&&(s=Qu(s)),l&&(N=[i,s],l(N,e,n),i=N[0],s=N[1]),b=i.match(vm)||[];v=vm.exec(s);)E=v[0],w=s.substring(h,v.index),S?S=(S+1)%5:w.substr(-5)==="rgba("&&(S=1),E!==b[m++]&&(C=parseFloat(b[m-1])||0,f._pt={_next:f._pt,p:w||m===1?w:",",s:C,c:E.charAt(1)==="="?el(C,E)-C:parseFloat(E)-C,m:S&&S<4?Math.round:0},h=vm.lastIndex);return f.c=h<s.length?s.substring(h,s.length):"",f.fp=c,(aT.test(s)||A)&&(f.e=0),this._pt=f,f},ey=function(e,n,i,s,a,l,c,f,h,m){Bt(s)&&(s=s(a||0,e,l));var v=e[n],b=i!=="get"?i:Bt(v)?h?e[n.indexOf("set")||!Bt(e["get"+n.substr(3)])?n:"get"+n.substr(3)](h):e[n]():v,S=Bt(v)?h?qI:BT:ny,E;if(hn(s)&&(~s.indexOf("random(")&&(s=Qu(s)),s.charAt(1)==="="&&(E=el(b,s)+(Mn(b)||0),(E||E===0)&&(s=E))),!m||b!==s||ng)return!isNaN(b*s)&&s!==""?(E=new oi(this._pt,e,n,+b||0,s-(b||0),typeof v=="boolean"?GI:GT,0,S),h&&(E.fp=h),c&&E.modifier(c,this,e),this._pt=E):(!v&&!(n in e)&&Kg(n,s),DI.call(this,e,n,b,s,S,f||Ri.stringFilter,h))},PI=function(e,n,i,s,a){if(Bt(e)&&(e=Iu(e,a,n,i,s)),!Ur(e)||e.style&&e.nodeType||Pn(e)||sT(e))return hn(e)?Iu(e,a,n,i,s):e;var l={},c;for(c in e)l[c]=Iu(e[c],a,n,i,s);return l},OT=function(e,n,i,s,a,l){var c,f,h,m;if(Si[e]&&(c=new Si[e]).init(a,c.rawVars?n[e]:PI(n[e],s,a,l,i),i,s,l)!==!1&&(i._pt=f=new oi(i._pt,a,e,0,1,c.render,c,0,c.priority),i!==Ka))for(h=i._ptLookup[i._targets.indexOf(a)],m=c._props.length;m--;)h[c._props[m]]=f;return c},Fs,ng,ty=function t(e,n,i){var s=e.vars,a=s.ease,l=s.startAt,c=s.immediateRender,f=s.lazy,h=s.onUpdate,m=s.runBackwards,v=s.yoyoEase,b=s.keyframes,S=s.autoRevert,E=e._dur,w=e._startAt,C=e._targets,A=e.parent,N=A&&A.data==="nested"?A.vars.targets:C,k=e._overwrite==="auto"&&!$g,M=e.timeline,U,z,I,q,B,J,te,Z,ie,de,be,V,X;if(M&&(!b||!a)&&(a="none"),e._ease=Ho(a,ll.ease),e._yEase=v?IT(Ho(v===!0?a:v,ll.ease)):0,v&&e._yoyo&&!e._repeat&&(v=e._yEase,e._yEase=e._ease,e._ease=v),e._from=!M&&!!s.runBackwards,!M||b&&!s.stagger){if(Z=C[0]?Go(C[0]).harness:0,V=Z&&s[Z.prop],U=gf(s,Xg),w&&(w._zTime<0&&w.progress(1),n<0&&m&&c&&!S?w.render(-1,!0):w.revert(m&&E?Qd:lI),w._lazy=0),l){if(Zs(e._startAt=tn.set(C,ki({data:"isStart",overwrite:!1,parent:A,immediateRender:!0,lazy:!w&&ri(f),startAt:null,delay:0,onUpdate:h&&function(){return Ci(e,"onUpdate")},stagger:0},l))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(wn||!c&&!S)&&e._startAt.revert(Qd),c&&E&&n<=0&&i<=0){n&&(e._zTime=n);return}}else if(m&&E&&!w){if(n&&(c=!1),I=ki({overwrite:!1,data:"isFromStart",lazy:c&&!w&&ri(f),immediateRender:c,stagger:0,parent:A},U),V&&(I[Z.prop]=V),Zs(e._startAt=tn.set(C,I)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(wn?e._startAt.revert(Qd):e._startAt.render(-1,!0)),e._zTime=n,!c)t(e._startAt,ft,ft);else if(!n)return}for(e._pt=e._ptCache=0,f=E&&ri(f)||f&&!E,z=0;z<C.length;z++){if(B=C[z],te=B._gsap||Qg(C)[z]._gsap,e._ptLookup[z]=de={},Xm[te.id]&&Xs.length&&mf(),be=N===C?z:N.indexOf(B),Z&&(ie=new Z).init(B,V||U,e,be,N)!==!1&&(e._pt=q=new oi(e._pt,B,ie.name,0,1,ie.render,ie,0,ie.priority),ie._props.forEach(function(re){de[re]=q}),ie.priority&&(J=1)),!Z||V)for(I in U)Si[I]&&(ie=OT(I,U,e,be,B,N))?ie.priority&&(J=1):de[I]=q=ey.call(e,B,I,"get",U[I],be,N,0,s.stringFilter);e._op&&e._op[z]&&e.kill(B,e._op[z]),k&&e._pt&&(Fs=e,It.killTweensOf(B,de,e.globalTime(n)),X=!e.parent,Fs=0),e._pt&&f&&(Xm[te.id]=1)}J&&HT(e),e._onInit&&e._onInit(e)}e._onUpdate=h,e._initted=(!e._op||e._pt)&&!X,b&&n<=0&&M.render(Qi,!0,!0)},UI=function(e,n,i,s,a,l,c,f){var h=(e._pt&&e._ptCache||(e._ptCache={}))[n],m,v,b,S;if(!h)for(h=e._ptCache[n]=[],b=e._ptLookup,S=e._targets.length;S--;){if(m=b[S][n],m&&m.d&&m.d._pt)for(m=m.d._pt;m&&m.p!==n&&m.fp!==n;)m=m._next;if(!m)return ng=1,e.vars[n]="+=0",ty(e,c),ng=0,f?Xu(n+" not eligible for reset"):1;h.push(m)}for(S=h.length;S--;)v=h[S],m=v._pt||v,m.s=(s||s===0)&&!a?s:m.s+(s||0)+l*m.c,m.c=i-m.s,v.e&&(v.e=Ft(i)+Mn(v.e)),v.b&&(v.b=m.s+Mn(v.b))},OI=function(e,n){var i=e[0]?Go(e[0]).harness:0,s=i&&i.aliases,a,l,c,f;if(!s)return n;a=ul({},n);for(l in s)if(l in a)for(f=s[l].split(","),c=f.length;c--;)a[f[c]]=a[l];return a},LI=function(e,n,i,s){var a=n.ease||s||"power1.inOut",l,c;if(Pn(n))c=i[e]||(i[e]=[]),n.forEach(function(f,h){return c.push({t:h/(n.length-1)*100,v:f,e:a})});else for(l in n)c=i[l]||(i[l]=[]),l==="ease"||c.push({t:parseFloat(e),v:n[l],e:a})},Iu=function(e,n,i,s,a){return Bt(e)?e.call(n,i,s,a):hn(e)&&~e.indexOf("random(")?Qu(e):e},LT=Wg+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",qT={};si(LT+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return qT[t]=1});var tn=(function(t){iT(e,t);function e(i,s,a,l){var c;typeof s=="number"&&(a.duration=s,s=a,a=null),c=t.call(this,l?s:ku(s))||this;var f=c.vars,h=f.duration,m=f.delay,v=f.immediateRender,b=f.stagger,S=f.overwrite,E=f.keyframes,w=f.defaults,C=f.scrollTrigger,A=f.yoyoEase,N=s.parent||It,k=(Pn(i)||sT(i)?cs(i[0]):"length"in s)?[i]:Zi(i),M,U,z,I,q,B,J,te;if(c._targets=k.length?Qg(k):Xu("GSAP target "+i+" not found. https://gsap.com",!Ri.nullTargetWarn)||[],c._ptLookup=[],c._overwrite=S,E||b||Md(h)||Md(m)){if(s=c.vars,M=c.timeline=new $n({data:"nested",defaults:w||{},targets:N&&N.data==="nested"?N.vars.targets:k}),M.kill(),M.parent=M._dp=is(c),M._start=0,b||Md(h)||Md(m)){if(I=k.length,J=b&&ST(b),Ur(b))for(q in b)~LT.indexOf(q)&&(te||(te={}),te[q]=b[q]);for(U=0;U<I;U++)z=gf(s,qT),z.stagger=0,A&&(z.yoyoEase=A),te&&ul(z,te),B=k[U],z.duration=+Iu(h,is(c),U,B,k),z.delay=(+Iu(m,is(c),U,B,k)||0)-c._delay,!b&&I===1&&z.delay&&(c._delay=m=z.delay,c._start+=m,z.delay=0),M.to(B,z,J?J(U,B,k):0),M._ease=Ye.none;M.duration()?h=m=0:c.timeline=0}else if(E){ku(ki(M.vars.defaults,{ease:"none"})),M._ease=Ho(E.ease||s.ease||"none");var Z=0,ie,de,be;if(Pn(E))E.forEach(function(V){return M.to(k,V,">")}),M.duration();else{z={};for(q in E)q==="ease"||q==="easeEach"||LI(q,E[q],z,E.easeEach);for(q in z)for(ie=z[q].sort(function(V,X){return V.t-X.t}),Z=0,U=0;U<ie.length;U++)de=ie[U],be={ease:de.e,duration:(de.t-(U?ie[U-1].t:0))/100*h},be[q]=de.v,M.to(k,be,Z),Z+=be.duration;M.duration()<h&&M.to({},{duration:h-M.duration()})}}h||c.duration(h=M.duration())}else c.timeline=0;return S===!0&&!$g&&(Fs=is(c),It.killTweensOf(k),Fs=0),kr(N,is(c),a),s.reversed&&c.reverse(),s.paused&&c.paused(!0),(v||!h&&!E&&c._start===Mt(N._time)&&ri(v)&&pI(is(c))&&N.data!=="nested")&&(c._tTime=-ft,c.render(Math.max(0,-m)||0)),C&&vT(is(c),C),c}var n=e.prototype;return n.render=function(s,a,l){var c=this._time,f=this._tDur,h=this._dur,m=s<0,v=s>f-ft&&!m?f:s<ft?0:s,b,S,E,w,C,A,N,k,M;if(!h)gI(this,s,a,l);else if(v!==this._tTime||!s||l||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m||this._lazy){if(b=v,k=this.timeline,this._repeat){if(w=h+this._rDelay,this._repeat<-1&&m)return this.totalTime(w*100+s,a,l);if(b=Mt(v%w),v===f?(E=this._repeat,b=h):(C=Mt(v/w),E=~~C,E&&E===C?(b=h,E--):b>h&&(b=h)),A=this._yoyo&&E&1,A&&(M=this._yEase,b=h-b),C=cl(this._tTime,w),b===c&&!l&&this._initted&&E===C)return this._tTime=v,this;E!==C&&(k&&this._yEase&&DT(k,A),this.vars.repeatRefresh&&!A&&!this._lock&&b!==w&&this._initted&&(this._lock=l=1,this.render(Mt(w*E),!0).invalidate()._lock=0))}if(!this._initted){if(_T(this,m?s:b,l,a,v))return this._tTime=0,this;if(c!==this._time&&!(l&&this.vars.repeatRefresh&&E!==C))return this;if(h!==this._dur)return this.render(s,a,l)}if(this._tTime=v,this._time=b,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=N=(M||this._ease)(b/h),this._from&&(this.ratio=N=1-N),!c&&v&&!a&&!C&&(Ci(this,"onStart"),this._tTime!==v))return this;for(S=this._pt;S;)S.r(N,S.d),S=S._next;k&&k.render(s<0?s:k._dur*k._ease(b/this._dur),a,l)||this._startAt&&(this._zTime=s),this._onUpdate&&!a&&(m&&Wm(this,s,a,l),Ci(this,"onUpdate")),this._repeat&&E!==C&&this.vars.onRepeat&&!a&&this.parent&&Ci(this,"onRepeat"),(v===this._tDur||!v)&&this._tTime===v&&(m&&!this._onUpdate&&Wm(this,s,!0,!0),(s||!h)&&(v===this._tDur&&this._ts>0||!v&&this._ts<0)&&Zs(this,1),!a&&!(m&&!c)&&(v||c||A)&&(Ci(this,v===f?"onComplete":"onReverseComplete",!0),this._prom&&!(v<f&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(s){return(!s||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(s),t.prototype.invalidate.call(this,s)},n.resetTo=function(s,a,l,c,f){Zu||Ti.wake(),this._ts||this.play();var h=Math.min(this._dur,(this._dp._time-this._start)*this._ts),m;return this._initted||ty(this,h),m=this._ease(h/this._dur),UI(this,s,a,l,c,m,h,f)?this.resetTo(s,a,l,c,1):(Bf(this,0),this.parent||gT(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(s,a){if(a===void 0&&(a="all"),!s&&(!a||a==="all"))return this._lazy=this._pt=0,this.parent?bu(this):this.scrollTrigger&&this.scrollTrigger.kill(!!wn),this;if(this.timeline){var l=this.timeline.totalDuration();return this.timeline.killTweensOf(s,a,Fs&&Fs.vars.overwrite!==!0)._first||bu(this),this.parent&&l!==this.timeline.totalDuration()&&dl(this,this._dur*this.timeline._tDur/l,0,1),this}var c=this._targets,f=s?Zi(s):c,h=this._ptLookup,m=this._pt,v,b,S,E,w,C,A;if((!a||a==="all")&&fI(c,f))return a==="all"&&(this._pt=0),bu(this);for(v=this._op=this._op||[],a!=="all"&&(hn(a)&&(w={},si(a,function(N){return w[N]=1}),a=w),a=OI(c,a)),A=c.length;A--;)if(~f.indexOf(c[A])){b=h[A],a==="all"?(v[A]=a,E=b,S={}):(S=v[A]=v[A]||{},E=a);for(w in E)C=b&&b[w],C&&((!("kill"in C.d)||C.d.kill(w)===!0)&&Lf(this,C,"_pt"),delete b[w]),S!=="all"&&(S[w]=1)}return this._initted&&!this._pt&&m&&bu(this),this},e.to=function(s,a){return new e(s,a,arguments[2])},e.from=function(s,a){return Mu(1,arguments)},e.delayedCall=function(s,a,l,c){return new e(a,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:a,onReverseComplete:a,onCompleteParams:l,onReverseCompleteParams:l,callbackScope:c})},e.fromTo=function(s,a,l){return Mu(2,arguments)},e.set=function(s,a){return a.duration=0,a.repeatDelay||(a.repeat=0),new e(s,a)},e.killTweensOf=function(s,a,l){return It.killTweensOf(s,a,l)},e})(ec);ki(tn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});si("staggerTo,staggerFrom,staggerFromTo",function(t){tn[t]=function(){var e=new $n,n=Zm.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var ny=function(e,n,i){return e[n]=i},BT=function(e,n,i){return e[n](i)},qI=function(e,n,i,s){return e[n](s.fp,i)},BI=function(e,n,i){return e.setAttribute(n,i)},iy=function(e,n){return Bt(e[n])?BT:jg(e[n])&&e.setAttribute?BI:ny},GT=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},GI=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},zT=function(e,n){var i=n._pt,s="";if(!e&&n.b)s=n.b;else if(e===1&&n.e)s=n.e;else{for(;i;)s=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+s,i=i._next;s+=n.c}n.set(n.t,n.p,s,n)},ry=function(e,n){for(var i=n._pt;i;)i.r(e,i.d),i=i._next},zI=function(e,n,i,s){for(var a=this._pt,l;a;)l=a._next,a.p===s&&a.modifier(e,n,i),a=l},HI=function(e){for(var n=this._pt,i,s;n;)s=n._next,n.p===e&&!n.op||n.op===e?Lf(this,n,"_pt"):n.dep||(i=1),n=s;return!i},VI=function(e,n,i,s){s.mSet(e,n,s.m.call(s.tween,i,s.mt),s)},HT=function(e){for(var n=e._pt,i,s,a,l;n;){for(i=n._next,s=a;s&&s.pr>n.pr;)s=s._next;(n._prev=s?s._prev:l)?n._prev._next=n:a=n,(n._next=s)?s._prev=n:l=n,n=i}e._pt=a},oi=(function(){function t(n,i,s,a,l,c,f,h,m){this.t=i,this.s=a,this.c=l,this.p=s,this.r=c||GT,this.d=f||this,this.set=h||ny,this.pr=m||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(i,s,a){this.mSet=this.mSet||this.set,this.set=VI,this.m=i,this.mt=a,this.tween=s},t})();si(Wg+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return Xg[t]=1});Ni.TweenMax=Ni.TweenLite=tn;Ni.TimelineLite=Ni.TimelineMax=$n;It=new $n({sortChildren:!1,defaults:ll,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Ri.stringFilter=MT;var Vo=[],ef={},FI=[],sx=0,$I=0,wm=function(e){return(ef[e]||FI).map(function(n){return n()})},ig=function(){var e=Date.now(),n=[];e-sx>2&&(wm("matchMediaInit"),Vo.forEach(function(i){var s=i.queries,a=i.conditions,l,c,f,h;for(c in s)l=Rr.matchMedia(s[c]).matches,l&&(f=1),l!==a[c]&&(a[c]=l,h=1);h&&(i.revert(),f&&n.push(i))}),wm("matchMediaRevert"),n.forEach(function(i){return i.onMatch(i,function(s){return i.add(null,s)})}),sx=e,wm("matchMedia"))},VT=(function(){function t(n,i){this.selector=i&&eg(i),this.data=[],this._r=[],this.isReverted=!1,this.id=$I++,n&&this.add(n)}var e=t.prototype;return e.add=function(i,s,a){Bt(i)&&(a=s,s=i,i=Bt);var l=this,c=function(){var h=Tt,m=l.selector,v;return h&&h!==l&&h.data.push(l),a&&(l.selector=eg(a)),Tt=l,v=s.apply(l,arguments),Bt(v)&&l._r.push(v),Tt=h,l.selector=m,l.isReverted=!1,v};return l.last=c,i===Bt?c(l,function(f){return l.add(null,f)}):i?l[i]=c:c},e.ignore=function(i){var s=Tt;Tt=null,i(this),Tt=s},e.getTweens=function(){var i=[];return this.data.forEach(function(s){return s instanceof t?i.push.apply(i,s.getTweens()):s instanceof tn&&!(s.parent&&s.parent.data==="nested")&&i.push(s)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,s){var a=this;if(i?(function(){for(var c=a.getTweens(),f=a.data.length,h;f--;)h=a.data[f],h.data==="isFlip"&&(h.revert(),h.getChildren(!0,!0,!1).forEach(function(m){return c.splice(c.indexOf(m),1)}));for(c.map(function(m){return{g:m._dur||m._delay||m._sat&&!m._sat.vars.immediateRender?m.globalTime(0):-1/0,t:m}}).sort(function(m,v){return v.g-m.g||-1/0}).forEach(function(m){return m.t.revert(i)}),f=a.data.length;f--;)h=a.data[f],h instanceof $n?h.data!=="nested"&&(h.scrollTrigger&&h.scrollTrigger.revert(),h.kill()):!(h instanceof tn)&&h.revert&&h.revert(i);a._r.forEach(function(m){return m(i,a)}),a.isReverted=!0})():this.data.forEach(function(c){return c.kill&&c.kill()}),this.clear(),s)for(var l=Vo.length;l--;)Vo[l].id===this.id&&Vo.splice(l,1)},e.revert=function(i){this.kill(i||{})},t})(),jI=(function(){function t(n){this.contexts=[],this.scope=n,Tt&&Tt.data.push(this)}var e=t.prototype;return e.add=function(i,s,a){Ur(i)||(i={matches:i});var l=new VT(0,a||this.scope),c=l.conditions={},f,h,m;Tt&&!l.selector&&(l.selector=Tt.selector),this.contexts.push(l),s=l.add("onMatch",s),l.queries=i;for(h in i)h==="all"?m=1:(f=Rr.matchMedia(i[h]),f&&(Vo.indexOf(l)<0&&Vo.push(l),(c[h]=f.matches)&&(m=1),f.addListener?f.addListener(ig):f.addEventListener("change",ig)));return m&&s(l,function(v){return l.add(null,v)}),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(s){return s.kill(i,!0)})},t})(),vf={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];n.forEach(function(s){return RT(s)})},timeline:function(e){return new $n(e)},getTweensOf:function(e,n){return It.getTweensOf(e,n)},getProperty:function(e,n,i,s){hn(e)&&(e=Zi(e)[0]);var a=Go(e||{}).get,l=i?mT:pT;return i==="native"&&(i=""),e&&(n?l((Si[n]&&Si[n].get||a)(e,n,i,s)):function(c,f,h){return l((Si[c]&&Si[c].get||a)(e,c,f,h))})},quickSetter:function(e,n,i){if(e=Zi(e),e.length>1){var s=e.map(function(m){return li.quickSetter(m,n,i)}),a=s.length;return function(m){for(var v=a;v--;)s[v](m)}}e=e[0]||{};var l=Si[n],c=Go(e),f=c.harness&&(c.harness.aliases||{})[n]||n,h=l?function(m){var v=new l;Ka._pt=0,v.init(e,i?m+i:m,Ka,0,[e]),v.render(1,v),Ka._pt&&ry(1,Ka)}:c.set(e,f);return l?h:function(m){return h(e,f,i?m+i:m,c,1)}},quickTo:function(e,n,i){var s,a=li.to(e,ki((s={},s[n]="+=0.1",s.paused=!0,s.stagger=0,s),i||{})),l=function(f,h,m){return a.resetTo(n,f,h,m)};return l.tween=a,l},isTweening:function(e){return It.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Ho(e.ease,ll.ease)),ex(ll,e||{})},config:function(e){return ex(Ri,e||{})},registerEffect:function(e){var n=e.name,i=e.effect,s=e.plugins,a=e.defaults,l=e.extendTimeline;(s||"").split(",").forEach(function(c){return c&&!Si[c]&&!Ni[c]&&Xu(n+" effect requires "+c+" plugin.")}),_m[n]=function(c,f,h){return i(Zi(c),ki(f||{},a),h)},l&&($n.prototype[n]=function(c,f,h){return this.add(_m[n](c,Ur(f)?f:(h=f)&&{},this),h)})},registerEase:function(e,n){Ye[e]=Ho(n)},parseEase:function(e,n){return arguments.length?Ho(e,n):Ye},getById:function(e){return It.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var i=new $n(e),s,a;for(i.smoothChildTiming=ri(e.smoothChildTiming),It.remove(i),i._dp=0,i._time=i._tTime=It._time,s=It._first;s;)a=s._next,(n||!(!s._dur&&s instanceof tn&&s.vars.onComplete===s._targets[0]))&&kr(i,s,s._start-s._delay),s=a;return kr(It,i,0),i},context:function(e,n){return e?new VT(e,n):Tt},matchMedia:function(e){return new jI(e)},matchMediaRefresh:function(){return Vo.forEach(function(e){var n=e.conditions,i,s;for(s in n)n[s]&&(n[s]=!1,i=1);i&&e.revert()})||ig()},addEventListener:function(e,n){var i=ef[e]||(ef[e]=[]);~i.indexOf(n)||i.push(n)},removeEventListener:function(e,n){var i=ef[e],s=i&&i.indexOf(n);s>=0&&i.splice(s,1)},utils:{wrap:TI,wrapYoyo:EI,distribute:ST,random:TT,snap:wT,normalize:wI,getUnit:Mn,clamp:_I,splitColor:NT,toArray:Zi,selector:eg,mapRange:CT,pipe:xI,unitize:SI,interpolate:CI,shuffle:xT},install:uT,effects:_m,ticker:Ti,updateRoot:$n.updateRoot,plugins:Si,globalTimeline:It,core:{PropTween:oi,globals:cT,Tween:tn,Timeline:$n,Animation:ec,getCache:Go,_removeLinkedListItem:Lf,reverting:function(){return wn},context:function(e){return e&&Tt&&(Tt.data.push(e),e._ctx=Tt),Tt},suppressOverwrites:function(e){return $g=e}}};si("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return vf[t]=tn[t]});Ti.add($n.updateRoot);Ka=vf.to({},{duration:0});var JI=function(e,n){for(var i=e._pt;i&&i.p!==n&&i.op!==n&&i.fp!==n;)i=i._next;return i},YI=function(e,n){var i=e._targets,s,a,l;for(s in n)for(a=i.length;a--;)l=e._ptLookup[a][s],l&&(l=l.d)&&(l._pt&&(l=JI(l,s)),l&&l.modifier&&l.modifier(n[s],e,i[a],s))},Tm=function(e,n){return{name:e,headless:1,rawVars:1,init:function(s,a,l){l._onInit=function(c){var f,h;if(hn(a)&&(f={},si(a,function(m){return f[m]=1}),a=f),n){f={};for(h in a)f[h]=n(a[h]);a=f}YI(c,a)}}}},li=vf.registerPlugin({name:"attr",init:function(e,n,i,s,a){var l,c,f;this.tween=i;for(l in n)f=e.getAttribute(l)||"",c=this.add(e,"setAttribute",(f||0)+"",n[l],s,a,0,0,l),c.op=l,c.b=f,this._props.push(l)},render:function(e,n){for(var i=n._pt;i;)wn?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",headless:1,init:function(e,n){for(var i=n.length;i--;)this.add(e,i,e[i]||0,n[i],0,0,0,0,0,1)}},Tm("roundProps",tg),Tm("modifiers"),Tm("snap",wT))||vf;tn.version=$n.version=li.version="3.14.2";lT=1;Jg()&&fl();Ye.Power0;Ye.Power1;Ye.Power2;Ye.Power3;Ye.Power4;Ye.Linear;Ye.Quad;Ye.Cubic;Ye.Quart;Ye.Quint;Ye.Strong;Ye.Elastic;Ye.Back;Ye.SteppedEase;Ye.Bounce;Ye.Sine;Ye.Expo;Ye.Circ;/*!
 * CSSPlugin 3.14.2
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var ox,$s,tl,sy,qo,ax,oy,KI=function(){return typeof window<"u"},ds={},Mo=180/Math.PI,nl=Math.PI/180,qa=Math.atan2,lx=1e8,ay=/([A-Z])/g,XI=/(left|right|width|margin|padding|x)/i,WI=/[\s,\(]\S/,Mr={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},rg=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},QI=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},ZI=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},eD=function(e,n){return n.set(n.t,n.p,e===1?n.e:e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},tD=function(e,n){var i=n.s+n.c*e;n.set(n.t,n.p,~~(i+(i<0?-.5:.5))+n.u,n)},FT=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},$T=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},nD=function(e,n,i){return e.style[n]=i},iD=function(e,n,i){return e.style.setProperty(n,i)},rD=function(e,n,i){return e._gsap[n]=i},sD=function(e,n,i){return e._gsap.scaleX=e._gsap.scaleY=i},oD=function(e,n,i,s,a){var l=e._gsap;l.scaleX=l.scaleY=i,l.renderTransform(a,l)},aD=function(e,n,i,s,a){var l=e._gsap;l[n]=i,l.renderTransform(a,l)},Dt="transform",ai=Dt+"Origin",lD=function t(e,n){var i=this,s=this.target,a=s.style,l=s._gsap;if(e in ds&&a){if(this.tfm=this.tfm||{},e!=="transform")e=Mr[e]||e,~e.indexOf(",")?e.split(",").forEach(function(c){return i.tfm[c]=rs(s,c)}):this.tfm[e]=l.x?l[e]:rs(s,e),e===ai&&(this.tfm.zOrigin=l.zOrigin);else return Mr.transform.split(",").forEach(function(c){return t.call(i,c,n)});if(this.props.indexOf(Dt)>=0)return;l.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(ai,n,"")),e=Dt}(a||n)&&this.props.push(e,n,a[e])},jT=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},uD=function(){var e=this.props,n=this.target,i=n.style,s=n._gsap,a,l;for(a=0;a<e.length;a+=3)e[a+1]?e[a+1]===2?n[e[a]](e[a+2]):n[e[a]]=e[a+2]:e[a+2]?i[e[a]]=e[a+2]:i.removeProperty(e[a].substr(0,2)==="--"?e[a]:e[a].replace(ay,"-$1").toLowerCase());if(this.tfm){for(l in this.tfm)s[l]=this.tfm[l];s.svg&&(s.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),a=oy(),(!a||!a.isStart)&&!i[Dt]&&(jT(i),s.zOrigin&&i[ai]&&(i[ai]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},JT=function(e,n){var i={target:e,props:[],revert:uD,save:lD};return e._gsap||li.core.getCache(e),n&&e.style&&e.nodeType&&n.split(",").forEach(function(s){return i.save(s)}),i},YT,sg=function(e,n){var i=$s.createElementNS?$s.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):$s.createElement(e);return i&&i.style?i:$s.createElement(e)},Ai=function t(e,n,i){var s=getComputedStyle(e);return s[n]||s.getPropertyValue(n.replace(ay,"-$1").toLowerCase())||s.getPropertyValue(n)||!i&&t(e,hl(n)||n,1)||""},ux="O,Moz,ms,Ms,Webkit".split(","),hl=function(e,n,i){var s=n||qo,a=s.style,l=5;if(e in a&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);l--&&!(ux[l]+e in a););return l<0?null:(l===3?"ms":l>=0?ux[l]:"")+e},og=function(){KI()&&window.document&&(ox=window,$s=ox.document,tl=$s.documentElement,qo=sg("div")||{style:{}},sg("div"),Dt=hl(Dt),ai=Dt+"Origin",qo.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",YT=!!hl("perspective"),oy=li.core.reverting,sy=1)},cx=function(e){var n=e.ownerSVGElement,i=sg("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=e.cloneNode(!0),a;s.style.display="block",i.appendChild(s),tl.appendChild(i);try{a=s.getBBox()}catch{}return i.removeChild(s),tl.removeChild(i),a},dx=function(e,n){for(var i=n.length;i--;)if(e.hasAttribute(n[i]))return e.getAttribute(n[i])},KT=function(e){var n,i;try{n=e.getBBox()}catch{n=cx(e),i=1}return n&&(n.width||n.height)||i||(n=cx(e)),n&&!n.width&&!n.x&&!n.y?{x:+dx(e,["x","cx","x1"])||0,y:+dx(e,["y","cy","y1"])||0,width:0,height:0}:n},XT=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&KT(e))},eo=function(e,n){if(n){var i=e.style,s;n in ds&&n!==ai&&(n=Dt),i.removeProperty?(s=n.substr(0,2),(s==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),i.removeProperty(s==="--"?n:n.replace(ay,"-$1").toLowerCase())):i.removeAttribute(n)}},js=function(e,n,i,s,a,l){var c=new oi(e._pt,n,i,0,1,l?$T:FT);return e._pt=c,c.b=s,c.e=a,e._props.push(i),c},fx={deg:1,rad:1,turn:1},cD={grid:1,flex:1},to=function t(e,n,i,s){var a=parseFloat(i)||0,l=(i+"").trim().substr((a+"").length)||"px",c=qo.style,f=XI.test(n),h=e.tagName.toLowerCase()==="svg",m=(h?"client":"offset")+(f?"Width":"Height"),v=100,b=s==="px",S=s==="%",E,w,C,A;if(s===l||!a||fx[s]||fx[l])return a;if(l!=="px"&&!b&&(a=t(e,n,i,"px")),A=e.getCTM&&XT(e),(S||l==="%")&&(ds[n]||~n.indexOf("adius")))return E=A?e.getBBox()[f?"width":"height"]:e[m],Ft(S?a/E*v:a/100*E);if(c[f?"width":"height"]=v+(b?l:s),w=s!=="rem"&&~n.indexOf("adius")||s==="em"&&e.appendChild&&!h?e:e.parentNode,A&&(w=(e.ownerSVGElement||{}).parentNode),(!w||w===$s||!w.appendChild)&&(w=$s.body),C=w._gsap,C&&S&&C.width&&f&&C.time===Ti.time&&!C.uncache)return Ft(a/C.width*v);if(S&&(n==="height"||n==="width")){var N=e.style[n];e.style[n]=v+s,E=e[m],N?e.style[n]=N:eo(e,n)}else(S||l==="%")&&!cD[Ai(w,"display")]&&(c.position=Ai(e,"position")),w===e&&(c.position="static"),w.appendChild(qo),E=qo[m],w.removeChild(qo),c.position="absolute";return f&&S&&(C=Go(w),C.time=Ti.time,C.width=w[m]),Ft(b?E*a/v:E&&a?v/E*a:0)},rs=function(e,n,i,s){var a;return sy||og(),n in Mr&&n!=="transform"&&(n=Mr[n],~n.indexOf(",")&&(n=n.split(",")[0])),ds[n]&&n!=="transform"?(a=nc(e,s),a=n!=="transformOrigin"?a[n]:a.svg?a.origin:bf(Ai(e,ai))+" "+a.zOrigin+"px"):(a=e.style[n],(!a||a==="auto"||s||~(a+"").indexOf("calc("))&&(a=_f[n]&&_f[n](e,n,i)||Ai(e,n)||fT(e,n)||(n==="opacity"?1:0))),i&&!~(a+"").trim().indexOf(" ")?to(e,n,a,i)+i:a},dD=function(e,n,i,s){if(!i||i==="none"){var a=hl(n,e,1),l=a&&Ai(e,a,1);l&&l!==i?(n=a,i=l):n==="borderColor"&&(i=Ai(e,"borderTopColor"))}var c=new oi(this._pt,e.style,n,0,1,zT),f=0,h=0,m,v,b,S,E,w,C,A,N,k,M,U;if(c.b=i,c.e=s,i+="",s+="",s.substring(0,6)==="var(--"&&(s=Ai(e,s.substring(4,s.indexOf(")")))),s==="auto"&&(w=e.style[n],e.style[n]=s,s=Ai(e,n)||s,w?e.style[n]=w:eo(e,n)),m=[i,s],MT(m),i=m[0],s=m[1],b=i.match(Ya)||[],U=s.match(Ya)||[],U.length){for(;v=Ya.exec(s);)C=v[0],N=s.substring(f,v.index),E?E=(E+1)%5:(N.substr(-5)==="rgba("||N.substr(-5)==="hsla(")&&(E=1),C!==(w=b[h++]||"")&&(S=parseFloat(w)||0,M=w.substr((S+"").length),C.charAt(1)==="="&&(C=el(S,C)+M),A=parseFloat(C),k=C.substr((A+"").length),f=Ya.lastIndex-k.length,k||(k=k||Ri.units[n]||M,f===s.length&&(s+=k,c.e+=k)),M!==k&&(S=to(e,n,w,k)||0),c._pt={_next:c._pt,p:N||h===1?N:",",s:S,c:A-S,m:E&&E<4||n==="zIndex"?Math.round:0});c.c=f<s.length?s.substring(f,s.length):""}else c.r=n==="display"&&s==="none"?$T:FT;return aT.test(s)&&(c.e=0),this._pt=c,c},hx={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},fD=function(e){var n=e.split(" "),i=n[0],s=n[1]||"50%";return(i==="top"||i==="bottom"||s==="left"||s==="right")&&(e=i,i=s,s=e),n[0]=hx[i]||i,n[1]=hx[s]||s,n.join(" ")},hD=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var i=n.t,s=i.style,a=n.u,l=i._gsap,c,f,h;if(a==="all"||a===!0)s.cssText="",f=1;else for(a=a.split(","),h=a.length;--h>-1;)c=a[h],ds[c]&&(f=1,c=c==="transformOrigin"?ai:Dt),eo(i,c);f&&(eo(i,Dt),l&&(l.svg&&i.removeAttribute("transform"),s.scale=s.rotate=s.translate="none",nc(i,1),l.uncache=1,jT(s)))}},_f={clearProps:function(e,n,i,s,a){if(a.data!=="isFromStart"){var l=e._pt=new oi(e._pt,n,i,0,0,hD);return l.u=s,l.pr=-10,l.tween=a,e._props.push(i),1}}},tc=[1,0,0,1,0,0],WT={},QT=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},px=function(e){var n=Ai(e,Dt);return QT(n)?tc:n.substr(7).match(oT).map(Ft)},ly=function(e,n){var i=e._gsap||Go(e),s=e.style,a=px(e),l,c,f,h;return i.svg&&e.getAttribute("transform")?(f=e.transform.baseVal.consolidate().matrix,a=[f.a,f.b,f.c,f.d,f.e,f.f],a.join(",")==="1,0,0,1,0,0"?tc:a):(a===tc&&!e.offsetParent&&e!==tl&&!i.svg&&(f=s.display,s.display="block",l=e.parentNode,(!l||!e.offsetParent&&!e.getBoundingClientRect().width)&&(h=1,c=e.nextElementSibling,tl.appendChild(e)),a=px(e),f?s.display=f:eo(e,"display"),h&&(c?l.insertBefore(e,c):l?l.appendChild(e):tl.removeChild(e))),n&&a.length>6?[a[0],a[1],a[4],a[5],a[12],a[13]]:a)},ag=function(e,n,i,s,a,l){var c=e._gsap,f=a||ly(e,!0),h=c.xOrigin||0,m=c.yOrigin||0,v=c.xOffset||0,b=c.yOffset||0,S=f[0],E=f[1],w=f[2],C=f[3],A=f[4],N=f[5],k=n.split(" "),M=parseFloat(k[0])||0,U=parseFloat(k[1])||0,z,I,q,B;i?f!==tc&&(I=S*C-E*w)&&(q=M*(C/I)+U*(-w/I)+(w*N-C*A)/I,B=M*(-E/I)+U*(S/I)-(S*N-E*A)/I,M=q,U=B):(z=KT(e),M=z.x+(~k[0].indexOf("%")?M/100*z.width:M),U=z.y+(~(k[1]||k[0]).indexOf("%")?U/100*z.height:U)),s||s!==!1&&c.smooth?(A=M-h,N=U-m,c.xOffset=v+(A*S+N*w)-A,c.yOffset=b+(A*E+N*C)-N):c.xOffset=c.yOffset=0,c.xOrigin=M,c.yOrigin=U,c.smooth=!!s,c.origin=n,c.originIsAbsolute=!!i,e.style[ai]="0px 0px",l&&(js(l,c,"xOrigin",h,M),js(l,c,"yOrigin",m,U),js(l,c,"xOffset",v,c.xOffset),js(l,c,"yOffset",b,c.yOffset)),e.setAttribute("data-svg-origin",M+" "+U)},nc=function(e,n){var i=e._gsap||new UT(e);if("x"in i&&!n&&!i.uncache)return i;var s=e.style,a=i.scaleX<0,l="px",c="deg",f=getComputedStyle(e),h=Ai(e,ai)||"0",m,v,b,S,E,w,C,A,N,k,M,U,z,I,q,B,J,te,Z,ie,de,be,V,X,re,ve,G,P,W,se,oe,he;return m=v=b=w=C=A=N=k=M=0,S=E=1,i.svg=!!(e.getCTM&&XT(e)),f.translate&&((f.translate!=="none"||f.scale!=="none"||f.rotate!=="none")&&(s[Dt]=(f.translate!=="none"?"translate3d("+(f.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(f.rotate!=="none"?"rotate("+f.rotate+") ":"")+(f.scale!=="none"?"scale("+f.scale.split(" ").join(",")+") ":"")+(f[Dt]!=="none"?f[Dt]:"")),s.scale=s.rotate=s.translate="none"),I=ly(e,i.svg),i.svg&&(i.uncache?(re=e.getBBox(),h=i.xOrigin-re.x+"px "+(i.yOrigin-re.y)+"px",X=""):X=!n&&e.getAttribute("data-svg-origin"),ag(e,X||h,!!X||i.originIsAbsolute,i.smooth!==!1,I)),U=i.xOrigin||0,z=i.yOrigin||0,I!==tc&&(te=I[0],Z=I[1],ie=I[2],de=I[3],m=be=I[4],v=V=I[5],I.length===6?(S=Math.sqrt(te*te+Z*Z),E=Math.sqrt(de*de+ie*ie),w=te||Z?qa(Z,te)*Mo:0,N=ie||de?qa(ie,de)*Mo+w:0,N&&(E*=Math.abs(Math.cos(N*nl))),i.svg&&(m-=U-(U*te+z*ie),v-=z-(U*Z+z*de))):(he=I[6],se=I[7],G=I[8],P=I[9],W=I[10],oe=I[11],m=I[12],v=I[13],b=I[14],q=qa(he,W),C=q*Mo,q&&(B=Math.cos(-q),J=Math.sin(-q),X=be*B+G*J,re=V*B+P*J,ve=he*B+W*J,G=be*-J+G*B,P=V*-J+P*B,W=he*-J+W*B,oe=se*-J+oe*B,be=X,V=re,he=ve),q=qa(-ie,W),A=q*Mo,q&&(B=Math.cos(-q),J=Math.sin(-q),X=te*B-G*J,re=Z*B-P*J,ve=ie*B-W*J,oe=de*J+oe*B,te=X,Z=re,ie=ve),q=qa(Z,te),w=q*Mo,q&&(B=Math.cos(q),J=Math.sin(q),X=te*B+Z*J,re=be*B+V*J,Z=Z*B-te*J,V=V*B-be*J,te=X,be=re),C&&Math.abs(C)+Math.abs(w)>359.9&&(C=w=0,A=180-A),S=Ft(Math.sqrt(te*te+Z*Z+ie*ie)),E=Ft(Math.sqrt(V*V+he*he)),q=qa(be,V),N=Math.abs(q)>2e-4?q*Mo:0,M=oe?1/(oe<0?-oe:oe):0),i.svg&&(X=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!QT(Ai(e,Dt)),X&&e.setAttribute("transform",X))),Math.abs(N)>90&&Math.abs(N)<270&&(a?(S*=-1,N+=w<=0?180:-180,w+=w<=0?180:-180):(E*=-1,N+=N<=0?180:-180)),n=n||i.uncache,i.x=m-((i.xPercent=m&&(!n&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-m)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+l,i.y=v-((i.yPercent=v&&(!n&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-v)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+l,i.z=b+l,i.scaleX=Ft(S),i.scaleY=Ft(E),i.rotation=Ft(w)+c,i.rotationX=Ft(C)+c,i.rotationY=Ft(A)+c,i.skewX=N+c,i.skewY=k+c,i.transformPerspective=M+l,(i.zOrigin=parseFloat(h.split(" ")[2])||!n&&i.zOrigin||0)&&(s[ai]=bf(h)),i.xOffset=i.yOffset=0,i.force3D=Ri.force3D,i.renderTransform=i.svg?mD:YT?ZT:pD,i.uncache=0,i},bf=function(e){return(e=e.split(" "))[0]+" "+e[1]},Em=function(e,n,i){var s=Mn(n);return Ft(parseFloat(n)+parseFloat(to(e,"x",i+"px",s)))+s},pD=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,ZT(e,n)},Ao="0deg",hu="0px",Ro=") ",ZT=function(e,n){var i=n||this,s=i.xPercent,a=i.yPercent,l=i.x,c=i.y,f=i.z,h=i.rotation,m=i.rotationY,v=i.rotationX,b=i.skewX,S=i.skewY,E=i.scaleX,w=i.scaleY,C=i.transformPerspective,A=i.force3D,N=i.target,k=i.zOrigin,M="",U=A==="auto"&&e&&e!==1||A===!0;if(k&&(v!==Ao||m!==Ao)){var z=parseFloat(m)*nl,I=Math.sin(z),q=Math.cos(z),B;z=parseFloat(v)*nl,B=Math.cos(z),l=Em(N,l,I*B*-k),c=Em(N,c,-Math.sin(z)*-k),f=Em(N,f,q*B*-k+k)}C!==hu&&(M+="perspective("+C+Ro),(s||a)&&(M+="translate("+s+"%, "+a+"%) "),(U||l!==hu||c!==hu||f!==hu)&&(M+=f!==hu||U?"translate3d("+l+", "+c+", "+f+") ":"translate("+l+", "+c+Ro),h!==Ao&&(M+="rotate("+h+Ro),m!==Ao&&(M+="rotateY("+m+Ro),v!==Ao&&(M+="rotateX("+v+Ro),(b!==Ao||S!==Ao)&&(M+="skew("+b+", "+S+Ro),(E!==1||w!==1)&&(M+="scale("+E+", "+w+Ro),N.style[Dt]=M||"translate(0, 0)"},mD=function(e,n){var i=n||this,s=i.xPercent,a=i.yPercent,l=i.x,c=i.y,f=i.rotation,h=i.skewX,m=i.skewY,v=i.scaleX,b=i.scaleY,S=i.target,E=i.xOrigin,w=i.yOrigin,C=i.xOffset,A=i.yOffset,N=i.forceCSS,k=parseFloat(l),M=parseFloat(c),U,z,I,q,B;f=parseFloat(f),h=parseFloat(h),m=parseFloat(m),m&&(m=parseFloat(m),h+=m,f+=m),f||h?(f*=nl,h*=nl,U=Math.cos(f)*v,z=Math.sin(f)*v,I=Math.sin(f-h)*-b,q=Math.cos(f-h)*b,h&&(m*=nl,B=Math.tan(h-m),B=Math.sqrt(1+B*B),I*=B,q*=B,m&&(B=Math.tan(m),B=Math.sqrt(1+B*B),U*=B,z*=B)),U=Ft(U),z=Ft(z),I=Ft(I),q=Ft(q)):(U=v,q=b,z=I=0),(k&&!~(l+"").indexOf("px")||M&&!~(c+"").indexOf("px"))&&(k=to(S,"x",l,"px"),M=to(S,"y",c,"px")),(E||w||C||A)&&(k=Ft(k+E-(E*U+w*I)+C),M=Ft(M+w-(E*z+w*q)+A)),(s||a)&&(B=S.getBBox(),k=Ft(k+s/100*B.width),M=Ft(M+a/100*B.height)),B="matrix("+U+","+z+","+I+","+q+","+k+","+M+")",S.setAttribute("transform",B),N&&(S.style[Dt]=B)},gD=function(e,n,i,s,a){var l=360,c=hn(a),f=parseFloat(a)*(c&&~a.indexOf("rad")?Mo:1),h=f-s,m=s+h+"deg",v,b;return c&&(v=a.split("_")[1],v==="short"&&(h%=l,h!==h%(l/2)&&(h+=h<0?l:-l)),v==="cw"&&h<0?h=(h+l*lx)%l-~~(h/l)*l:v==="ccw"&&h>0&&(h=(h-l*lx)%l-~~(h/l)*l)),e._pt=b=new oi(e._pt,n,i,s,h,QI),b.e=m,b.u="deg",e._props.push(i),b},mx=function(e,n){for(var i in n)e[i]=n[i];return e},yD=function(e,n,i){var s=mx({},i._gsap),a="perspective,force3D,transformOrigin,svgOrigin",l=i.style,c,f,h,m,v,b,S,E;s.svg?(h=i.getAttribute("transform"),i.setAttribute("transform",""),l[Dt]=n,c=nc(i,1),eo(i,Dt),i.setAttribute("transform",h)):(h=getComputedStyle(i)[Dt],l[Dt]=n,c=nc(i,1),l[Dt]=h);for(f in ds)h=s[f],m=c[f],h!==m&&a.indexOf(f)<0&&(S=Mn(h),E=Mn(m),v=S!==E?to(i,f,h,E):parseFloat(h),b=parseFloat(m),e._pt=new oi(e._pt,c,f,v,b-v,rg),e._pt.u=E||0,e._props.push(f));mx(c,s)};si("padding,margin,Width,Radius",function(t,e){var n="Top",i="Right",s="Bottom",a="Left",l=(e<3?[n,i,s,a]:[n+a,n+i,s+i,s+a]).map(function(c){return e<2?t+c:"border"+c+t});_f[e>1?"border"+t:t]=function(c,f,h,m,v){var b,S;if(arguments.length<4)return b=l.map(function(E){return rs(c,E,h)}),S=b.join(" "),S.split(b[0]).length===5?b[0]:S;b=(m+"").split(" "),S={},l.forEach(function(E,w){return S[E]=b[w]=b[w]||b[(w-1)/2|0]}),c.init(f,S,v)}});var eE={name:"css",register:og,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,i,s,a){var l=this._props,c=e.style,f=i.vars.startAt,h,m,v,b,S,E,w,C,A,N,k,M,U,z,I,q,B;sy||og(),this.styles=this.styles||JT(e),q=this.styles.props,this.tween=i;for(w in n)if(w!=="autoRound"&&(m=n[w],!(Si[w]&&OT(w,n,i,s,e,a)))){if(S=typeof m,E=_f[w],S==="function"&&(m=m.call(i,s,e,a),S=typeof m),S==="string"&&~m.indexOf("random(")&&(m=Qu(m)),E)E(this,e,w,m,i)&&(I=1);else if(w.substr(0,2)==="--")h=(getComputedStyle(e).getPropertyValue(w)+"").trim(),m+="",Ws.lastIndex=0,Ws.test(h)||(C=Mn(h),A=Mn(m),A?C!==A&&(h=to(e,w,h,A)+A):C&&(m+=C)),this.add(c,"setProperty",h,m,s,a,0,0,w),l.push(w),q.push(w,0,c[w]);else if(S!=="undefined"){if(f&&w in f?(h=typeof f[w]=="function"?f[w].call(i,s,e,a):f[w],hn(h)&&~h.indexOf("random(")&&(h=Qu(h)),Mn(h+"")||h==="auto"||(h+=Ri.units[w]||Mn(rs(e,w))||""),(h+"").charAt(1)==="="&&(h=rs(e,w))):h=rs(e,w),b=parseFloat(h),N=S==="string"&&m.charAt(1)==="="&&m.substr(0,2),N&&(m=m.substr(2)),v=parseFloat(m),w in Mr&&(w==="autoAlpha"&&(b===1&&rs(e,"visibility")==="hidden"&&v&&(b=0),q.push("visibility",0,c.visibility),js(this,c,"visibility",b?"inherit":"hidden",v?"inherit":"hidden",!v)),w!=="scale"&&w!=="transform"&&(w=Mr[w],~w.indexOf(",")&&(w=w.split(",")[0]))),k=w in ds,k){if(this.styles.save(w),B=m,S==="string"&&m.substring(0,6)==="var(--"){if(m=Ai(e,m.substring(4,m.indexOf(")"))),m.substring(0,5)==="calc("){var J=e.style.perspective;e.style.perspective=m,m=Ai(e,"perspective"),J?e.style.perspective=J:eo(e,"perspective")}v=parseFloat(m)}if(M||(U=e._gsap,U.renderTransform&&!n.parseTransform||nc(e,n.parseTransform),z=n.smoothOrigin!==!1&&U.smooth,M=this._pt=new oi(this._pt,c,Dt,0,1,U.renderTransform,U,0,-1),M.dep=1),w==="scale")this._pt=new oi(this._pt,U,"scaleY",U.scaleY,(N?el(U.scaleY,N+v):v)-U.scaleY||0,rg),this._pt.u=0,l.push("scaleY",w),w+="X";else if(w==="transformOrigin"){q.push(ai,0,c[ai]),m=fD(m),U.svg?ag(e,m,0,z,0,this):(A=parseFloat(m.split(" ")[2])||0,A!==U.zOrigin&&js(this,U,"zOrigin",U.zOrigin,A),js(this,c,w,bf(h),bf(m)));continue}else if(w==="svgOrigin"){ag(e,m,1,z,0,this);continue}else if(w in WT){gD(this,U,w,b,N?el(b,N+m):m);continue}else if(w==="smoothOrigin"){js(this,U,"smooth",U.smooth,m);continue}else if(w==="force3D"){U[w]=m;continue}else if(w==="transform"){yD(this,m,e);continue}}else w in c||(w=hl(w)||w);if(k||(v||v===0)&&(b||b===0)&&!WI.test(m)&&w in c)C=(h+"").substr((b+"").length),v||(v=0),A=Mn(m)||(w in Ri.units?Ri.units[w]:C),C!==A&&(b=to(e,w,h,A)),this._pt=new oi(this._pt,k?U:c,w,b,(N?el(b,N+v):v)-b,!k&&(A==="px"||w==="zIndex")&&n.autoRound!==!1?tD:rg),this._pt.u=A||0,k&&B!==m?(this._pt.b=h,this._pt.e=B,this._pt.r=eD):C!==A&&A!=="%"&&(this._pt.b=h,this._pt.r=ZI);else if(w in c)dD.call(this,e,w,h,N?N+m:m);else if(w in e)this.add(e,w,h||e[w],N?N+m:m,s,a);else if(w!=="parseTransform"){Kg(w,m);continue}k||(w in c?q.push(w,0,c[w]):typeof e[w]=="function"?q.push(w,2,e[w]()):q.push(w,1,h||e[w])),l.push(w)}}I&&HT(this)},render:function(e,n){if(n.tween._time||!oy())for(var i=n._pt;i;)i.r(e,i.d),i=i._next;else n.styles.revert()},get:rs,aliases:Mr,getSetter:function(e,n,i){var s=Mr[n];return s&&s.indexOf(",")<0&&(n=s),n in ds&&n!==ai&&(e._gsap.x||rs(e,"x"))?i&&ax===i?n==="scale"?sD:rD:(ax=i||{})&&(n==="scale"?oD:aD):e.style&&!jg(e.style[n])?nD:~n.indexOf("-")?iD:iy(e,n)},core:{_removeProperty:eo,_getMatrix:ly}};li.utils.checkPrefix=hl;li.core.getStyleSaver=JT;(function(t,e,n,i){var s=si(t+","+e+","+n,function(a){ds[a]=1});si(e,function(a){Ri.units[a]="deg",WT[a]=1}),Mr[s[13]]=t+","+e,si(i,function(a){var l=a.split(":");Mr[l[1]]=s[l[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");si("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){Ri.units[t]="px"});li.registerPlugin(eE);var Gf=li.registerPlugin(eE)||li;Gf.core.Tween;function vD(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _D(t,e,n){return e&&vD(t.prototype,e),t}/*!
 * Observer 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Sn,tf,Ei,Js,Ys,il,tE,Io,Du,nE,os,cr,iE,rE=function(){return Sn||typeof window<"u"&&(Sn=window.gsap)&&Sn.registerPlugin&&Sn},sE=1,Xa=[],Ge=[],Pr=[],Pu=Date.now,lg=function(e,n){return n},bD=function(){var e=Du.core,n=e.bridge||{},i=e._scrollers,s=e._proxies;i.push.apply(i,Ge),s.push.apply(s,Pr),Ge=i,Pr=s,lg=function(l,c){return n[l](c)}},Qs=function(e,n){return~Pr.indexOf(e)&&Pr[Pr.indexOf(e)+1][n]},Uu=function(e){return!!~nE.indexOf(e)},Gn=function(e,n,i,s,a){return e.addEventListener(n,i,{passive:s!==!1,capture:!!a})},Bn=function(e,n,i,s){return e.removeEventListener(n,i,!!s)},Id="scrollLeft",Dd="scrollTop",ug=function(){return os&&os.isPressed||Ge.cache++},xf=function(e,n){var i=function s(a){if(a||a===0){sE&&(Ei.history.scrollRestoration="manual");var l=os&&os.isPressed;a=s.v=Math.round(a)||(os&&os.iOS?1:0),e(a),s.cacheID=Ge.cache,l&&lg("ss",a)}else(n||Ge.cache!==s.cacheID||lg("ref"))&&(s.cacheID=Ge.cache,s.v=e());return s.v+s.offset};return i.offset=0,e&&i},jn={s:Id,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:xf(function(t){return arguments.length?Ei.scrollTo(t,ln.sc()):Ei.pageXOffset||Js[Id]||Ys[Id]||il[Id]||0})},ln={s:Dd,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:jn,sc:xf(function(t){return arguments.length?Ei.scrollTo(jn.sc(),t):Ei.pageYOffset||Js[Dd]||Ys[Dd]||il[Dd]||0})},ii=function(e,n){return(n&&n._ctx&&n._ctx.selector||Sn.utils.toArray)(e)[0]||(typeof e=="string"&&Sn.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},xD=function(e,n){for(var i=n.length;i--;)if(n[i]===e||n[i].contains(e))return!0;return!1},no=function(e,n){var i=n.s,s=n.sc;Uu(e)&&(e=Js.scrollingElement||Ys);var a=Ge.indexOf(e),l=s===ln.sc?1:2;!~a&&(a=Ge.push(e)-1),Ge[a+l]||Gn(e,"scroll",ug);var c=Ge[a+l],f=c||(Ge[a+l]=xf(Qs(e,i),!0)||(Uu(e)?s:xf(function(h){return arguments.length?e[i]=h:e[i]})));return f.target=e,c||(f.smooth=Sn.getProperty(e,"scrollBehavior")==="smooth"),f},cg=function(e,n,i){var s=e,a=e,l=Pu(),c=l,f=n||50,h=Math.max(500,f*3),m=function(E,w){var C=Pu();w||C-l>f?(a=s,s=E,c=l,l=C):i?s+=E:s=a+(E-a)/(C-c)*(l-c)},v=function(){a=s=i?0:s,c=l=0},b=function(E){var w=c,C=a,A=Pu();return(E||E===0)&&E!==s&&m(E),l===c||A-c>h?0:(s+(i?C:-C))/((i?A:l)-w)*1e3};return{update:m,reset:v,getVelocity:b}},pu=function(e,n){return n&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},gx=function(e){var n=Math.max.apply(Math,e),i=Math.min.apply(Math,e);return Math.abs(n)>=Math.abs(i)?n:i},oE=function(){Du=Sn.core.globals().ScrollTrigger,Du&&Du.core&&bD()},aE=function(e){return Sn=e||rE(),!tf&&Sn&&typeof document<"u"&&document.body&&(Ei=window,Js=document,Ys=Js.documentElement,il=Js.body,nE=[Ei,Js,Ys,il],Sn.utils.clamp,iE=Sn.core.context||function(){},Io="onpointerenter"in il?"pointer":"mouse",tE=$t.isTouch=Ei.matchMedia&&Ei.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Ei||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,cr=$t.eventTypes=("ontouchstart"in Ys?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Ys?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return sE=0},500),oE(),tf=1),tf};jn.op=ln;Ge.cache=0;var $t=(function(){function t(n){this.init(n)}var e=t.prototype;return e.init=function(i){tf||aE(Sn)||console.warn("Please gsap.registerPlugin(Observer)"),Du||oE();var s=i.tolerance,a=i.dragMinimum,l=i.type,c=i.target,f=i.lineHeight,h=i.debounce,m=i.preventDefault,v=i.onStop,b=i.onStopDelay,S=i.ignore,E=i.wheelSpeed,w=i.event,C=i.onDragStart,A=i.onDragEnd,N=i.onDrag,k=i.onPress,M=i.onRelease,U=i.onRight,z=i.onLeft,I=i.onUp,q=i.onDown,B=i.onChangeX,J=i.onChangeY,te=i.onChange,Z=i.onToggleX,ie=i.onToggleY,de=i.onHover,be=i.onHoverEnd,V=i.onMove,X=i.ignoreCheck,re=i.isNormalizer,ve=i.onGestureStart,G=i.onGestureEnd,P=i.onWheel,W=i.onEnable,se=i.onDisable,oe=i.onClick,he=i.scrollSpeed,_e=i.capture,xe=i.allowClicks,et=i.lockAxis,Oe=i.onLockAxis;this.target=c=ii(c)||Ys,this.vars=i,S&&(S=Sn.utils.toArray(S)),s=s||1e-9,a=a||0,E=E||1,he=he||1,l=l||"wheel,touch,pointer",h=h!==!1,f||(f=parseFloat(Ei.getComputedStyle(il).lineHeight)||22);var Yn,jt,nn,Fe,rt,un,mn,K=this,Tn=0,ui=0,Ii=i.passive||!m&&i.passive!==!1,ht=no(c,jn),ir=no(c,ln),vr=ht(),Gt=ir(),Jt=~l.indexOf("touch")&&!~l.indexOf("pointer")&&cr[0]==="pointerdown",rr=Uu(c),bt=c.ownerDocument||Js,En=[0,0,0],Kn=[0,0,0],Di=0,so=function(){return Di=Pu()},Pt=function(me,Xe){return(K.event=me)&&S&&xD(me.target,S)||Xe&&Jt&&me.pointerType!=="touch"||X&&X(me,Xe)},_r=function(){K._vx.reset(),K._vy.reset(),jt.pause(),v&&v(K)},Ct=function(){var me=K.deltaX=gx(En),Xe=K.deltaY=gx(Kn),ae=Math.abs(me)>=s,Ae=Math.abs(Xe)>=s;te&&(ae||Ae)&&te(K,me,Xe,En,Kn),ae&&(U&&K.deltaX>0&&U(K),z&&K.deltaX<0&&z(K),B&&B(K),Z&&K.deltaX<0!=Tn<0&&Z(K),Tn=K.deltaX,En[0]=En[1]=En[2]=0),Ae&&(q&&K.deltaY>0&&q(K),I&&K.deltaY<0&&I(K),J&&J(K),ie&&K.deltaY<0!=ui<0&&ie(K),ui=K.deltaY,Kn[0]=Kn[1]=Kn[2]=0),(Fe||nn)&&(V&&V(K),nn&&(C&&nn===1&&C(K),N&&N(K),nn=0),Fe=!1),un&&!(un=!1)&&Oe&&Oe(K),rt&&(P(K),rt=!1),Yn=0},Un=function(me,Xe,ae){En[ae]+=me,Kn[ae]+=Xe,K._vx.update(me),K._vy.update(Xe),h?Yn||(Yn=requestAnimationFrame(Ct)):Ct()},Yt=function(me,Xe){et&&!mn&&(K.axis=mn=Math.abs(me)>Math.abs(Xe)?"x":"y",un=!0),mn!=="y"&&(En[2]+=me,K._vx.update(me,!0)),mn!=="x"&&(Kn[2]+=Xe,K._vy.update(Xe,!0)),h?Yn||(Yn=requestAnimationFrame(Ct)):Ct()},br=function(me){if(!Pt(me,1)){me=pu(me,m);var Xe=me.clientX,ae=me.clientY,Ae=Xe-K.x,ge=ae-K.y,Ee=K.isDragging;K.x=Xe,K.y=ae,(Ee||(Ae||ge)&&(Math.abs(K.startX-Xe)>=a||Math.abs(K.startY-ae)>=a))&&(nn||(nn=Ee?2:1),Ee||(K.isDragging=!0),Yt(Ae,ge))}},Lr=K.onPress=function(Ce){Pt(Ce,1)||Ce&&Ce.button||(K.axis=mn=null,jt.pause(),K.isPressed=!0,Ce=pu(Ce),Tn=ui=0,K.startX=K.x=Ce.clientX,K.startY=K.y=Ce.clientY,K._vx.reset(),K._vy.reset(),Gn(re?c:bt,cr[1],br,Ii,!0),K.deltaX=K.deltaY=0,k&&k(K))},De=K.onRelease=function(Ce){if(!Pt(Ce,1)){Bn(re?c:bt,cr[1],br,!0);var me=!isNaN(K.y-K.startY),Xe=K.isDragging,ae=Xe&&(Math.abs(K.x-K.startX)>3||Math.abs(K.y-K.startY)>3),Ae=pu(Ce);!ae&&me&&(K._vx.reset(),K._vy.reset(),m&&xe&&Sn.delayedCall(.08,function(){if(Pu()-Di>300&&!Ce.defaultPrevented){if(Ce.target.click)Ce.target.click();else if(bt.createEvent){var ge=bt.createEvent("MouseEvents");ge.initMouseEvent("click",!0,!0,Ei,1,Ae.screenX,Ae.screenY,Ae.clientX,Ae.clientY,!1,!1,!1,!1,0,null),Ce.target.dispatchEvent(ge)}}})),K.isDragging=K.isGesturing=K.isPressed=!1,v&&Xe&&!re&&jt.restart(!0),nn&&Ct(),A&&Xe&&A(K),M&&M(K,ae)}},Pi=function(me){return me.touches&&me.touches.length>1&&(K.isGesturing=!0)&&ve(me,K.isDragging)},Cn=function(){return(K.isGesturing=!1)||G(K)},An=function(me){if(!Pt(me)){var Xe=ht(),ae=ir();Un((Xe-vr)*he,(ae-Gt)*he,1),vr=Xe,Gt=ae,v&&jt.restart(!0)}},rn=function(me){if(!Pt(me)){me=pu(me,m),P&&(rt=!0);var Xe=(me.deltaMode===1?f:me.deltaMode===2?Ei.innerHeight:1)*E;Un(me.deltaX*Xe,me.deltaY*Xe,0),v&&!re&&jt.restart(!0)}},Ui=function(me){if(!Pt(me)){var Xe=me.clientX,ae=me.clientY,Ae=Xe-K.x,ge=ae-K.y;K.x=Xe,K.y=ae,Fe=!0,v&&jt.restart(!0),(Ae||ge)&&Yt(Ae,ge)}},Oi=function(me){K.event=me,de(K)},sr=function(me){K.event=me,be(K)},gs=function(me){return Pt(me)||pu(me,m)&&oe(K)};jt=K._dc=Sn.delayedCall(b||.25,_r).pause(),K.deltaX=K.deltaY=0,K._vx=cg(0,50,!0),K._vy=cg(0,50,!0),K.scrollX=ht,K.scrollY=ir,K.isDragging=K.isGesturing=K.isPressed=!1,iE(this),K.enable=function(Ce){return K.isEnabled||(Gn(rr?bt:c,"scroll",ug),l.indexOf("scroll")>=0&&Gn(rr?bt:c,"scroll",An,Ii,_e),l.indexOf("wheel")>=0&&Gn(c,"wheel",rn,Ii,_e),(l.indexOf("touch")>=0&&tE||l.indexOf("pointer")>=0)&&(Gn(c,cr[0],Lr,Ii,_e),Gn(bt,cr[2],De),Gn(bt,cr[3],De),xe&&Gn(c,"click",so,!0,!0),oe&&Gn(c,"click",gs),ve&&Gn(bt,"gesturestart",Pi),G&&Gn(bt,"gestureend",Cn),de&&Gn(c,Io+"enter",Oi),be&&Gn(c,Io+"leave",sr),V&&Gn(c,Io+"move",Ui)),K.isEnabled=!0,K.isDragging=K.isGesturing=K.isPressed=Fe=nn=!1,K._vx.reset(),K._vy.reset(),vr=ht(),Gt=ir(),Ce&&Ce.type&&Lr(Ce),W&&W(K)),K},K.disable=function(){K.isEnabled&&(Xa.filter(function(Ce){return Ce!==K&&Uu(Ce.target)}).length||Bn(rr?bt:c,"scroll",ug),K.isPressed&&(K._vx.reset(),K._vy.reset(),Bn(re?c:bt,cr[1],br,!0)),Bn(rr?bt:c,"scroll",An,_e),Bn(c,"wheel",rn,_e),Bn(c,cr[0],Lr,_e),Bn(bt,cr[2],De),Bn(bt,cr[3],De),Bn(c,"click",so,!0),Bn(c,"click",gs),Bn(bt,"gesturestart",Pi),Bn(bt,"gestureend",Cn),Bn(c,Io+"enter",Oi),Bn(c,Io+"leave",sr),Bn(c,Io+"move",Ui),K.isEnabled=K.isPressed=K.isDragging=!1,se&&se(K))},K.kill=K.revert=function(){K.disable();var Ce=Xa.indexOf(K);Ce>=0&&Xa.splice(Ce,1),os===K&&(os=0)},Xa.push(K),re&&Uu(c)&&(os=K),K.enable(w)},_D(t,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),t})();$t.version="3.14.2";$t.create=function(t){return new $t(t)};$t.register=aE;$t.getAll=function(){return Xa.slice()};$t.getById=function(t){return Xa.filter(function(e){return e.vars.id===t})[0]};rE()&&Sn.registerPlugin($t);/*!
 * ScrollTrigger 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var ce,Fa,Be,mt,wi,it,uy,Sf,ic,Ou,Su,Pd,Nn,zf,dg,Vn,yx,vx,$a,lE,Cm,uE,Hn,fg,cE,dE,zs,hg,cy,rl,dy,Lu,pg,Am,Ud=1,kn=Date.now,Rm=kn(),er=0,wu=0,_x=function(e,n,i){var s=xi(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return i["_"+n+"Clamp"]=s,s?e.substr(6,e.length-7):e},bx=function(e,n){return n&&(!xi(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},SD=function t(){return wu&&requestAnimationFrame(t)},xx=function(){return zf=1},Sx=function(){return zf=0},Nr=function(e){return e},Tu=function(e){return Math.round(e*1e5)/1e5||0},fE=function(){return typeof window<"u"},hE=function(){return ce||fE()&&(ce=window.gsap)&&ce.registerPlugin&&ce},Jo=function(e){return!!~uy.indexOf(e)},pE=function(e){return(e==="Height"?dy:Be["inner"+e])||wi["client"+e]||it["client"+e]},mE=function(e){return Qs(e,"getBoundingClientRect")||(Jo(e)?function(){return af.width=Be.innerWidth,af.height=dy,af}:function(){return ss(e)})},wD=function(e,n,i){var s=i.d,a=i.d2,l=i.a;return(l=Qs(e,"getBoundingClientRect"))?function(){return l()[s]}:function(){return(n?pE(a):e["client"+a])||0}},TD=function(e,n){return!n||~Pr.indexOf(e)?mE(e):function(){return af}},Ir=function(e,n){var i=n.s,s=n.d2,a=n.d,l=n.a;return Math.max(0,(i="scroll"+s)&&(l=Qs(e,i))?l()-mE(e)()[a]:Jo(e)?(wi[i]||it[i])-pE(s):e[i]-e["offset"+s])},Od=function(e,n){for(var i=0;i<$a.length;i+=3)(!n||~n.indexOf($a[i+1]))&&e($a[i],$a[i+1],$a[i+2])},xi=function(e){return typeof e=="string"},In=function(e){return typeof e=="function"},Eu=function(e){return typeof e=="number"},Do=function(e){return typeof e=="object"},mu=function(e,n,i){return e&&e.progress(n?0:1)&&i&&e.pause()},Nm=function(e,n){if(e.enabled){var i=e._ctx?e._ctx.add(function(){return n(e)}):n(e);i&&i.totalTime&&(e.callbackAnimation=i)}},Ba=Math.abs,gE="left",yE="top",fy="right",hy="bottom",Fo="width",$o="height",qu="Right",Bu="Left",Gu="Top",zu="Bottom",en="padding",Xi="margin",pl="Width",py="Height",an="px",Wi=function(e){return Be.getComputedStyle(e)},ED=function(e){var n=Wi(e).position;e.style.position=n==="absolute"||n==="fixed"?n:"relative"},wx=function(e,n){for(var i in n)i in e||(e[i]=n[i]);return e},ss=function(e,n){var i=n&&Wi(e)[dg]!=="matrix(1, 0, 0, 1, 0, 0)"&&ce.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),s=e.getBoundingClientRect();return i&&i.progress(0).kill(),s},wf=function(e,n){var i=n.d2;return e["offset"+i]||e["client"+i]||0},vE=function(e){var n=[],i=e.labels,s=e.duration(),a;for(a in i)n.push(i[a]/s);return n},CD=function(e){return function(n){return ce.utils.snap(vE(e),n)}},my=function(e){var n=ce.utils.snap(e),i=Array.isArray(e)&&e.slice(0).sort(function(s,a){return s-a});return i?function(s,a,l){l===void 0&&(l=.001);var c;if(!a)return n(s);if(a>0){for(s-=l,c=0;c<i.length;c++)if(i[c]>=s)return i[c];return i[c-1]}else for(c=i.length,s+=l;c--;)if(i[c]<=s)return i[c];return i[0]}:function(s,a,l){l===void 0&&(l=.001);var c=n(s);return!a||Math.abs(c-s)<l||c-s<0==a<0?c:n(a<0?s-e:s+e)}},AD=function(e){return function(n,i){return my(vE(e))(n,i.direction)}},Ld=function(e,n,i,s){return i.split(",").forEach(function(a){return e(n,a,s)})},fn=function(e,n,i,s,a){return e.addEventListener(n,i,{passive:!s,capture:!!a})},dn=function(e,n,i,s){return e.removeEventListener(n,i,!!s)},qd=function(e,n,i){i=i&&i.wheelHandler,i&&(e(n,"wheel",i),e(n,"touchmove",i))},Tx={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Bd={toggleActions:"play",anticipatePin:0},Tf={top:0,left:0,center:.5,bottom:1,right:1},nf=function(e,n){if(xi(e)){var i=e.indexOf("="),s=~i?+(e.charAt(i-1)+1)*parseFloat(e.substr(i+1)):0;~i&&(e.indexOf("%")>i&&(s*=n/100),e=e.substr(0,i-1)),e=s+(e in Tf?Tf[e]*n:~e.indexOf("%")?parseFloat(e)*n/100:parseFloat(e)||0)}return e},Gd=function(e,n,i,s,a,l,c,f){var h=a.startColor,m=a.endColor,v=a.fontSize,b=a.indent,S=a.fontWeight,E=mt.createElement("div"),w=Jo(i)||Qs(i,"pinType")==="fixed",C=e.indexOf("scroller")!==-1,A=w?it:i,N=e.indexOf("start")!==-1,k=N?h:m,M="border-color:"+k+";font-size:"+v+";color:"+k+";font-weight:"+S+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return M+="position:"+((C||f)&&w?"fixed;":"absolute;"),(C||f||!w)&&(M+=(s===ln?fy:hy)+":"+(l+parseFloat(b))+"px;"),c&&(M+="box-sizing:border-box;text-align:left;width:"+c.offsetWidth+"px;"),E._isStart=N,E.setAttribute("class","gsap-marker-"+e+(n?" marker-"+n:"")),E.style.cssText=M,E.innerText=n||n===0?e+"-"+n:e,A.children[0]?A.insertBefore(E,A.children[0]):A.appendChild(E),E._offset=E["offset"+s.op.d2],rf(E,0,s,N),E},rf=function(e,n,i,s){var a={display:"block"},l=i[s?"os2":"p2"],c=i[s?"p2":"os2"];e._isFlipped=s,a[i.a+"Percent"]=s?-100:0,a[i.a]=s?"1px":0,a["border"+l+pl]=1,a["border"+c+pl]=0,a[i.p]=n+"px",ce.set(e,a)},Ue=[],mg={},rc,Ex=function(){return kn()-er>34&&(rc||(rc=requestAnimationFrame(ls)))},Ga=function(){(!Hn||!Hn.isPressed||Hn.startX>it.clientWidth)&&(Ge.cache++,Hn?rc||(rc=requestAnimationFrame(ls)):ls(),er||Ko("scrollStart"),er=kn())},km=function(){dE=Be.innerWidth,cE=Be.innerHeight},Cu=function(e){Ge.cache++,(e===!0||!Nn&&!uE&&!mt.fullscreenElement&&!mt.webkitFullscreenElement&&(!fg||dE!==Be.innerWidth||Math.abs(Be.innerHeight-cE)>Be.innerHeight*.25))&&Sf.restart(!0)},Yo={},RD=[],_E=function t(){return dn(Ve,"scrollEnd",t)||Bo(!0)},Ko=function(e){return Yo[e]&&Yo[e].map(function(n){return n()})||RD},bi=[],bE=function(e){for(var n=0;n<bi.length;n+=5)(!e||bi[n+4]&&bi[n+4].query===e)&&(bi[n].style.cssText=bi[n+1],bi[n].getBBox&&bi[n].setAttribute("transform",bi[n+2]||""),bi[n+3].uncache=1)},xE=function(){return Ge.forEach(function(e){return In(e)&&++e.cacheID&&(e.rec=e())})},gy=function(e,n){var i;for(Vn=0;Vn<Ue.length;Vn++)i=Ue[Vn],i&&(!n||i._ctx===n)&&(e?i.kill(1):i.revert(!0,!0));Lu=!0,n&&bE(n),n||Ko("revert")},SE=function(e,n){Ge.cache++,(n||!Fn)&&Ge.forEach(function(i){return In(i)&&i.cacheID++&&(i.rec=0)}),xi(e)&&(Be.history.scrollRestoration=cy=e)},Fn,jo=0,Cx,ND=function(){if(Cx!==jo){var e=Cx=jo;requestAnimationFrame(function(){return e===jo&&Bo(!0)})}},wE=function(){it.appendChild(rl),dy=!Hn&&rl.offsetHeight||Be.innerHeight,it.removeChild(rl)},Ax=function(e){return ic(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(n){return n.style.display=e?"none":"block"})},Bo=function(e,n){if(wi=mt.documentElement,it=mt.body,uy=[Be,mt,wi,it],er&&!e&&!Lu){fn(Ve,"scrollEnd",_E);return}wE(),Fn=Ve.isRefreshing=!0,Lu||xE();var i=Ko("refreshInit");lE&&Ve.sort(),n||gy(),Ge.forEach(function(s){In(s)&&(s.smooth&&(s.target.style.scrollBehavior="auto"),s(0))}),Ue.slice(0).forEach(function(s){return s.refresh()}),Lu=!1,Ue.forEach(function(s){if(s._subPinOffset&&s.pin){var a=s.vars.horizontal?"offsetWidth":"offsetHeight",l=s.pin[a];s.revert(!0,1),s.adjustPinSpacing(s.pin[a]-l),s.refresh()}}),pg=1,Ax(!0),Ue.forEach(function(s){var a=Ir(s.scroller,s._dir),l=s.vars.end==="max"||s._endClamp&&s.end>a,c=s._startClamp&&s.start>=a;(l||c)&&s.setPositions(c?a-1:s.start,l?Math.max(c?a:s.start+1,a):s.end,!0)}),Ax(!1),pg=0,i.forEach(function(s){return s&&s.render&&s.render(-1)}),Ge.forEach(function(s){In(s)&&(s.smooth&&requestAnimationFrame(function(){return s.target.style.scrollBehavior="smooth"}),s.rec&&s(s.rec))}),SE(cy,1),Sf.pause(),jo++,Fn=2,ls(2),Ue.forEach(function(s){return In(s.vars.onRefresh)&&s.vars.onRefresh(s)}),Fn=Ve.isRefreshing=!1,Ko("refresh")},gg=0,sf=1,Hu,ls=function(e){if(e===2||!Fn&&!Lu){Ve.isUpdating=!0,Hu&&Hu.update(0);var n=Ue.length,i=kn(),s=i-Rm>=50,a=n&&Ue[0].scroll();if(sf=gg>a?-1:1,Fn||(gg=a),s&&(er&&!zf&&i-er>200&&(er=0,Ko("scrollEnd")),Su=Rm,Rm=i),sf<0){for(Vn=n;Vn-- >0;)Ue[Vn]&&Ue[Vn].update(0,s);sf=1}else for(Vn=0;Vn<n;Vn++)Ue[Vn]&&Ue[Vn].update(0,s);Ve.isUpdating=!1}rc=0},yg=[gE,yE,hy,fy,Xi+zu,Xi+qu,Xi+Gu,Xi+Bu,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],of=yg.concat([Fo,$o,"boxSizing","max"+pl,"max"+py,"position",Xi,en,en+Gu,en+qu,en+zu,en+Bu]),kD=function(e,n,i){sl(i);var s=e._gsap;if(s.spacerIsNative)sl(s.spacerState);else if(e._gsap.swappedIn){var a=n.parentNode;a&&(a.insertBefore(e,n),a.removeChild(n))}e._gsap.swappedIn=!1},Mm=function(e,n,i,s){if(!e._gsap.swappedIn){for(var a=yg.length,l=n.style,c=e.style,f;a--;)f=yg[a],l[f]=i[f];l.position=i.position==="absolute"?"absolute":"relative",i.display==="inline"&&(l.display="inline-block"),c[hy]=c[fy]="auto",l.flexBasis=i.flexBasis||"auto",l.overflow="visible",l.boxSizing="border-box",l[Fo]=wf(e,jn)+an,l[$o]=wf(e,ln)+an,l[en]=c[Xi]=c[yE]=c[gE]="0",sl(s),c[Fo]=c["max"+pl]=i[Fo],c[$o]=c["max"+py]=i[$o],c[en]=i[en],e.parentNode!==n&&(e.parentNode.insertBefore(n,e),n.appendChild(e)),e._gsap.swappedIn=!0}},MD=/([A-Z])/g,sl=function(e){if(e){var n=e.t.style,i=e.length,s=0,a,l;for((e.t._gsap||ce.core.getCache(e.t)).uncache=1;s<i;s+=2)l=e[s+1],a=e[s],l?n[a]=l:n[a]&&n.removeProperty(a.replace(MD,"-$1").toLowerCase())}},zd=function(e){for(var n=of.length,i=e.style,s=[],a=0;a<n;a++)s.push(of[a],i[of[a]]);return s.t=e,s},ID=function(e,n,i){for(var s=[],a=e.length,l=i?8:0,c;l<a;l+=2)c=e[l],s.push(c,c in n?n[c]:e[l+1]);return s.t=e.t,s},af={left:0,top:0},Rx=function(e,n,i,s,a,l,c,f,h,m,v,b,S,E){In(e)&&(e=e(f)),xi(e)&&e.substr(0,3)==="max"&&(e=b+(e.charAt(4)==="="?nf("0"+e.substr(3),i):0));var w=S?S.time():0,C,A,N;if(S&&S.seek(0),isNaN(e)||(e=+e),Eu(e))S&&(e=ce.utils.mapRange(S.scrollTrigger.start,S.scrollTrigger.end,0,b,e)),c&&rf(c,i,s,!0);else{In(n)&&(n=n(f));var k=(e||"0").split(" "),M,U,z,I;N=ii(n,f)||it,M=ss(N)||{},(!M||!M.left&&!M.top)&&Wi(N).display==="none"&&(I=N.style.display,N.style.display="block",M=ss(N),I?N.style.display=I:N.style.removeProperty("display")),U=nf(k[0],M[s.d]),z=nf(k[1]||"0",i),e=M[s.p]-h[s.p]-m+U+a-z,c&&rf(c,z,s,i-z<20||c._isStart&&z>20),i-=i-z}if(E&&(f[E]=e||-.001,e<0&&(e=0)),l){var q=e+i,B=l._isStart;C="scroll"+s.d2,rf(l,q,s,B&&q>20||!B&&(v?Math.max(it[C],wi[C]):l.parentNode[C])<=q+1),v&&(h=ss(c),v&&(l.style[s.op.p]=h[s.op.p]-s.op.m-l._offset+an))}return S&&N&&(C=ss(N),S.seek(b),A=ss(N),S._caScrollDist=C[s.p]-A[s.p],e=e/S._caScrollDist*b),S&&S.seek(w),S?e:Math.round(e)},DD=/(webkit|moz|length|cssText|inset)/i,Nx=function(e,n,i,s){if(e.parentNode!==n){var a=e.style,l,c;if(n===it){e._stOrig=a.cssText,c=Wi(e);for(l in c)!+l&&!DD.test(l)&&c[l]&&typeof a[l]=="string"&&l!=="0"&&(a[l]=c[l]);a.top=i,a.left=s}else a.cssText=e._stOrig;ce.core.getCache(e).uncache=1,n.appendChild(e)}},TE=function(e,n,i){var s=n,a=s;return function(l){var c=Math.round(e());return c!==s&&c!==a&&Math.abs(c-s)>3&&Math.abs(c-a)>3&&(l=c,i&&i()),a=s,s=Math.round(l),s}},Hd=function(e,n,i){var s={};s[n.p]="+="+i,ce.set(e,s)},kx=function(e,n){var i=no(e,n),s="_scroll"+n.p2,a=function l(c,f,h,m,v){var b=l.tween,S=f.onComplete,E={};h=h||i();var w=TE(i,h,function(){b.kill(),l.tween=0});return v=m&&v||0,m=m||c-h,b&&b.kill(),f[s]=c,f.inherit=!1,f.modifiers=E,E[s]=function(){return w(h+m*b.ratio+v*b.ratio*b.ratio)},f.onUpdate=function(){Ge.cache++,l.tween&&ls()},f.onComplete=function(){l.tween=0,S&&S.call(b)},b=l.tween=ce.to(e,f),b};return e[s]=i,i.wheelHandler=function(){return a.tween&&a.tween.kill()&&(a.tween=0)},fn(e,"wheel",i.wheelHandler),Ve.isTouch&&fn(e,"touchmove",i.wheelHandler),a},Ve=(function(){function t(n,i){Fa||t.register(ce)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),hg(this),this.init(n,i)}var e=t.prototype;return e.init=function(i,s){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!wu){this.update=this.refresh=this.kill=Nr;return}i=wx(xi(i)||Eu(i)||i.nodeType?{trigger:i}:i,Bd);var a=i,l=a.onUpdate,c=a.toggleClass,f=a.id,h=a.onToggle,m=a.onRefresh,v=a.scrub,b=a.trigger,S=a.pin,E=a.pinSpacing,w=a.invalidateOnRefresh,C=a.anticipatePin,A=a.onScrubComplete,N=a.onSnapComplete,k=a.once,M=a.snap,U=a.pinReparent,z=a.pinSpacer,I=a.containerAnimation,q=a.fastScrollEnd,B=a.preventOverlaps,J=i.horizontal||i.containerAnimation&&i.horizontal!==!1?jn:ln,te=!v&&v!==0,Z=ii(i.scroller||Be),ie=ce.core.getCache(Z),de=Jo(Z),be=("pinType"in i?i.pinType:Qs(Z,"pinType")||de&&"fixed")==="fixed",V=[i.onEnter,i.onLeave,i.onEnterBack,i.onLeaveBack],X=te&&i.toggleActions.split(" "),re="markers"in i?i.markers:Bd.markers,ve=de?0:parseFloat(Wi(Z)["border"+J.p2+pl])||0,G=this,P=i.onRefreshInit&&function(){return i.onRefreshInit(G)},W=wD(Z,de,J),se=TD(Z,de),oe=0,he=0,_e=0,xe=no(Z,J),et,Oe,Yn,jt,nn,Fe,rt,un,mn,K,Tn,ui,Ii,ht,ir,vr,Gt,Jt,rr,bt,En,Kn,Di,so,Pt,_r,Ct,Un,Yt,br,Lr,De,Pi,Cn,An,rn,Ui,Oi,sr;if(G._startClamp=G._endClamp=!1,G._dir=J,C*=45,G.scroller=Z,G.scroll=I?I.time.bind(I):xe,jt=xe(),G.vars=i,s=s||i.animation,"refreshPriority"in i&&(lE=1,i.refreshPriority===-9999&&(Hu=G)),ie.tweenScroll=ie.tweenScroll||{top:kx(Z,ln),left:kx(Z,jn)},G.tweenTo=et=ie.tweenScroll[J.p],G.scrubDuration=function(ae){Pi=Eu(ae)&&ae,Pi?De?De.duration(ae):De=ce.to(s,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Pi,paused:!0,onComplete:function(){return A&&A(G)}}):(De&&De.progress(1).kill(),De=0)},s&&(s.vars.lazy=!1,s._initted&&!G.isReverted||s.vars.immediateRender!==!1&&i.immediateRender!==!1&&s.duration()&&s.render(0,!0,!0),G.animation=s.pause(),s.scrollTrigger=G,G.scrubDuration(v),br=0,f||(f=s.vars.id)),M&&((!Do(M)||M.push)&&(M={snapTo:M}),"scrollBehavior"in it.style&&ce.set(de?[it,wi]:Z,{scrollBehavior:"auto"}),Ge.forEach(function(ae){return In(ae)&&ae.target===(de?mt.scrollingElement||wi:Z)&&(ae.smooth=!1)}),Yn=In(M.snapTo)?M.snapTo:M.snapTo==="labels"?CD(s):M.snapTo==="labelsDirectional"?AD(s):M.directional!==!1?function(ae,Ae){return my(M.snapTo)(ae,kn()-he<500?0:Ae.direction)}:ce.utils.snap(M.snapTo),Cn=M.duration||{min:.1,max:2},Cn=Do(Cn)?Ou(Cn.min,Cn.max):Ou(Cn,Cn),An=ce.delayedCall(M.delay||Pi/2||.1,function(){var ae=xe(),Ae=kn()-he<500,ge=et.tween;if((Ae||Math.abs(G.getVelocity())<10)&&!ge&&!zf&&oe!==ae){var Ee=(ae-Fe)/ht,Ut=s&&!te?s.totalProgress():Ee,Le=Ae?0:(Ut-Lr)/(kn()-Su)*1e3||0,xt=ce.utils.clamp(-Ee,1-Ee,Ba(Le/2)*Le/.185),gt=Ee+(M.inertia===!1?0:xt),Ie,Pe,Ke=M,On=Ke.onStart,yt=Ke.onInterrupt,Ln=Ke.onComplete;if(Ie=Yn(gt,G),Eu(Ie)||(Ie=gt),Pe=Math.max(0,Math.round(Fe+Ie*ht)),ae<=rt&&ae>=Fe&&Pe!==ae){if(ge&&!ge._initted&&ge.data<=Ba(Pe-ae))return;M.inertia===!1&&(xt=Ie-Ee),et(Pe,{duration:Cn(Ba(Math.max(Ba(gt-Ut),Ba(Ie-Ut))*.185/Le/.05||0)),ease:M.ease||"power3",data:Ba(Pe-ae),onInterrupt:function(){return An.restart(!0)&&yt&&yt(G)},onComplete:function(){G.update(),oe=xe(),s&&!te&&(De?De.resetTo("totalProgress",Ie,s._tTime/s._tDur):s.progress(Ie)),br=Lr=s&&!te?s.totalProgress():G.progress,N&&N(G),Ln&&Ln(G)}},ae,xt*ht,Pe-ae-xt*ht),On&&On(G,et.tween)}}else G.isActive&&oe!==ae&&An.restart(!0)}).pause()),f&&(mg[f]=G),b=G.trigger=ii(b||S!==!0&&S),sr=b&&b._gsap&&b._gsap.stRevert,sr&&(sr=sr(G)),S=S===!0?b:ii(S),xi(c)&&(c={targets:b,className:c}),S&&(E===!1||E===Xi||(E=!E&&S.parentNode&&S.parentNode.style&&Wi(S.parentNode).display==="flex"?!1:en),G.pin=S,Oe=ce.core.getCache(S),Oe.spacer?ir=Oe.pinState:(z&&(z=ii(z),z&&!z.nodeType&&(z=z.current||z.nativeElement),Oe.spacerIsNative=!!z,z&&(Oe.spacerState=zd(z))),Oe.spacer=Jt=z||mt.createElement("div"),Jt.classList.add("pin-spacer"),f&&Jt.classList.add("pin-spacer-"+f),Oe.pinState=ir=zd(S)),i.force3D!==!1&&ce.set(S,{force3D:!0}),G.spacer=Jt=Oe.spacer,Yt=Wi(S),so=Yt[E+J.os2],bt=ce.getProperty(S),En=ce.quickSetter(S,J.a,an),Mm(S,Jt,Yt),Gt=zd(S)),re){ui=Do(re)?wx(re,Tx):Tx,K=Gd("scroller-start",f,Z,J,ui,0),Tn=Gd("scroller-end",f,Z,J,ui,0,K),rr=K["offset"+J.op.d2];var gs=ii(Qs(Z,"content")||Z);un=this.markerStart=Gd("start",f,gs,J,ui,rr,0,I),mn=this.markerEnd=Gd("end",f,gs,J,ui,rr,0,I),I&&(Oi=ce.quickSetter([un,mn],J.a,an)),!be&&!(Pr.length&&Qs(Z,"fixedMarkers")===!0)&&(ED(de?it:Z),ce.set([K,Tn],{force3D:!0}),_r=ce.quickSetter(K,J.a,an),Un=ce.quickSetter(Tn,J.a,an))}if(I){var Ce=I.vars.onUpdate,me=I.vars.onUpdateParams;I.eventCallback("onUpdate",function(){G.update(0,0,1),Ce&&Ce.apply(I,me||[])})}if(G.previous=function(){return Ue[Ue.indexOf(G)-1]},G.next=function(){return Ue[Ue.indexOf(G)+1]},G.revert=function(ae,Ae){if(!Ae)return G.kill(!0);var ge=ae!==!1||!G.enabled,Ee=Nn;ge!==G.isReverted&&(ge&&(rn=Math.max(xe(),G.scroll.rec||0),_e=G.progress,Ui=s&&s.progress()),un&&[un,mn,K,Tn].forEach(function(Ut){return Ut.style.display=ge?"none":"block"}),ge&&(Nn=G,G.update(ge)),S&&(!U||!G.isActive)&&(ge?kD(S,Jt,ir):Mm(S,Jt,Wi(S),Pt)),ge||G.update(ge),Nn=Ee,G.isReverted=ge)},G.refresh=function(ae,Ae,ge,Ee){if(!((Nn||!G.enabled)&&!Ae)){if(S&&ae&&er){fn(t,"scrollEnd",_E);return}!Fn&&P&&P(G),Nn=G,et.tween&&!ge&&(et.tween.kill(),et.tween=0),De&&De.pause(),w&&s&&(s.revert({kill:!1}).invalidate(),s.getChildren?s.getChildren(!0,!0,!1).forEach(function(wr){return wr.vars.immediateRender&&wr.render(0,!0,!0)}):s.vars.immediateRender&&s.render(0,!0,!0)),G.isReverted||G.revert(!0,!0),G._subPinOffset=!1;var Ut=W(),Le=se(),xt=I?I.duration():Ir(Z,J),gt=ht<=.01||!ht,Ie=0,Pe=Ee||0,Ke=Do(ge)?ge.end:i.end,On=i.endTrigger||b,yt=Do(ge)?ge.start:i.start||(i.start===0||!b?0:S?"0 0":"0 100%"),Ln=G.pinnedContainer=i.pinnedContainer&&ii(i.pinnedContainer,G),ci=b&&Math.max(0,Ue.indexOf(G))||0,At=ci,zt,Rt,Xn,xr,Nt,qe,di,Qo,Sr,Li,qi,ys,oo;for(re&&Do(ge)&&(ys=ce.getProperty(K,J.p),oo=ce.getProperty(Tn,J.p));At-- >0;)qe=Ue[At],qe.end||qe.refresh(0,1)||(Nn=G),di=qe.pin,di&&(di===b||di===S||di===Ln)&&!qe.isReverted&&(Li||(Li=[]),Li.unshift(qe),qe.revert(!0,!0)),qe!==Ue[At]&&(ci--,At--);for(In(yt)&&(yt=yt(G)),yt=_x(yt,"start",G),Fe=Rx(yt,b,Ut,J,xe(),un,K,G,Le,ve,be,xt,I,G._startClamp&&"_startClamp")||(S?-.001:0),In(Ke)&&(Ke=Ke(G)),xi(Ke)&&!Ke.indexOf("+=")&&(~Ke.indexOf(" ")?Ke=(xi(yt)?yt.split(" ")[0]:"")+Ke:(Ie=nf(Ke.substr(2),Ut),Ke=xi(yt)?yt:(I?ce.utils.mapRange(0,I.duration(),I.scrollTrigger.start,I.scrollTrigger.end,Fe):Fe)+Ie,On=b)),Ke=_x(Ke,"end",G),rt=Math.max(Fe,Rx(Ke||(On?"100% 0":xt),On,Ut,J,xe()+Ie,mn,Tn,G,Le,ve,be,xt,I,G._endClamp&&"_endClamp"))||-.001,Ie=0,At=ci;At--;)qe=Ue[At]||{},di=qe.pin,di&&qe.start-qe._pinPush<=Fe&&!I&&qe.end>0&&(zt=qe.end-(G._startClamp?Math.max(0,qe.start):qe.start),(di===b&&qe.start-qe._pinPush<Fe||di===Ln)&&isNaN(yt)&&(Ie+=zt*(1-qe.progress)),di===S&&(Pe+=zt));if(Fe+=Ie,rt+=Ie,G._startClamp&&(G._startClamp+=Ie),G._endClamp&&!Fn&&(G._endClamp=rt||-.001,rt=Math.min(rt,Ir(Z,J))),ht=rt-Fe||(Fe-=.01)&&.001,gt&&(_e=ce.utils.clamp(0,1,ce.utils.normalize(Fe,rt,rn))),G._pinPush=Pe,un&&Ie&&(zt={},zt[J.a]="+="+Ie,Ln&&(zt[J.p]="-="+xe()),ce.set([un,mn],zt)),S&&!(pg&&G.end>=Ir(Z,J)))zt=Wi(S),xr=J===ln,Xn=xe(),Kn=parseFloat(bt(J.a))+Pe,!xt&&rt>1&&(qi=(de?mt.scrollingElement||wi:Z).style,qi={style:qi,value:qi["overflow"+J.a.toUpperCase()]},de&&Wi(it)["overflow"+J.a.toUpperCase()]!=="scroll"&&(qi.style["overflow"+J.a.toUpperCase()]="scroll")),Mm(S,Jt,zt),Gt=zd(S),Rt=ss(S,!0),Qo=be&&no(Z,xr?jn:ln)(),E?(Pt=[E+J.os2,ht+Pe+an],Pt.t=Jt,At=E===en?wf(S,J)+ht+Pe:0,At&&(Pt.push(J.d,At+an),Jt.style.flexBasis!=="auto"&&(Jt.style.flexBasis=At+an)),sl(Pt),Ln&&Ue.forEach(function(wr){wr.pin===Ln&&wr.vars.pinSpacing!==!1&&(wr._subPinOffset=!0)}),be&&xe(rn)):(At=wf(S,J),At&&Jt.style.flexBasis!=="auto"&&(Jt.style.flexBasis=At+an)),be&&(Nt={top:Rt.top+(xr?Xn-Fe:Qo)+an,left:Rt.left+(xr?Qo:Xn-Fe)+an,boxSizing:"border-box",position:"fixed"},Nt[Fo]=Nt["max"+pl]=Math.ceil(Rt.width)+an,Nt[$o]=Nt["max"+py]=Math.ceil(Rt.height)+an,Nt[Xi]=Nt[Xi+Gu]=Nt[Xi+qu]=Nt[Xi+zu]=Nt[Xi+Bu]="0",Nt[en]=zt[en],Nt[en+Gu]=zt[en+Gu],Nt[en+qu]=zt[en+qu],Nt[en+zu]=zt[en+zu],Nt[en+Bu]=zt[en+Bu],vr=ID(ir,Nt,U),Fn&&xe(0)),s?(Sr=s._initted,Cm(1),s.render(s.duration(),!0,!0),Di=bt(J.a)-Kn+ht+Pe,Ct=Math.abs(ht-Di)>1,be&&Ct&&vr.splice(vr.length-2,2),s.render(0,!0,!0),Sr||s.invalidate(!0),s.parent||s.totalTime(s.totalTime()),Cm(0)):Di=ht,qi&&(qi.value?qi.style["overflow"+J.a.toUpperCase()]=qi.value:qi.style.removeProperty("overflow-"+J.a));else if(b&&xe()&&!I)for(Rt=b.parentNode;Rt&&Rt!==it;)Rt._pinOffset&&(Fe-=Rt._pinOffset,rt-=Rt._pinOffset),Rt=Rt.parentNode;Li&&Li.forEach(function(wr){return wr.revert(!1,!0)}),G.start=Fe,G.end=rt,jt=nn=Fn?rn:xe(),!I&&!Fn&&(jt<rn&&xe(rn),G.scroll.rec=0),G.revert(!1,!0),he=kn(),An&&(oe=-1,An.restart(!0)),Nn=0,s&&te&&(s._initted||Ui)&&s.progress()!==Ui&&s.progress(Ui||0,!0).render(s.time(),!0,!0),(gt||_e!==G.progress||I||w||s&&!s._initted)&&(s&&!te&&(s._initted||_e||s.vars.immediateRender!==!1)&&s.totalProgress(I&&Fe<-.001&&!_e?ce.utils.normalize(Fe,rt,0):_e,!0),G.progress=gt||(jt-Fe)/ht===_e?0:_e),S&&E&&(Jt._pinOffset=Math.round(G.progress*Di)),De&&De.invalidate(),isNaN(ys)||(ys-=ce.getProperty(K,J.p),oo-=ce.getProperty(Tn,J.p),Hd(K,J,ys),Hd(un,J,ys-(Ee||0)),Hd(Tn,J,oo),Hd(mn,J,oo-(Ee||0))),gt&&!Fn&&G.update(),m&&!Fn&&!Ii&&(Ii=!0,m(G),Ii=!1)}},G.getVelocity=function(){return(xe()-nn)/(kn()-Su)*1e3||0},G.endAnimation=function(){mu(G.callbackAnimation),s&&(De?De.progress(1):s.paused()?te||mu(s,G.direction<0,1):mu(s,s.reversed()))},G.labelToScroll=function(ae){return s&&s.labels&&(Fe||G.refresh()||Fe)+s.labels[ae]/s.duration()*ht||0},G.getTrailing=function(ae){var Ae=Ue.indexOf(G),ge=G.direction>0?Ue.slice(0,Ae).reverse():Ue.slice(Ae+1);return(xi(ae)?ge.filter(function(Ee){return Ee.vars.preventOverlaps===ae}):ge).filter(function(Ee){return G.direction>0?Ee.end<=Fe:Ee.start>=rt})},G.update=function(ae,Ae,ge){if(!(I&&!ge&&!ae)){var Ee=Fn===!0?rn:G.scroll(),Ut=ae?0:(Ee-Fe)/ht,Le=Ut<0?0:Ut>1?1:Ut||0,xt=G.progress,gt,Ie,Pe,Ke,On,yt,Ln,ci;if(Ae&&(nn=jt,jt=I?xe():Ee,M&&(Lr=br,br=s&&!te?s.totalProgress():Le)),C&&S&&!Nn&&!Ud&&er&&(!Le&&Fe<Ee+(Ee-nn)/(kn()-Su)*C?Le=1e-4:Le===1&&rt>Ee+(Ee-nn)/(kn()-Su)*C&&(Le=.9999)),Le!==xt&&G.enabled){if(gt=G.isActive=!!Le&&Le<1,Ie=!!xt&&xt<1,yt=gt!==Ie,On=yt||!!Le!=!!xt,G.direction=Le>xt?1:-1,G.progress=Le,On&&!Nn&&(Pe=Le&&!xt?0:Le===1?1:xt===1?2:3,te&&(Ke=!yt&&X[Pe+1]!=="none"&&X[Pe+1]||X[Pe],ci=s&&(Ke==="complete"||Ke==="reset"||Ke in s))),B&&(yt||ci)&&(ci||v||!s)&&(In(B)?B(G):G.getTrailing(B).forEach(function(Xn){return Xn.endAnimation()})),te||(De&&!Nn&&!Ud?(De._dp._time-De._start!==De._time&&De.render(De._dp._time-De._start),De.resetTo?De.resetTo("totalProgress",Le,s._tTime/s._tDur):(De.vars.totalProgress=Le,De.invalidate().restart())):s&&s.totalProgress(Le,!!(Nn&&(he||ae)))),S){if(ae&&E&&(Jt.style[E+J.os2]=so),!be)En(Tu(Kn+Di*Le));else if(On){if(Ln=!ae&&Le>xt&&rt+1>Ee&&Ee+1>=Ir(Z,J),U)if(!ae&&(gt||Ln)){var At=ss(S,!0),zt=Ee-Fe;Nx(S,it,At.top+(J===ln?zt:0)+an,At.left+(J===ln?0:zt)+an)}else Nx(S,Jt);sl(gt||Ln?vr:Gt),Ct&&Le<1&&gt||En(Kn+(Le===1&&!Ln?Di:0))}}M&&!et.tween&&!Nn&&!Ud&&An.restart(!0),c&&(yt||k&&Le&&(Le<1||!Am))&&ic(c.targets).forEach(function(Xn){return Xn.classList[gt||k?"add":"remove"](c.className)}),l&&!te&&!ae&&l(G),On&&!Nn?(te&&(ci&&(Ke==="complete"?s.pause().totalProgress(1):Ke==="reset"?s.restart(!0).pause():Ke==="restart"?s.restart(!0):s[Ke]()),l&&l(G)),(yt||!Am)&&(h&&yt&&Nm(G,h),V[Pe]&&Nm(G,V[Pe]),k&&(Le===1?G.kill(!1,1):V[Pe]=0),yt||(Pe=Le===1?1:3,V[Pe]&&Nm(G,V[Pe]))),q&&!gt&&Math.abs(G.getVelocity())>(Eu(q)?q:2500)&&(mu(G.callbackAnimation),De?De.progress(1):mu(s,Ke==="reverse"?1:!Le,1))):te&&l&&!Nn&&l(G)}if(Un){var Rt=I?Ee/I.duration()*(I._caScrollDist||0):Ee;_r(Rt+(K._isFlipped?1:0)),Un(Rt)}Oi&&Oi(-Ee/I.duration()*(I._caScrollDist||0))}},G.enable=function(ae,Ae){G.enabled||(G.enabled=!0,fn(Z,"resize",Cu),de||fn(Z,"scroll",Ga),P&&fn(t,"refreshInit",P),ae!==!1&&(G.progress=_e=0,jt=nn=oe=xe()),Ae!==!1&&G.refresh())},G.getTween=function(ae){return ae&&et?et.tween:De},G.setPositions=function(ae,Ae,ge,Ee){if(I){var Ut=I.scrollTrigger,Le=I.duration(),xt=Ut.end-Ut.start;ae=Ut.start+xt*ae/Le,Ae=Ut.start+xt*Ae/Le}G.refresh(!1,!1,{start:bx(ae,ge&&!!G._startClamp),end:bx(Ae,ge&&!!G._endClamp)},Ee),G.update()},G.adjustPinSpacing=function(ae){if(Pt&&ae){var Ae=Pt.indexOf(J.d)+1;Pt[Ae]=parseFloat(Pt[Ae])+ae+an,Pt[1]=parseFloat(Pt[1])+ae+an,sl(Pt)}},G.disable=function(ae,Ae){if(ae!==!1&&G.revert(!0,!0),G.enabled&&(G.enabled=G.isActive=!1,Ae||De&&De.pause(),rn=0,Oe&&(Oe.uncache=1),P&&dn(t,"refreshInit",P),An&&(An.pause(),et.tween&&et.tween.kill()&&(et.tween=0)),!de)){for(var ge=Ue.length;ge--;)if(Ue[ge].scroller===Z&&Ue[ge]!==G)return;dn(Z,"resize",Cu),de||dn(Z,"scroll",Ga)}},G.kill=function(ae,Ae){G.disable(ae,Ae),De&&!Ae&&De.kill(),f&&delete mg[f];var ge=Ue.indexOf(G);ge>=0&&Ue.splice(ge,1),ge===Vn&&sf>0&&Vn--,ge=0,Ue.forEach(function(Ee){return Ee.scroller===G.scroller&&(ge=1)}),ge||Fn||(G.scroll.rec=0),s&&(s.scrollTrigger=null,ae&&s.revert({kill:!1}),Ae||s.kill()),un&&[un,mn,K,Tn].forEach(function(Ee){return Ee.parentNode&&Ee.parentNode.removeChild(Ee)}),Hu===G&&(Hu=0),S&&(Oe&&(Oe.uncache=1),ge=0,Ue.forEach(function(Ee){return Ee.pin===S&&ge++}),ge||(Oe.spacer=0)),i.onKill&&i.onKill(G)},Ue.push(G),G.enable(!1,!1),sr&&sr(G),s&&s.add&&!ht){var Xe=G.update;G.update=function(){G.update=Xe,Ge.cache++,Fe||rt||G.refresh()},ce.delayedCall(.01,G.update),ht=.01,Fe=rt=0}else G.refresh();S&&ND()},t.register=function(i){return Fa||(ce=i||hE(),fE()&&window.document&&t.enable(),Fa=wu),Fa},t.defaults=function(i){if(i)for(var s in i)Bd[s]=i[s];return Bd},t.disable=function(i,s){wu=0,Ue.forEach(function(l){return l[s?"kill":"disable"](i)}),dn(Be,"wheel",Ga),dn(mt,"scroll",Ga),clearInterval(Pd),dn(mt,"touchcancel",Nr),dn(it,"touchstart",Nr),Ld(dn,mt,"pointerdown,touchstart,mousedown",xx),Ld(dn,mt,"pointerup,touchend,mouseup",Sx),Sf.kill(),Od(dn);for(var a=0;a<Ge.length;a+=3)qd(dn,Ge[a],Ge[a+1]),qd(dn,Ge[a],Ge[a+2])},t.enable=function(){if(Be=window,mt=document,wi=mt.documentElement,it=mt.body,ce&&(ic=ce.utils.toArray,Ou=ce.utils.clamp,hg=ce.core.context||Nr,Cm=ce.core.suppressOverwrites||Nr,cy=Be.history.scrollRestoration||"auto",gg=Be.pageYOffset||0,ce.core.globals("ScrollTrigger",t),it)){wu=1,rl=document.createElement("div"),rl.style.height="100vh",rl.style.position="absolute",wE(),SD(),$t.register(ce),t.isTouch=$t.isTouch,zs=$t.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),fg=$t.isTouch===1,fn(Be,"wheel",Ga),uy=[Be,mt,wi,it],ce.matchMedia?(t.matchMedia=function(h){var m=ce.matchMedia(),v;for(v in h)m.add(v,h[v]);return m},ce.addEventListener("matchMediaInit",function(){xE(),gy()}),ce.addEventListener("matchMediaRevert",function(){return bE()}),ce.addEventListener("matchMedia",function(){Bo(0,1),Ko("matchMedia")}),ce.matchMedia().add("(orientation: portrait)",function(){return km(),km})):console.warn("Requires GSAP 3.11.0 or later"),km(),fn(mt,"scroll",Ga);var i=it.hasAttribute("style"),s=it.style,a=s.borderTopStyle,l=ce.core.Animation.prototype,c,f;for(l.revert||Object.defineProperty(l,"revert",{value:function(){return this.time(-.01,!0)}}),s.borderTopStyle="solid",c=ss(it),ln.m=Math.round(c.top+ln.sc())||0,jn.m=Math.round(c.left+jn.sc())||0,a?s.borderTopStyle=a:s.removeProperty("border-top-style"),i||(it.setAttribute("style",""),it.removeAttribute("style")),Pd=setInterval(Ex,250),ce.delayedCall(.5,function(){return Ud=0}),fn(mt,"touchcancel",Nr),fn(it,"touchstart",Nr),Ld(fn,mt,"pointerdown,touchstart,mousedown",xx),Ld(fn,mt,"pointerup,touchend,mouseup",Sx),dg=ce.utils.checkPrefix("transform"),of.push(dg),Fa=kn(),Sf=ce.delayedCall(.2,Bo).pause(),$a=[mt,"visibilitychange",function(){var h=Be.innerWidth,m=Be.innerHeight;mt.hidden?(yx=h,vx=m):(yx!==h||vx!==m)&&Cu()},mt,"DOMContentLoaded",Bo,Be,"load",Bo,Be,"resize",Cu],Od(fn),Ue.forEach(function(h){return h.enable(0,1)}),f=0;f<Ge.length;f+=3)qd(dn,Ge[f],Ge[f+1]),qd(dn,Ge[f],Ge[f+2])}},t.config=function(i){"limitCallbacks"in i&&(Am=!!i.limitCallbacks);var s=i.syncInterval;s&&clearInterval(Pd)||(Pd=s)&&setInterval(Ex,s),"ignoreMobileResize"in i&&(fg=t.isTouch===1&&i.ignoreMobileResize),"autoRefreshEvents"in i&&(Od(dn)||Od(fn,i.autoRefreshEvents||"none"),uE=(i.autoRefreshEvents+"").indexOf("resize")===-1)},t.scrollerProxy=function(i,s){var a=ii(i),l=Ge.indexOf(a),c=Jo(a);~l&&Ge.splice(l,c?6:2),s&&(c?Pr.unshift(Be,s,it,s,wi,s):Pr.unshift(a,s))},t.clearMatchMedia=function(i){Ue.forEach(function(s){return s._ctx&&s._ctx.query===i&&s._ctx.kill(!0,!0)})},t.isInViewport=function(i,s,a){var l=(xi(i)?ii(i):i).getBoundingClientRect(),c=l[a?Fo:$o]*s||0;return a?l.right-c>0&&l.left+c<Be.innerWidth:l.bottom-c>0&&l.top+c<Be.innerHeight},t.positionInViewport=function(i,s,a){xi(i)&&(i=ii(i));var l=i.getBoundingClientRect(),c=l[a?Fo:$o],f=s==null?c/2:s in Tf?Tf[s]*c:~s.indexOf("%")?parseFloat(s)*c/100:parseFloat(s)||0;return a?(l.left+f)/Be.innerWidth:(l.top+f)/Be.innerHeight},t.killAll=function(i){if(Ue.slice(0).forEach(function(a){return a.vars.id!=="ScrollSmoother"&&a.kill()}),i!==!0){var s=Yo.killAll||[];Yo={},s.forEach(function(a){return a()})}},t})();Ve.version="3.14.2";Ve.saveStyles=function(t){return t?ic(t).forEach(function(e){if(e&&e.style){var n=bi.indexOf(e);n>=0&&bi.splice(n,5),bi.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),ce.core.getCache(e),hg())}}):bi};Ve.revert=function(t,e){return gy(!t,e)};Ve.create=function(t,e){return new Ve(t,e)};Ve.refresh=function(t){return t?Cu(!0):(Fa||Ve.register())&&Bo(!0)};Ve.update=function(t){return++Ge.cache&&ls(t===!0?2:0)};Ve.clearScrollMemory=SE;Ve.maxScroll=function(t,e){return Ir(t,e?jn:ln)};Ve.getScrollFunc=function(t,e){return no(ii(t),e?jn:ln)};Ve.getById=function(t){return mg[t]};Ve.getAll=function(){return Ue.filter(function(t){return t.vars.id!=="ScrollSmoother"})};Ve.isScrolling=function(){return!!er};Ve.snapDirectional=my;Ve.addEventListener=function(t,e){var n=Yo[t]||(Yo[t]=[]);~n.indexOf(e)||n.push(e)};Ve.removeEventListener=function(t,e){var n=Yo[t],i=n&&n.indexOf(e);i>=0&&n.splice(i,1)};Ve.batch=function(t,e){var n=[],i={},s=e.interval||.016,a=e.batchMax||1e9,l=function(h,m){var v=[],b=[],S=ce.delayedCall(s,function(){m(v,b),v=[],b=[]}).pause();return function(E){v.length||S.restart(!0),v.push(E.trigger),b.push(E),a<=v.length&&S.progress(1)}},c;for(c in e)i[c]=c.substr(0,2)==="on"&&In(e[c])&&c!=="onRefreshInit"?l(c,e[c]):e[c];return In(a)&&(a=a(),fn(Ve,"refresh",function(){return a=e.batchMax()})),ic(t).forEach(function(f){var h={};for(c in i)h[c]=i[c];h.trigger=f,n.push(Ve.create(h))}),n};var Mx=function(e,n,i,s){return n>s?e(s):n<0&&e(0),i>s?(s-n)/(i-n):i<0?n/(n-i):1},Im=function t(e,n){n===!0?e.style.removeProperty("touch-action"):e.style.touchAction=n===!0?"auto":n?"pan-"+n+($t.isTouch?" pinch-zoom":""):"none",e===wi&&t(it,n)},Vd={auto:1,scroll:1},PD=function(e){var n=e.event,i=e.target,s=e.axis,a=(n.changedTouches?n.changedTouches[0]:n).target,l=a._gsap||ce.core.getCache(a),c=kn(),f;if(!l._isScrollT||c-l._isScrollT>2e3){for(;a&&a!==it&&(a.scrollHeight<=a.clientHeight&&a.scrollWidth<=a.clientWidth||!(Vd[(f=Wi(a)).overflowY]||Vd[f.overflowX]));)a=a.parentNode;l._isScroll=a&&a!==i&&!Jo(a)&&(Vd[(f=Wi(a)).overflowY]||Vd[f.overflowX]),l._isScrollT=c}(l._isScroll||s==="x")&&(n.stopPropagation(),n._gsapAllow=!0)},EE=function(e,n,i,s){return $t.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:n,onWheel:s=s&&PD,onPress:s,onDrag:s,onScroll:s,onEnable:function(){return i&&fn(mt,$t.eventTypes[0],Dx,!1,!0)},onDisable:function(){return dn(mt,$t.eventTypes[0],Dx,!0)}})},UD=/(input|label|select|textarea)/i,Ix,Dx=function(e){var n=UD.test(e.target.tagName);(n||Ix)&&(e._gsapAllow=!0,Ix=n)},OD=function(e){Do(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var n=e,i=n.normalizeScrollX,s=n.momentum,a=n.allowNestedScroll,l=n.onRelease,c,f,h=ii(e.target)||wi,m=ce.core.globals().ScrollSmoother,v=m&&m.get(),b=zs&&(e.content&&ii(e.content)||v&&e.content!==!1&&!v.smooth()&&v.content()),S=no(h,ln),E=no(h,jn),w=1,C=($t.isTouch&&Be.visualViewport?Be.visualViewport.scale*Be.visualViewport.width:Be.outerWidth)/Be.innerWidth,A=0,N=In(s)?function(){return s(c)}:function(){return s||2.8},k,M,U=EE(h,e.type,!0,a),z=function(){return M=!1},I=Nr,q=Nr,B=function(){f=Ir(h,ln),q=Ou(zs?1:0,f),i&&(I=Ou(0,Ir(h,jn))),k=jo},J=function(){b._gsap.y=Tu(parseFloat(b._gsap.y)+S.offset)+"px",b.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(b._gsap.y)+", 0, 1)",S.offset=S.cacheID=0},te=function(){if(M){requestAnimationFrame(z);var re=Tu(c.deltaY/2),ve=q(S.v-re);if(b&&ve!==S.v+S.offset){S.offset=ve-S.v;var G=Tu((parseFloat(b&&b._gsap.y)||0)-S.offset);b.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+G+", 0, 1)",b._gsap.y=G+"px",S.cacheID=Ge.cache,ls()}return!0}S.offset&&J(),M=!0},Z,ie,de,be,V=function(){B(),Z.isActive()&&Z.vars.scrollY>f&&(S()>f?Z.progress(1)&&S(f):Z.resetTo("scrollY",f))};return b&&ce.set(b,{y:"+=0"}),e.ignoreCheck=function(X){return zs&&X.type==="touchmove"&&te()||w>1.05&&X.type!=="touchstart"||c.isGesturing||X.touches&&X.touches.length>1},e.onPress=function(){M=!1;var X=w;w=Tu((Be.visualViewport&&Be.visualViewport.scale||1)/C),Z.pause(),X!==w&&Im(h,w>1.01?!0:i?!1:"x"),ie=E(),de=S(),B(),k=jo},e.onRelease=e.onGestureStart=function(X,re){if(S.offset&&J(),!re)be.restart(!0);else{Ge.cache++;var ve=N(),G,P;i&&(G=E(),P=G+ve*.05*-X.velocityX/.227,ve*=Mx(E,G,P,Ir(h,jn)),Z.vars.scrollX=I(P)),G=S(),P=G+ve*.05*-X.velocityY/.227,ve*=Mx(S,G,P,Ir(h,ln)),Z.vars.scrollY=q(P),Z.invalidate().duration(ve).play(.01),(zs&&Z.vars.scrollY>=f||G>=f-1)&&ce.to({},{onUpdate:V,duration:ve})}l&&l(X)},e.onWheel=function(){Z._ts&&Z.pause(),kn()-A>1e3&&(k=0,A=kn())},e.onChange=function(X,re,ve,G,P){if(jo!==k&&B(),re&&i&&E(I(G[2]===re?ie+(X.startX-X.x):E()+re-G[1])),ve){S.offset&&J();var W=P[2]===ve,se=W?de+X.startY-X.y:S()+ve-P[1],oe=q(se);W&&se!==oe&&(de+=oe-se),S(oe)}(ve||re)&&ls()},e.onEnable=function(){Im(h,i?!1:"x"),Ve.addEventListener("refresh",V),fn(Be,"resize",V),S.smooth&&(S.target.style.scrollBehavior="auto",S.smooth=E.smooth=!1),U.enable()},e.onDisable=function(){Im(h,!0),dn(Be,"resize",V),Ve.removeEventListener("refresh",V),U.kill()},e.lockAxis=e.lockAxis!==!1,c=new $t(e),c.iOS=zs,zs&&!S()&&S(1),zs&&ce.ticker.add(Nr),be=c._dc,Z=ce.to(c,{ease:"power4",paused:!0,inherit:!1,scrollX:i?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:TE(S,S(),function(){return Z.pause()})},onUpdate:ls,onComplete:be.vars.onComplete}),c};Ve.sort=function(t){if(In(t))return Ue.sort(t);var e=Be.pageYOffset||0;return Ve.getAll().forEach(function(n){return n._sortY=n.trigger?e+n.trigger.getBoundingClientRect().top:n.start+Be.innerHeight}),Ue.sort(t||function(n,i){return(n.vars.refreshPriority||0)*-1e6+(n.vars.containerAnimation?1e6:n._sortY)-((i.vars.containerAnimation?1e6:i._sortY)+(i.vars.refreshPriority||0)*-1e6)})};Ve.observe=function(t){return new $t(t)};Ve.normalizeScroll=function(t){if(typeof t>"u")return Hn;if(t===!0&&Hn)return Hn.enable();if(t===!1){Hn&&Hn.kill(),Hn=t;return}var e=t instanceof $t?t:OD(t);return Hn&&Hn.target===e.target&&Hn.kill(),Jo(e.target)&&(Hn=e),e};Ve.core={_getVelocityProp:cg,_inputObserver:EE,_scrollers:Ge,_proxies:Pr,bridge:{ss:function(){er||Ko("scrollStart"),er=kn()},ref:function(){return Nn}}};hE()&&ce.registerPlugin(Ve);/*!
 * @gsap/react 2.1.2
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/let Px=typeof document<"u"?O.useLayoutEffect:O.useEffect,Ux=t=>t&&!Array.isArray(t)&&typeof t=="object",Fd=[],LD={},CE=Gf;const Hf=(t,e=Fd)=>{let n=LD;Ux(t)?(n=t,t=null,e="dependencies"in n?n.dependencies:Fd):Ux(e)&&(n=e,e="dependencies"in n?n.dependencies:Fd),t&&typeof t!="function"&&console.warn("First parameter must be a function or config object");const{scope:i,revertOnUpdate:s}=n,a=O.useRef(!1),l=O.useRef(CE.context(()=>{},i)),c=O.useRef(h=>l.current.add(null,h)),f=e&&e.length&&!s;return f&&Px(()=>(a.current=!0,()=>l.current.revert()),Fd),Px(()=>{if(t&&l.current.add(t,i),!f||!a.current)return()=>l.current.revert()},e),{context:l.current,contextSafe:c.current}};Hf.register=t=>{CE=t};Hf.headless=!0;const qD="_scrollContainer_145yl_3",BD="_zoomContainer_145yl_17",GD="_headingContainer_145yl_47",zD="_zoomItem_145yl_187",HD="_imageWrapper_145yl_207",VD="_overlay_145yl_237",FD="_imageText_145yl_269",$D="_item1_145yl_293",jD="_item2_145yl_309",JD="_item3_145yl_325",YD="_item4_145yl_341",KD="_item5_145yl_357",XD="_item6_145yl_373",WD="_item7_145yl_389",QD="_item8_145yl_405",ZD="_item9_145yl_423",eP="_item10_145yl_439",tP="_item11_145yl_455",nP="_item12_145yl_471",iP="_item13_145yl_487",rP="_item14_145yl_503",sP="_item15_145yl_519",oP="_item16_145yl_535",kt={scrollContainer:qD,zoomContainer:BD,headingContainer:GD,zoomItem:zD,imageWrapper:HD,overlay:VD,imageText:FD,item1:$D,item2:jD,item3:JD,item4:YD,item5:KD,item6:XD,item7:WD,item8:QD,item9:ZD,item10:eP,item11:tP,item12:nP,item13:iP,item14:rP,item15:sP,item16:oP};Gf.registerPlugin(Ve,Hf);const aP=[{id:1,src:"https://images.unsplash.com/photo-1543466835-00a7907e9de1?auto=format&fit=crop&q=80&w=800",className:kt.item1,text:"Amor",direction:"left"},{id:2,src:"https://i.pinimg.com/736x/f5/7a/59/f57a5991b7f1467debd1098bd595b14c.jpg",className:kt.item2,text:"Familia",direction:"left"},{id:3,src:"https://images.unsplash.com/photo-1517849845537-4d257902454a?auto=format&fit=crop&q=80&w=800",className:kt.item3,text:"Lealtad",direction:"left"},{id:4,src:"https://images.unsplash.com/photo-1583511655857-d19b40a7a54e?auto=format&fit=crop&q=80&w=800",className:kt.item4,text:"Hogar",direction:"left"},{id:5,src:"https://images.unsplash.com/photo-1530281700549-e82e7bf110d6?auto=format&fit=crop&q=80&w=800",className:kt.item5,text:"Amistad",direction:"left"},{id:6,src:"https://images.unsplash.com/photo-1558788353-f76d92427f16?auto=format&fit=crop&q=80&w=800",className:kt.item6,text:"Compaa",direction:"left"},{id:7,src:"https://i.pinimg.com/1200x/7c/f6/13/7cf6136b463b8370ee26acde9bbffee5.jpg",className:kt.item7,text:"Cuidado",direction:"left"},{id:8,src:"https://images.unsplash.com/photo-1601758124510-52d02ddb7cbd?auto=format&fit=crop&q=80&w=800",className:kt.item8,text:"Vnculo",direction:"left"},{id:9,src:"https://i.pinimg.com/1200x/40/37/f6/4037f658ef5a78991fcdf2bcd49dcac9.jpg",className:kt.item9,text:"Confianza",direction:"right"},{id:10,src:"https://images.unsplash.com/photo-1583337130417-3346a1be7dee?auto=format&fit=crop&q=80&w=800",className:kt.item10,text:"Juego",direction:"right"},{id:11,src:"https://images.unsplash.com/photo-1544568100-847a948585b9?auto=format&fit=crop&q=80&w=800",className:kt.item11,text:"Ternura",direction:"right"},{id:12,src:"https://images.unsplash.com/photo-1510771463146-e89e6e86560e?auto=format&fit=crop&q=80&w=800",className:kt.item12,text:"Alegra",direction:"right"},{id:13,src:"https://images.unsplash.com/photo-1450778869180-41d0601e046e?auto=format&fit=crop&q=80&w=800",className:kt.item13,text:"Fidelidad",direction:"right"},{id:14,src:"https://i.pinimg.com/736x/98/49/d8/9849d862ef6322c1f10abd96406698bf.jpg",className:kt.item14,text:"Paz",direction:"right"},{id:15,src:"https://i.pinimg.com/736x/0e/82/7f/0e827f69ad902260a4be57095744f4e9.jpg",className:kt.item15,text:"Esperanza",direction:"right"},{id:16,src:"https://images.unsplash.com/photo-1444212477490-ca407925329e?auto=format&fit=crop&q=80&w=800",className:kt.item16,text:"Vida",direction:"right"}];function lP(){const t=O.useRef(null);return Hf(()=>{if(!t.current)return;const e=window.innerWidth<640,n={trigger:t.current,start:"top top",end:"bottom top",pin:!1,scrub:1,pinSpacing:!1},i={trigger:t.current,start:"top top",end:"+=200%",pin:!0,scrub:1,pinSpacing:!1};Gf.timeline({scrollTrigger:e?n:i}).to(".zoom-item",{x:(a,l)=>{const c=l.getAttribute("data-direction"),f=50+Math.random()*50;return c==="left"?`-=${100+f}%`:`+=${100+f}%`},y:a=>(a%2===0?-1:1)*(Math.random()*50+20),rotation:a=>(a%2===0?-1:1)*(Math.random()*15+5),opacity:0,scale:.8,ease:"power2.inOut",stagger:{amount:.5,from:"center"}},0).to(".hero-heading",{opacity:1,scale:1,y:0,filter:"blur(0px)",duration:.8,ease:"back.out(1.7)"},.2)},{scope:t}),x.jsx("div",{ref:t,className:kt.scrollContainer,children:x.jsxs("div",{className:kt.zoomContainer,children:[x.jsxs("div",{className:`${kt.headingContainer} hero-heading`,children:[x.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-center leading-tight font-serif",children:[x.jsx("span",{className:"text-black",children:"Porque volver a casa"}),x.jsx("br",{}),x.jsx("span",{className:"text-black",children:"tambin es un "}),x.jsx("span",{className:"text-red-600 italic",children:"derecho"})]}),x.jsx("p",{className:"text-xl md:text-2xl text-gray-600 mt-6 text-center max-w-2xl mx-auto font-medium",children:"Mascotas SJ es una plataforma creada para ayudar a reencontrar mascotas perdidas, visibilizar mascotas encontradas y brindar apoyo a quienes lo necesitan. Un espacio digital desarrollado por L&M Desarrollo Web, pensado para generar un impacto real en la comunidad."})]}),aP.map(e=>x.jsx("div",{className:`${kt.zoomItem} zoom-item ${e.className}`,"data-direction":e.direction,children:x.jsxs("div",{className:kt.imageWrapper,children:[x.jsx("img",{src:e.src,alt:e.text,className:"object-cover w-full h-full"}),x.jsx("div",{className:kt.overlay,children:x.jsx("span",{className:kt.imageText,children:e.text})})]})},e.id))]})})}const uP=({campaign:t,isOpen:e,onClose:n,onDonate:i})=>{const[s,a]=O.useState(1e3),[l,c]=O.useState(""),[f,h]=O.useState({name:"",email:"",phone:"",message:"",isAnonymous:!1}),[m,v]=O.useState(!1),b=[500,1e3,2500,5e3,1e4],S=N=>{a(N),c("")},E=N=>{c(N),a(0)},w=async N=>{N.preventDefault(),v(!0);const k=l?parseInt(l):s,M={amount:k,campaignId:t==null?void 0:t.id,...f};await new Promise(U=>setTimeout(U,2e3)),console.log("Donation processed:",M),i==null||i(k,M),v(!1),n()};if(!e||!t)return null;const C=t.raised/t.goal*100,A=t.goal-t.raised;return x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:x.jsxs("div",{className:"bg-white dark:bg-background-dark rounded-3xl max-w-2xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[x.jsxs("div",{className:"relative h-48 overflow-hidden",children:[x.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover"}),x.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"}),x.jsx("button",{onClick:n,className:"absolute top-4 right-4 p-2 bg-white/20 hover:bg-white/40 backdrop-blur-md rounded-full text-white transition-colors",children:x.jsx("span",{className:"material-symbols-outlined text-xl",children:"close"})}),x.jsxs("div",{className:"absolute bottom-6 left-6 right-6",children:[x.jsx("h2",{className:"text-3xl font-black text-white mb-2",children:t.title}),x.jsx("p",{className:"text-white/90 text-sm",children:t.description})]})]}),x.jsxs("div",{className:"p-6 bg-accent-teal/5 border-b border-accent-teal/10",children:[x.jsxs("div",{className:"flex justify-between text-sm font-bold mb-3",children:[x.jsxs("span",{className:"text-primary",children:["$",t.raised.toLocaleString()," recaudados"]}),x.jsxs("span",{className:"text-accent-teal",children:["Meta: $",t.goal.toLocaleString()]})]}),x.jsx("div",{className:"h-3 w-full bg-accent-teal/10 rounded-full overflow-hidden mb-3",children:x.jsx("div",{className:"h-full bg-primary shadow-[0_0_10px_#13ec5b] transition-all duration-500",style:{width:`${Math.min(C,100)}%`}})}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("span",{className:"text-xs text-accent-teal font-medium",children:[C.toFixed(1),"% completado"]}),x.jsxs("span",{className:"text-xs font-bold text-primary",children:["$",A.toLocaleString()," restantes"]})]})]}),x.jsxs("form",{onSubmit:w,className:"p-6 max-h-[50vh] overflow-y-auto",children:[x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-bold mb-4",children:"Selecciona el monto a donar"}),x.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4",children:b.map(N=>x.jsxs("button",{type:"button",onClick:()=>S(N),className:`py-3 rounded-xl font-bold transition-all ${s===N&&!l?"bg-primary text-background-dark shadow-lg":"bg-accent-teal/5 text-accent-teal hover:bg-accent-teal/10"}`,children:["$",N]},N))}),x.jsxs("div",{className:"relative",children:[x.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-accent-teal font-bold",children:"$"}),x.jsx("input",{type:"number",placeholder:"Otro monto",value:l,onChange:N=>E(N.target.value),className:"w-full pl-10 pr-4 py-3 bg-white dark:bg-white/5 border border-accent-teal/10 rounded-xl focus:ring-2 focus:ring-primary"})]})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-bold mb-4",children:"Tus datos"}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold text-accent-teal mb-2",children:"Nombre *"}),x.jsx("input",{type:"text",required:!0,value:f.name,onChange:N=>h({...f,name:N.target.value}),className:"w-full px-4 py-3 bg-white dark:bg-white/5 border border-accent-teal/10 rounded-xl focus:ring-2 focus:ring-primary",placeholder:"Tu nombre completo"})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold text-accent-teal mb-2",children:"Email *"}),x.jsx("input",{type:"email",required:!0,value:f.email,onChange:N=>h({...f,email:N.target.value}),className:"w-full px-4 py-3 bg-white dark:bg-white/5 border border-accent-teal/10 rounded-xl focus:ring-2 focus:ring-primary",placeholder:"tu@email.com"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold text-accent-teal mb-2",children:"Telfono"}),x.jsx("input",{type:"tel",value:f.phone,onChange:N=>h({...f,phone:N.target.value}),className:"w-full px-4 py-3 bg-white dark:bg-white/5 border border-accent-teal/10 rounded-xl focus:ring-2 focus:ring-primary",placeholder:"+54 9 11 2345-6789"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold text-accent-teal mb-2",children:"Mensaje (opcional)"}),x.jsx("textarea",{value:f.message,onChange:N=>h({...f,message:N.target.value}),className:"w-full px-4 py-3 bg-white dark:bg-white/5 border border-accent-teal/10 rounded-xl focus:ring-2 focus:ring-primary",rows:3,placeholder:"Deja un mensaje de apoyo..."})]}),x.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:f.isAnonymous,onChange:N=>h({...f,isAnonymous:N.target.checked}),className:"rounded text-primary focus:ring-primary border-accent-teal/20"}),x.jsx("span",{className:"font-medium",children:"Donar de forma annima"})]})]})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-bold mb-4",children:"Mtodo de pago"}),x.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{icon:"credit_card",label:"Tarjeta",method:"card"},{icon:"account_balance",label:"Transferencia",method:"transfer"},{icon:"payments",label:"Mercado Pago",method:"mercadopago"},{icon:"currency_bitcoin",label:"Cripto",method:"crypto"}].map(({icon:N,label:k,method:M})=>x.jsxs("button",{type:"button",className:"p-4 bg-white dark:bg-white/5 border border-accent-teal/10 rounded-xl hover:border-primary transition-colors flex items-center gap-3",children:[x.jsx("span",{className:"material-symbols-outlined text-xl text-accent-teal",children:N}),x.jsx("span",{className:"font-medium",children:k})]},M))})]}),x.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-2xl p-4 border border-green-200 dark:border-green-800/30",children:x.jsxs("div",{className:"flex gap-3",children:[x.jsx("span",{className:"material-symbols-outlined text-green-500 text-xl",children:"security"}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-bold text-sm mb-1",children:"Pago Seguro"}),x.jsx("p",{className:"text-xs text-accent-teal",children:"Tu donacin est protegida con encriptacin SSL. Recibirs un comprobante por email."})]})]})})]}),x.jsx("div",{className:"mt-8 pt-6 border-t border-accent-teal/10",children:x.jsx("button",{type:"submit",disabled:m||!s&&!l,className:"w-full bg-primary hover:bg-primary/90 text-background-dark font-bold py-4 rounded-2xl flex items-center justify-center gap-3 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:m?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"material-symbols-outlined animate-spin",children:"refresh"}),"Procesando donacin..."]}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"material-symbols-outlined",children:"volunteer_activism"}),"Donar $",l||s]})})})]})]})})},Ox="lost-pet-images";function cP(t){const e=new Date(t),i=new Date().getTime()-e.getTime(),s=Math.floor(i/6e4),a=Math.floor(i/36e5),l=Math.floor(i/864e5);return s<60?`hace ${s} min`:a<24?`hace ${a} ${a===1?"hora":"horas"}`:l<30?`hace ${l} ${l===1?"da":"das"}`:`hace ${Math.floor(l/30)} ${Math.floor(l/30)===1?"mes":"meses"}`}function dP(t){const e=[];t.distinctive_features&&e.push(t.distinctive_features),t.additional_info&&e.push(t.additional_info),t.has_reward&&t.reward_amount&&e.push(`Recompensa: ${t.reward_amount}`);const n=e.length?e.join(`

`):void 0;return{id:t.id,name:t.pet_name,breed:t.breed,species:t.species,gender:t.gender,age:t.age??void 0,status:"lost",urgency:t.urgency,timeLabel:cP(t.last_seen_date),location:t.last_seen_location,image:t.image_url,description:n,contactName:t.contact_name,contactPhone:t.contact_phone,contactEmail:t.contact_email??void 0}}async function fP(t){var f;const e=crypto.randomUUID(),n=((f=t.imageFile.name.split(".").pop())==null?void 0:f.toLowerCase())||"jpg",i=`reports/${e}.${n}`,{error:s}=await fr.storage.from(Ox).upload(i,t.imageFile,{upsert:!1});if(s)return{error:new Error(s.message)};const{data:a}=fr.storage.from(Ox).getPublicUrl(i),l=a.publicUrl,{error:c}=await fr.from("lost_pet_reports").insert({id:e,status:"pending",pet_name:t.petName.trim(),species:t.species,breed:t.breed.trim(),gender:t.gender,age:t.age.trim()||null,size:t.size,color:t.color.trim(),distinctive_features:t.distinctiveFeatures.trim()||null,last_seen_date:t.lastSeenDate,last_seen_location:t.lastSeenLocation.trim(),additional_info:t.additionalInfo.trim()||null,urgency:t.urgency,has_reward:t.hasReward,reward_amount:t.rewardAmount.trim()||null,contact_name:t.contactName.trim(),contact_phone:t.contactPhone.trim(),contact_email:t.contactEmail.trim()||null,image_url:l});return c?{error:new Error(c.message)}:{error:null}}async function hP(){const{data:t,error:e}=await fr.from("lost_pet_reports").select("*").eq("status","approved").order("submitted_at",{ascending:!1});return e?{data:[],error:new Error(e.message)}:{data:(t??[]).map(dP),error:null}}async function pP(){const{data:t,error:e}=await fr.from("lost_pet_reports").select("*").eq("status","pending").order("submitted_at",{ascending:!1});return e?{data:[],error:new Error(e.message)}:{data:t??[],error:null}}async function mP(t,e){const{error:n}=await fr.from("lost_pet_reports").update({status:"approved",reviewed_at:new Date().toISOString(),reviewed_by:e,rejection_reason:null}).eq("id",t);return{error:n?new Error(n.message):null}}async function gP(t,e,n){const{error:i}=await fr.from("lost_pet_reports").update({status:"rejected",reviewed_at:new Date().toISOString(),reviewed_by:e,rejection_reason:(n==null?void 0:n.trim())||null}).eq("id",t);return{error:i?new Error(i.message):null}}const yP="image/jpeg,image/png,image/webp",Dm=5,AE=({isOpen:t,onClose:e,onSubmit:n,onError:i})=>{const[s,a]=O.useState({petName:"",species:"dog",breed:"",gender:"male",age:"",size:"medium",color:"",distinctiveFeatures:"",lastSeenDate:"",lastSeenLocation:"",contactName:"",contactPhone:"",contactEmail:"",additionalInfo:"",urgency:!1,hasReward:!1,rewardAmount:""}),[l,c]=O.useState(null),[f,h]=O.useState(null),[m,v]=O.useState(1),[b,S]=O.useState(!1),[E,w]=O.useState(null),C=O.useRef(null),A=(q,B)=>{a(J=>({...J,[q]:B})),w(null)},N=q=>{var te;const B=(te=q.target.files)==null?void 0:te[0];if(!B)return;if(!B.type.match(/^image\/(jpeg|png|webp)$/i)){i==null||i("Solo se permiten imgenes JPEG, PNG o WebP.");return}if(B.size>Dm*1024*1024){i==null||i(`La imagen no puede superar ${Dm} MB.`);return}c(B);const J=new FileReader;J.onload=()=>h(J.result),J.readAsDataURL(B),w(null)},k=()=>{c(null),h(null),C.current&&(C.current.value="")},M=async q=>{if(q.preventDefault(),!l){w("Debes subir una foto de la mascota.");return}S(!0),w(null);const{error:B}=await fP({petName:s.petName,species:s.species,breed:s.breed,gender:s.gender,age:s.age,size:s.size,color:s.color,distinctiveFeatures:s.distinctiveFeatures,lastSeenDate:s.lastSeenDate,lastSeenLocation:s.lastSeenLocation,additionalInfo:s.additionalInfo,urgency:s.urgency,hasReward:s.hasReward,rewardAmount:s.rewardAmount,contactName:s.contactName,contactPhone:s.contactPhone,contactEmail:s.contactEmail,imageFile:l});if(S(!1),B){w(B.message),i==null||i(B.message);return}n==null||n(s),e()},U=()=>{m<3&&v(m+1)},z=()=>{m>1&&v(m-1)},I=!!(s.petName.trim()&&s.breed.trim()&&s.color.trim()&&l);return O.useEffect(()=>{t||(a({petName:"",species:"dog",breed:"",gender:"male",age:"",size:"medium",color:"",distinctiveFeatures:"",lastSeenDate:"",lastSeenLocation:"",contactName:"",contactPhone:"",contactEmail:"",additionalInfo:"",urgency:!1,hasReward:!1,rewardAmount:""}),c(null),h(null),v(1),w(null),C.current&&(C.current.value=""))},[t]),t?x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:x.jsxs("div",{className:"bg-white dark:bg-background-dark rounded-3xl max-w-2xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[x.jsxs("div",{className:"bg-primary text-background-dark p-6",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h2",{className:"text-2xl font-black",children:"Reportar Mascota Perdida"}),x.jsx("button",{onClick:e,className:"p-2 bg-white/20 hover:bg-white/40 rounded-full transition-colors",children:x.jsx("span",{className:"material-symbols-outlined text-xl",children:"close"})})]}),x.jsx("div",{className:"flex items-center justify-between",children:[{step:1,label:"Informacin de la Mascota"},{step:2,label:"Detalles de la Prdida"},{step:3,label:"Contacto"}].map(({step:q,label:B})=>x.jsxs("div",{className:"flex items-center flex-1",children:[x.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold transition-all ${m>=q?"bg-white text-primary":"bg-white/20 text-white/60"}`,children:q}),x.jsx("span",{className:`ml-2 text-sm font-medium ${m>=q?"text-white":"text-white/60"}`,children:B}),q<3&&x.jsx("div",{className:`flex-1 h-1 mx-4 transition-all ${m>q?"bg-white":"bg-white/20"}`})]},q))})]}),x.jsxs("form",{onSubmit:M,className:"p-8 max-h-[60vh] overflow-y-auto",children:[E&&x.jsxs("div",{role:"alert",className:"flex items-center gap-2 p-3 rounded-xl bg-urgent-red/10 dark:bg-urgent-red/20 border border-urgent-red/30 text-urgent-red text-sm",children:[x.jsx("span",{className:"material-symbols-outlined text-xl flex-shrink-0",children:"error"}),x.jsx("span",{children:E})]}),m===1&&x.jsxs("div",{className:"space-y-6",children:[x.jsx("h3",{className:"text-xl font-bold mb-4",children:"Informacin de la Mascota"}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold text-accent-teal mb-2",children:"Foto de la mascota *"}),x.jsx("input",{ref:C,type:"file",accept:yP,onChange:N,className:"hidden","aria-label":"Subir foto de la mascota"}),f?x.jsxs("div",{className:"relative inline-block",children:[x.jsx("img",{src:f,alt:"Vista previa",className:"w-40 h-40 object-cover rounded-xl border-2 border-accent-teal/20"}),x.jsx("button",{type:"button",onClick:k,className:"absolute -top-2 -right-2 p-1.5 bg-urgent-red text-white rounded-full hover:bg-urgent-red/90",children:x.jsx("span",{className:"material-symbols-outlined text-lg",children:"close"})})]}):x.jsxs("button",{type:"button",onClick:()=>{var q;return(q=C.current)==null?void 0:q.click()},className:"flex flex-col items-center justify-center gap-2 w-40 h-40 rounded-xl border-2 border-dashed border-accent-teal/30 hover:border-primary hover:bg-primary/5 transition-colors",children:[x.jsx("span",{className:"material-symbols-outlined text-4xl text-accent-teal",children:"add_photo_alternate"}),x.jsx("span",{className:"text-sm font-bold text-accent-teal",children:"Subir foto"})]}),x.jsxs("p",{className:"mt-1 text-xs text-accent-teal",children:["JPEG, PNG o WebP. Mx. ",Dm," MB."]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"report-petName",className:"block text-sm font-bold text-accent-teal mb-2",children:"Nombre de la Mascota *"}),x.jsx("input",{id:"report-petName",type:"text",required:!0,value:s.petName,onChange:q=>A("petName",q.target.value),className:"w-full px-4 py-3 bg-white dark:bg-white/5 border border-accent-teal/10 rounded-xl focus:ring-2 focus:ring-primary",placeholder:"Ej: Buddy"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"report-species",className:"block text-sm font-bold text-accent-teal mb-2",children:"Especie *"}),x.jsxs("select",{id:"report-species",value:s.species,onChange:q=>A("species",q.target.value),className:"w-full px-4 py-3 bg-white dark:bg-white/5 border border-accent-teal/10 rounded-xl focus:ring-2 focus:ring-primary",children:[x.jsx("option",{value:"dog",children:"Perro"}),x.jsx("option",{value:"cat",children:"Gato"}),x.jsx("option",{value:"bird",children:"Ave"}),x.jsx("option",{value:"other",children:"Otro"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold text-accent-teal mb-2",children:"Raza *"}),x.jsx("input",{type:"text",required:!0,value:s.breed,onChange:q=>A("breed",q.target.value),className:"w-full px-4 py-3 bg-white dark:bg-white/5 border border-accent-teal/10 rounded-xl focus:ring-2 focus:ring-primary",placeholder:"Ej: Golden Retriever"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"report-gender",className:"block text-sm font-bold text-accent-teal mb-2",children:"Gnero *"}),x.jsxs("select",{id:"report-gender",value:s.gender,onChange:q=>A("gender",q.target.value),className:"w-full px-4 py-3 bg-white dark:bg-white/5 border border-accent-teal/10 rounded-xl focus:ring-2 focus:ring-primary",children:[x.jsx("option",{value:"male",children:"Macho"}),x.jsx("option",{value:"female",children:"Hembra"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold text-accent-teal mb-2",children:"Edad Aproximada"}),x.jsx("input",{type:"text",value:s.age,onChange:q=>A("age",q.target.value),className:"w-full px-4 py-3 bg-white dark:bg-white/5 border border-accent-teal/10 rounded-xl focus:ring-2 focus:ring-primary",placeholder:"Ej: 3 aos"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"report-size",className:"block text-sm font-bold text-accent-teal mb-2",children:"Tamao"}),x.jsxs("select",{id:"report-size",value:s.size,onChange:q=>A("size",q.target.value),className:"w-full px-4 py-3 bg-white dark:bg-white/5 border border-accent-teal/10 rounded-xl focus:ring-2 focus:ring-primary",children:[x.jsx("option",{value:"small",children:"Pequeo"}),x.jsx("option",{value:"medium",children:"Mediano"}),x.jsx("option",{value:"large",children:"Grande"})]})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold text-accent-teal mb-2",children:"Color/Colores *"}),x.jsx("input",{type:"text",required:!0,value:s.color,onChange:q=>A("color",q.target.value),className:"w-full px-4 py-3 bg-white dark:bg-white/5 border border-accent-teal/10 rounded-xl focus:ring-2 focus:ring-primary",placeholder:"Ej: Dorado con manchas blancas"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold text-accent-teal mb-2",children:"Caractersticas Distintivas"}),x.jsx("textarea",{value:s.distinctiveFeatures,onChange:q=>A("distinctiveFeatures",q.target.value),className:"w-full px-4 py-3 bg-white dark:bg-white/5 border border-accent-teal/10 rounded-xl focus:ring-2 focus:ring-primary",rows:3,placeholder:"Ej: Cicatriz en la oreja izquierda, collar rojo con placa..."})]})]}),m===2&&x.jsxs("div",{className:"space-y-6",children:[x.jsx("h3",{className:"text-xl font-bold mb-4",children:"Detalles de la Prdida"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"report-lastSeenDate",className:"block text-sm font-bold text-accent-teal mb-2",children:"Fecha en que se perdi *"}),x.jsx("input",{id:"report-lastSeenDate",type:"date",required:!0,value:s.lastSeenDate,onChange:q=>A("lastSeenDate",q.target.value),className:"w-full px-4 py-3 bg-white dark:bg-white/5 border border-accent-teal/10 rounded-xl focus:ring-2 focus:ring-primary"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"report-lastSeenLocation",className:"block text-sm font-bold text-accent-teal mb-2",children:"Ubicacin donde se perdi *"}),x.jsx("input",{id:"report-lastSeenLocation",type:"text",required:!0,value:s.lastSeenLocation,onChange:q=>A("lastSeenLocation",q.target.value),className:"w-full px-4 py-3 bg-white dark:bg-white/5 border border-accent-teal/10 rounded-xl focus:ring-2 focus:ring-primary",placeholder:"Ej: Parque Oakwood, entrada Calle 5"})]})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"report-additionalInfo",className:"block text-sm font-bold text-accent-teal mb-2",children:"Informacin Adicional"}),x.jsx("textarea",{id:"report-additionalInfo",value:s.additionalInfo,onChange:q=>A("additionalInfo",q.target.value),className:"w-full px-4 py-3 bg-white dark:bg-white/5 border border-accent-teal/10 rounded-xl focus:ring-2 focus:ring-primary",rows:4,placeholder:"Circunstancias de la prdida, comportamiento, salud, etc..."})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:s.urgency,onChange:q=>A("urgency",q.target.checked),className:"rounded text-primary focus:ring-primary border-accent-teal/20"}),x.jsx("span",{className:"font-medium",children:"Marcar como bsqueda urgente"})]}),x.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[x.jsx("input",{type:"checkbox",checked:s.hasReward,onChange:q=>A("hasReward",q.target.checked),className:"rounded text-primary focus:ring-primary border-accent-teal/20"}),x.jsx("span",{className:"font-medium",children:"Ofrecer recompensa"})]}),s.hasReward&&x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold text-accent-teal mb-2",children:"Monto de la recompensa"}),x.jsx("input",{type:"text",value:s.rewardAmount,onChange:q=>A("rewardAmount",q.target.value),className:"w-full px-4 py-3 bg-white dark:bg-white/5 border border-accent-teal/10 rounded-xl focus:ring-2 focus:ring-primary",placeholder:"Ej: $5000"})]})]})]}),m===3&&x.jsxs("div",{className:"space-y-6",children:[x.jsx("h3",{className:"text-xl font-bold mb-4",children:"Informacin de Contacto"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold text-accent-teal mb-2",children:"Tu Nombre *"}),x.jsx("input",{type:"text",required:!0,value:s.contactName,onChange:q=>A("contactName",q.target.value),className:"w-full px-4 py-3 bg-white dark:bg-white/5 border border-accent-teal/10 rounded-xl focus:ring-2 focus:ring-primary",placeholder:"Tu nombre completo"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold text-accent-teal mb-2",children:"Telfono *"}),x.jsx("input",{type:"tel",required:!0,value:s.contactPhone,onChange:q=>A("contactPhone",q.target.value),className:"w-full px-4 py-3 bg-white dark:bg-white/5 border border-accent-teal/10 rounded-xl focus:ring-2 focus:ring-primary",placeholder:"Ej: +54 9 11 2345-6789"})]}),x.jsxs("div",{className:"md:col-span-2",children:[x.jsx("label",{className:"block text-sm font-bold text-accent-teal mb-2",children:"Email"}),x.jsx("input",{type:"email",value:s.contactEmail,onChange:q=>A("contactEmail",q.target.value),className:"w-full px-4 py-3 bg-white dark:bg-white/5 border border-accent-teal/10 rounded-xl focus:ring-2 focus:ring-primary",placeholder:"tu@email.com"})]})]}),x.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-2xl p-6 border border-orange-200 dark:border-orange-800/30",children:x.jsxs("div",{className:"flex gap-3",children:[x.jsx("span",{className:"material-symbols-outlined text-orange-500 text-2xl",children:"info"}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-bold mb-2",children:"Importante"}),x.jsxs("ul",{className:"text-sm text-accent-teal space-y-1",children:[x.jsx("li",{children:" Tu informacin ser visible para quienes vean el reporte"}),x.jsx("li",{children:" Te contactaremos directamente si alguien tiene informacin"}),x.jsx("li",{children:" Puedes actualizar o eliminar el reporte en cualquier momento"})]})]})]})})]}),x.jsxs("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-accent-teal/10",children:[x.jsx("button",{type:"button",onClick:z,disabled:m===1,className:`px-6 py-3 rounded-xl font-bold transition-all ${m===1?"text-accent-teal/40 cursor-not-allowed":"text-accent-teal hover:text-primary"}`,children:"Anterior"}),m<3?x.jsx("button",{type:"button",onClick:U,disabled:m===1&&!I,className:"px-8 py-3 bg-primary text-background-dark rounded-xl font-bold hover:opacity-90 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Siguiente"}):x.jsx("button",{type:"submit",disabled:b,className:"px-8 py-3 bg-primary text-background-dark rounded-xl font-bold hover:opacity-90 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Publicando...":"Publicar Reporte"})]})]})]})}):null},Lx=({onToast:t})=>{const[e,n]=O.useState(null),[i,s]=O.useState(!1),[a,l]=O.useState(!1),c=S=>{n(S),s(!0)},f=()=>{s(!1),n(null)},h=(S,E)=>{console.log("Donacin procesada:",{amount:S,campaign:e==null?void 0:e.title,data:E}),t(`Gracias por tu donacin de $${S}!`,"success")},m=()=>{l(!0)},v=()=>{l(!1)},b=S=>{console.log("Nuevo reporte:",S),t("Reporte publicado exitosamente","success")};return x.jsxs(x.Fragment,{children:[x.jsx(lP,{}),x.jsx("div",{className:"relative px-4 md:px-10 lg:px-20 py-8",style:{marginTop:"200vh"},children:x.jsxs("div",{className:"grid grid-cols-12 gap-8 max-w-[1440px] mx-auto",children:[x.jsxs("aside",{className:"hidden xl:flex col-span-3 flex-col gap-6",children:[x.jsxs("div",{className:"bg-white dark:bg-white/5 p-6 rounded-3xl shadow-sm border border-accent-teal/5",children:[x.jsx("h3",{className:"font-bold text-lg mb-4",children:"Nuestro Impacto"}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:"material-symbols-outlined text-primary bg-primary/10 p-2 rounded-xl",children:"favorite"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xl font-bold leading-none",children:"1,248"}),x.jsx("p",{className:"text-[10px] text-accent-teal uppercase font-bold tracking-wider",children:"Mascotas Reunidas"})]})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:"material-symbols-outlined text-primary bg-primary/10 p-2 rounded-xl",children:"home_health"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xl font-bold leading-none",children:"452"}),x.jsx("p",{className:"text-[10px] text-accent-teal uppercase font-bold tracking-wider",children:"Adopciones Exitosas"})]})]})]})]}),x.jsxs("div",{className:"bg-white dark:bg-white/5 p-6 rounded-3xl shadow-sm border border-accent-teal/5",children:[x.jsx("h3",{className:"font-bold text-xs text-accent-teal uppercase tracking-widest mb-4",children:"Enlaces Rpidos"}),x.jsx("nav",{className:"flex flex-col gap-3",children:["Ser Voluntario","Mapa de Veterinarios","Grupos Locales"].map(S=>x.jsxs("a",{className:"flex items-center justify-between group text-sm font-medium hover:text-primary transition-colors",href:"#",children:[S," ",x.jsx("span",{className:"material-symbols-outlined text-sm opacity-0 group-hover:opacity-100 transition-opacity",children:"arrow_forward_ios"})]},S))})]})]}),x.jsxs("section",{className:"col-span-12 lg:col-span-8 xl:col-span-6 flex flex-col gap-6",children:[x.jsx("article",{className:"bg-white dark:bg-white/5 rounded-3xl overflow-hidden shadow-sm border-l-8 border-urgent-red border-t border-r border-b border-accent-teal/5",children:x.jsxs("div",{className:"md:flex h-full",children:[x.jsx("div",{className:"md:w-2/5 h-64 md:h-auto overflow-hidden",children:x.jsx("img",{src:ZM[0].image,className:"w-full h-full object-cover",alt:"Urgent Lost Pet"})}),x.jsxs("div",{className:"p-8 md:w-3/5 flex flex-col",children:[x.jsxs("div",{className:"flex justify-between items-start mb-3",children:[x.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest bg-urgent-red text-white px-3 py-1 rounded-full",children:"ALERTA CRTICA"}),x.jsx("span",{className:"text-xs text-accent-teal font-medium",children:"hace 2 horas"})]}),x.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Buddy - Golden Retriever"}),x.jsxs("p",{className:"text-sm text-accent-teal mb-6 flex items-center gap-1.5",children:[x.jsx("span",{className:"material-symbols-outlined text-base",children:"location_on"})," North Park, entrada Calle 5"]}),x.jsxs("div",{className:"mt-auto flex gap-3",children:[x.jsx("button",{className:"flex-1 bg-primary hover:bg-primary/90 text-background-dark py-3 rounded-xl font-bold text-sm shadow-md transition-all",children:"He visto a Buddy"}),x.jsx("button",{className:"px-4 border border-accent-teal/20 rounded-xl hover:bg-accent-teal/5",children:x.jsx("span",{className:"material-symbols-outlined text-xl",children:"share"})})]})]})]})}),x.jsxs("article",{className:"bg-white dark:bg-white/5 rounded-3xl p-8 shadow-sm border border-accent-teal/5",children:[x.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[x.jsx("div",{className:"size-14 rounded-full bg-slate-200 border-2 border-primary overflow-hidden",children:x.jsx("img",{src:"https://picsum.photos/id/1012/200/200",className:"w-full h-full object-cover",alt:"User"})}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-bold",children:"Rescate Animal Centro"}),x.jsx("p",{className:"text-xs text-accent-teal",children:"Publicado hace 5 horas"})]}),x.jsx("span",{className:"ml-auto bg-primary/10 text-accent-teal text-[10px] font-bold px-3 py-1 rounded-full uppercase tracking-widest",children:"AYUDA URGENTE"})]}),x.jsx("h3",{className:"text-xl font-bold mb-3",children:Co[0].title}),x.jsx("p",{className:"text-sm text-accent-teal/80 mb-8 leading-relaxed",children:Co[0].description}),x.jsxs("div",{className:"mb-8",children:[x.jsxs("div",{className:"flex justify-between text-xs font-bold mb-3",children:[x.jsxs("span",{className:"text-primary",children:["$",Co[0].raised," recaudados"]}),x.jsxs("span",{className:"text-accent-teal",children:["Meta: $",Co[0].goal]})]}),x.jsx("div",{className:"h-3 w-full bg-accent-teal/10 rounded-full overflow-hidden",children:x.jsx("div",{className:"h-full bg-primary shadow-[0_0_10px_#13ec5b]",style:{width:`${Co[0].raised/Co[0].goal*100}%`}})})]}),x.jsxs("div",{className:"flex gap-4",children:[x.jsx("button",{onClick:()=>c(Co[0]),className:"flex-1 bg-primary text-background-dark py-4 rounded-2xl font-bold text-sm shadow-lg hover:opacity-90 transition-all",children:"Colaborar ahora"}),x.jsx("button",{className:"flex-1 border border-accent-teal/20 py-4 rounded-2xl font-bold text-sm hover:bg-accent-teal/5 transition-colors",children:"Leer historia"})]})]}),x.jsxs("article",{className:"bg-white dark:bg-white/5 rounded-3xl overflow-hidden shadow-sm border border-accent-teal/5",children:[x.jsxs("div",{className:"aspect-[21/9] relative",children:[x.jsx("img",{src:"https://images.unsplash.com/photo-1544568100-847a948585b9?q=80&w=1200&auto=format&fit=crop",className:"w-full h-full object-cover",alt:"Success Story"}),x.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"}),x.jsxs("div",{className:"absolute bottom-6 left-8",children:[x.jsx("span",{className:"bg-orange-500 text-white text-[10px] font-black uppercase tracking-widest px-3 py-1 rounded-full mb-3 inline-block",children:"Historias de xito"}),x.jsx("h3",{className:"text-white text-3xl font-bold",children:"El nuevo hogar de Luna"})]})]}),x.jsxs("div",{className:"p-8",children:[x.jsx("p",{className:"text-base italic text-accent-teal/90 mb-6 leading-relaxed",children:'"Despus de 200 das en el refugio, Luna finalmente encontr a su familia ideal. Ahora tiene un gran jardn y dos hermanos humanos para jugar!"'}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex -space-x-3",children:[[1,2,3].map(S=>x.jsx("div",{className:"size-10 rounded-full border-4 border-white dark:border-background-dark overflow-hidden",children:x.jsx("img",{src:`https://picsum.photos/id/${S+50}/100/100`,className:"w-full h-full object-cover",alt:"Supporter"})},S)),x.jsx("div",{className:"size-10 rounded-full border-4 border-white dark:border-background-dark bg-accent-teal/10 flex items-center justify-center text-[10px] font-bold",children:"+12"})]}),x.jsxs("div",{className:"flex gap-6",children:[x.jsxs("button",{className:"flex items-center gap-2 text-sm font-bold text-accent-teal hover:text-primary transition-colors",children:[x.jsx("span",{className:"material-symbols-outlined text-2xl",children:"favorite"})," 142"]}),x.jsxs("button",{className:"flex items-center gap-2 text-sm font-bold text-accent-teal hover:text-primary transition-colors",children:[x.jsx("span",{className:"material-symbols-outlined text-2xl",children:"chat"})," 18"]})]})]})]})]})]}),x.jsxs("aside",{className:"hidden lg:flex lg:col-span-4 xl:col-span-3 flex-col gap-6",children:[x.jsxs("button",{onClick:m,className:"w-full bg-primary text-background-dark h-16 rounded-2xl font-bold flex items-center justify-center gap-3 shadow-xl shadow-primary/20 hover:-translate-y-1 transition-all active:scale-95",children:[x.jsx("span",{className:"material-symbols-outlined font-bold text-2xl",children:"add_alert"}),"Reportar Mascota Perdida"]}),x.jsxs("div",{className:"bg-white dark:bg-white/5 rounded-3xl shadow-sm border border-accent-teal/5 overflow-hidden",children:[x.jsxs("div",{className:"p-6 border-b border-accent-teal/5 flex justify-between items-center",children:[x.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[x.jsx("span",{className:"material-symbols-outlined text-primary",children:"trending_up"}),"Casos Destacados"]}),x.jsx("span",{className:"bg-primary/10 text-primary text-[10px] px-2 py-1 rounded-full font-bold",children:"LIVE"})]}),x.jsx("div",{className:"p-4 space-y-2",children:[{name:"Oliver",breed:"Gato Atigrado",location:"West Hills",img:"https://images.unsplash.com/photo-1573865526739-10659fec78a5?q=80&w=200&auto=format&fit=crop"},{name:"Rex",breed:"Fondo de Ayuda",location:"85% alcanzado",img:"https://images.unsplash.com/photo-1583512603805-3cc6b41f3edb?q=80&w=200&auto=format&fit=crop"},{name:"Bella",breed:"Beagle en Adopcin",location:"2 aos",img:"https://images.unsplash.com/photo-1537151608828-ea2b11777ee8?q=80&w=200&auto=format&fit=crop"}].map((S,E)=>x.jsxs("div",{className:"flex items-center gap-4 p-4 hover:bg-accent-teal/5 rounded-2xl cursor-pointer transition-colors group",children:[x.jsx("div",{className:"size-14 rounded-xl overflow-hidden flex-shrink-0",children:x.jsx("img",{src:S.img,alt:S.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform"})}),x.jsxs("div",{className:"overflow-hidden",children:[x.jsx("p",{className:"font-bold text-sm truncate",children:S.name}),x.jsx("p",{className:"text-xs text-accent-teal",children:S.location})]})]},E))}),x.jsx("a",{className:"block text-center p-5 text-sm font-bold text-primary hover:bg-primary/5 border-t border-accent-teal/5 transition-colors",href:"#",children:"Ver todos los casos"})]}),x.jsxs("div",{className:"bg-slate-900 rounded-3xl shadow-2xl border border-white/10 overflow-hidden group",children:[x.jsxs("div",{className:"h-48 relative overflow-hidden flex items-center justify-center",children:[x.jsx("img",{src:"https://images.unsplash.com/photo-1524661135-423995f22d0b?q=80&w=800&auto=format&fit=crop",className:"absolute inset-0 w-full h-full object-cover opacity-40 grayscale group-hover:scale-110 transition-transform duration-700",alt:"Map Background"}),x.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-3",children:[x.jsx("span",{className:"material-symbols-outlined text-urgent-red text-5xl animate-bounce drop-shadow-[0_0_15px_rgba(239,68,68,0.5)]",children:"location_on"}),x.jsx("p",{className:"bg-white/95 dark:bg-black/90 px-4 py-2 rounded-full text-xs font-black shadow-2xl tracking-tight",children:"6 ALERTAS CERCA"})]})]}),x.jsx("div",{className:"p-6",children:x.jsx("p",{className:"text-sm text-slate-300 leading-relaxed text-center",children:"Alertas activas en tu zona (radio de 8 km). Activa el GPS para actualizaciones."})})]})]})]})}),x.jsx(uP,{campaign:e,isOpen:i,onClose:f,onDonate:h}),x.jsx(AE,{isOpen:a,onClose:v,onSubmit:b})]})};function vP(t){return t.replace(/\D/g,"")}const RE=({pet:t,onAction:e,onViewDetails:n})=>{var w,C;const[i,s]=O.useState(!1),[a,l]=O.useState(!1),c=t.status==="lost",f=!!((w=t.contactPhone)!=null&&w.trim()),h=!!((C=t.contactEmail)!=null&&C.trim()),m=f||h,v=f?vP(t.contactPhone):"",b=v?`https://wa.me/${v}?text=${encodeURIComponent(`Hola! Vi tu publicacin sobre ${t.name} y me interesa. Podramos conversar?`)}`:null,S=h?`mailto:${t.contactEmail.trim()}?subject=${encodeURIComponent(`Consulta sobre ${t.name}`)}&body=${encodeURIComponent(`Hola! Vi tu publicacin sobre ${t.name} y me gustara obtener ms informacin.`)}`:null,E=A=>{const N={title:`${c?"Mascota Perdida":"Mascota en Adopcin"}: ${t.name}`,text:`${c?"Ayuda a encontrar":"Conoce a"} ${t.name}, ${t.breed}${c?` - visto en ${t.location}`:" - busca un hogar"}`,url:window.location.href};switch(A){case"copy_link":navigator.clipboard.writeText(window.location.href);break;case"whatsapp":window.open(`https://wa.me/?text=${encodeURIComponent(`${N.text} ${N.url}`)}`,"_blank");break;case"sms":window.open(`sms:?body=${encodeURIComponent(`${N.text} ${N.url}`)}`);break;case"email":window.open(`mailto:?subject=${encodeURIComponent(N.title)}&body=${encodeURIComponent(`${N.text} ${N.url}`)}`);break}};return x.jsxs("div",{className:"group bg-white dark:bg-white/5 rounded-2xl overflow-hidden shadow-sm border border-accent-teal/5 hover:shadow-xl transition-all duration-300 card-hover stagger-item",children:[x.jsxs("div",{className:"relative aspect-square overflow-hidden",children:[x.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),x.jsxs("div",{className:"absolute top-3 left-3 flex gap-2",children:[t.urgency&&x.jsx("span",{className:"bg-urgent-red text-white text-[10px] font-bold px-2 py-1 rounded-md uppercase tracking-wider shadow-lg",children:"Urgente"}),t.timeLabel&&x.jsx("span",{className:"bg-black/60 backdrop-blur-md text-white text-[10px] font-bold px-2 py-1 rounded-md uppercase tracking-wider",children:t.timeLabel})]}),x.jsxs("div",{className:"absolute top-3 right-3 flex gap-2",children:[x.jsx("button",{onClick:A=>{A.stopPropagation(),s(!i)},className:`p-2 backdrop-blur-md rounded-full transition-all ${i?"bg-white/90 text-red-500":"bg-white/20 hover:bg-white/40 text-white"}`,children:x.jsx("span",{className:"material-symbols-outlined text-xl",children:i?"favorite":"favorite_border"})}),x.jsxs("div",{className:"relative",children:[x.jsx("button",{onClick:A=>{A.stopPropagation(),l(!a)},className:"p-2 bg-white/20 hover:bg-white/40 backdrop-blur-md rounded-full text-white transition-colors",children:x.jsx("span",{className:"material-symbols-outlined text-xl",children:"share"})}),a&&x.jsx("div",{className:"absolute top-12 right-0 bg-white dark:bg-background-dark rounded-xl shadow-xl border border-accent-teal/10 p-2 min-w-[160px] z-50",children:[{icon:"public",label:"Copiar link",action:"copy_link"},{icon:"alternate_email",label:"WhatsApp",action:"whatsapp"},{icon:"sms",label:"SMS",action:"sms"},{icon:"mail",label:"Email",action:"email"}].map(({icon:A,label:N,action:k})=>x.jsxs("button",{onClick:M=>{M.stopPropagation(),E(k),l(!1)},className:"w-full flex items-center gap-3 p-3 hover:bg-accent-teal/5 rounded-lg text-left transition-colors",children:[x.jsx("span",{className:"material-symbols-outlined text-lg text-accent-teal",children:A}),x.jsx("span",{className:"text-sm font-medium",children:N})]},k))})]})]})]}),x.jsxs("div",{className:"p-5",children:[x.jsx("div",{className:"flex justify-between items-start mb-2 cursor-pointer",onClick:()=>n==null?void 0:n(t),children:x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-bold group-hover:text-primary transition-colors",children:t.name}),x.jsxs("p",{className:"text-xs text-accent-teal font-semibold uppercase tracking-wide",children:[t.breed,"  ",t.gender==="male"?"Macho":"Hembra"]})]})}),x.jsxs("div",{className:"flex items-start gap-2 mb-6",children:[x.jsx("span",{className:"material-symbols-outlined text-primary text-lg mt-0.5",children:"location_on"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-bold",children:c?`Visto: ${t.location}`:t.location}),t.distance&&x.jsxs("p",{className:"text-xs text-accent-teal",children:[t.distance," de distancia"]})]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{onClick:()=>e==null?void 0:e(t,"view"),className:"flex-1 bg-white dark:bg-white/5 border border-accent-teal/20 hover:border-primary text-primary font-bold py-3 rounded-xl flex items-center justify-center gap-2 transition-all btn-primary",children:[x.jsx("span",{className:"material-symbols-outlined text-xl",children:"info"}),"Ver Detalles"]}),x.jsxs("button",{onClick:()=>e==null?void 0:e(t,c?"seen":"adopt"),className:"flex-1 bg-primary hover:bg-primary/90 text-background-dark font-bold py-3 rounded-xl flex items-center justify-center gap-2 transition-all shadow-sm btn-primary",children:[x.jsx("span",{className:"material-symbols-outlined text-xl",children:c?"visibility":"favorite"}),c?"La vi":"Adoptar"]})]}),c&&m&&x.jsx("div",{className:"pt-3 border-t border-accent-teal/10",children:x.jsxs("div",{className:"flex gap-2",children:[b&&x.jsxs("a",{href:b,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-green-500 hover:bg-green-600 text-white text-xs font-bold py-2 rounded-lg flex items-center justify-center gap-1 transition-all",children:[x.jsx("span",{className:"material-symbols-outlined text-sm",children:"whatsapp"}),"WhatsApp"]}),S&&x.jsxs("a",{href:S,className:"flex-1 bg-accent-teal hover:bg-primary text-white text-xs font-bold py-2 rounded-lg flex items-center justify-center gap-1 transition-all",children:[x.jsx("span",{className:"material-symbols-outlined text-sm",children:"mail"}),"Email"]})]})})]})]})};function _P(t){return t.replace(/\D/g,"")}const NE=({pet:t,isOpen:e,onClose:n,onAction:i})=>{var v,b,S;if(!e||!t)return null;const s=t.status==="lost",a=!!((v=t.contactPhone)!=null&&v.trim()),l=!!((b=t.contactEmail)!=null&&b.trim()),c=a||l||!!((S=t.contactName)!=null&&S.trim()),f=a?_P(t.contactPhone):"",h=f?`https://wa.me/${f}?text=${encodeURIComponent(`Hola! Vi tu publicacin sobre ${t.name} y me interesa. Podramos conversar?`)}`:null,m=l?`mailto:${t.contactEmail.trim()}?subject=${encodeURIComponent(`Consulta sobre ${t.name}`)}&body=${encodeURIComponent(`Hola! Vi tu publicacin sobre ${t.name} y me gustara obtener ms informacin.`)}`:null;return x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:n,children:x.jsxs("div",{className:"bg-white dark:bg-background-dark rounded-3xl max-w-4xl w-full max-h-[90vh] overflow-hidden shadow-2xl",onClick:E=>E.stopPropagation(),children:[x.jsxs("div",{className:"relative aspect-[21/9] overflow-hidden",children:[x.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover"}),x.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"}),x.jsx("button",{onClick:n,className:"absolute top-4 right-4 p-2 bg-white/20 hover:bg-white/40 backdrop-blur-md rounded-full text-white transition-colors",children:x.jsx("span",{className:"material-symbols-outlined text-2xl",children:"close"})}),x.jsxs("div",{className:"absolute bottom-6 left-6 flex gap-3",children:[t.urgency&&x.jsx("span",{className:"bg-urgent-red text-white text-xs font-black uppercase tracking-wider px-3 py-1 rounded-full",children:"Urgente"}),x.jsx("span",{className:"bg-white/20 backdrop-blur-md text-white text-xs font-black uppercase tracking-wider px-3 py-1 rounded-full",children:s?"Mascota Perdida":"En Adopcin"}),t.timeLabel&&x.jsx("span",{className:"bg-black/60 backdrop-blur-md text-white text-xs font-black px-3 py-1 rounded-full",children:t.timeLabel})]}),x.jsxs("div",{className:"absolute bottom-6 left-6 right-20",children:[x.jsx("h1",{className:"text-4xl font-black text-white mb-2",children:t.name}),x.jsxs("p",{className:"text-white/90 text-lg",children:[t.breed,"  ",t.gender==="male"?"Macho":"Hembra",t.age&&`  ${t.age}`]})]})]}),x.jsx("div",{className:"p-8 max-h-[50vh] overflow-y-auto",children:x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[x.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.description&&x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-bold mb-3",children:"Descripcin"}),x.jsx("p",{className:"text-accent-teal leading-relaxed",children:t.description})]}),x.jsxs("div",{children:[x.jsxs("h3",{className:"text-xl font-bold mb-3 flex items-center gap-2",children:[x.jsx("span",{className:"material-symbols-outlined text-primary",children:"location_on"}),s?"ltima Vez Visto":"Ubicacin"]}),x.jsx("p",{className:"text-accent-teal font-medium",children:t.location}),t.distance&&x.jsxs("p",{className:"text-sm text-accent-teal/80 mt-1",children:["A ",t.distance," de tu ubicacin"]})]}),t.medStatus&&t.medStatus.length>0&&x.jsxs("div",{children:[x.jsxs("h3",{className:"text-xl font-bold mb-3 flex items-center gap-2",children:[x.jsx("span",{className:"material-symbols-outlined text-primary",children:"medical_services"}),"Estado Mdico"]}),x.jsx("div",{className:"flex flex-wrap gap-2",children:t.medStatus.map((E,w)=>x.jsx("span",{className:"bg-primary/10 text-primary px-3 py-1 rounded-full text-sm font-bold",children:E},w))})]}),(c||!s)&&x.jsxs("div",{className:"bg-accent-teal/5 rounded-2xl p-6",children:[x.jsx("h3",{className:"text-xl font-bold mb-4",children:"Informacin de Contacto"}),x.jsxs("div",{className:"space-y-3",children:[t.contactName&&x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:"material-symbols-outlined text-primary",children:"person"}),x.jsxs("span",{className:"font-medium",children:[s?"Reportante":"Contacto",": ",t.contactName]})]}),a&&x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:"material-symbols-outlined text-primary",children:"phone"}),h?x.jsxs("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-accent-teal hover:text-primary transition-colors underline flex items-center gap-2",children:[t.contactPhone,x.jsx("span",{className:"material-symbols-outlined text-sm",children:"open_in_new"})]}):x.jsx("span",{className:"font-medium",children:t.contactPhone})]}),l&&x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:"material-symbols-outlined text-primary",children:"mail"}),m?x.jsx("a",{href:m,className:"font-medium text-accent-teal hover:text-primary transition-colors underline",children:t.contactEmail}):x.jsx("span",{className:"font-medium",children:t.contactEmail})]}),!c&&!s&&x.jsx("p",{className:"text-sm text-accent-teal",children:"Contacto disponible en la publicacin."})]})]})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"space-y-3",children:[x.jsxs("button",{onClick:()=>i==null?void 0:i(t,s?"seen":"adopt"),className:"w-full bg-primary hover:bg-primary/90 text-background-dark font-bold py-4 rounded-2xl flex items-center justify-center gap-3 transition-all shadow-lg",children:[x.jsx("span",{className:"material-symbols-outlined text-2xl",children:s?"visibility":"favorite"}),s?"He visto a esta mascota!":"Quiero Adoptar"]}),h&&x.jsxs("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-green-500 hover:bg-green-600 text-white font-bold py-4 rounded-2xl flex items-center justify-center gap-3 transition-all shadow-lg",children:[x.jsx("span",{className:"material-symbols-outlined text-2xl",children:"whatsapp"}),"Contactar por WhatsApp"]}),m&&x.jsxs("a",{href:m,className:"w-full bg-white dark:bg-white/5 border border-accent-teal/20 hover:border-primary text-primary font-bold py-4 rounded-2xl flex items-center justify-center gap-3 transition-all",children:[x.jsx("span",{className:"material-symbols-outlined text-2xl",children:"mail"}),"Enviar Email"]}),x.jsxs("button",{className:"w-full bg-white dark:bg-white/5 border border-accent-teal/20 hover:border-primary text-primary font-bold py-4 rounded-2xl flex items-center justify-center gap-3 transition-all",children:[x.jsx("span",{className:"material-symbols-outlined text-2xl",children:"share"}),"Compartir"]})]}),x.jsxs("div",{className:"bg-white dark:bg-white/5 rounded-2xl p-6 border border-accent-teal/5",children:[x.jsx("h4",{className:"font-bold mb-4",children:"Caractersticas"}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-sm text-accent-teal",children:"Especie"}),x.jsx("span",{className:"text-sm font-bold capitalize",children:t.species})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-sm text-accent-teal",children:"Gnero"}),x.jsx("span",{className:"text-sm font-bold",children:t.gender==="male"?"Macho":"Hembra"})]}),t.age&&x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-sm text-accent-teal",children:"Edad"}),x.jsx("span",{className:"text-sm font-bold",children:t.age})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-sm text-accent-teal",children:"Estado"}),x.jsx("span",{className:"text-sm font-bold capitalize",children:t.status})]})]})]}),x.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-2xl p-4 border border-orange-200 dark:border-orange-800/30",children:x.jsxs("div",{className:"flex gap-3",children:[x.jsx("span",{className:"material-symbols-outlined text-orange-500 text-xl",children:"warning"}),x.jsxs("div",{children:[x.jsx("h5",{className:"font-bold text-sm mb-1",children:"Seguridad Primero"}),x.jsx("p",{className:"text-xs text-accent-teal",children:s?"Nunca enves dinero por adelantado. Encuentrate en un lugar pblico.":"Verifica la informacin del refugio. Pide certificados veterinarios."})]})]})})]})]})})]})})},bP=({onToast:t})=>{const[e,n]=O.useState([]),[i,s]=O.useState(!0),[a,l]=O.useState(""),[c,f]=O.useState("grid"),[h,m]=O.useState(null),[v,b]=O.useState(!1),[S,E]=O.useState(!1),[w,C]=O.useState({species:"",timeRange:"",location:"",color:"",urgency:!1});O.useEffect(()=>{let te=!1;return s(!0),hP().then(({data:Z,error:ie})=>{if(!te){if(s(!1),ie){t("No se pudieron cargar las mascotas perdidas. Revisa la conexin.","error");return}n(Z)}}),()=>{te=!0}},[t]);const A=O.useMemo(()=>{let te=e;if(a){const Z=a.toLowerCase();te=te.filter(ie=>ie.name.toLowerCase().includes(Z)||ie.breed.toLowerCase().includes(Z)||ie.location.toLowerCase().includes(Z))}return w.species&&(te=te.filter(Z=>{const ie={Perros:"dog",Gatos:"cat",Aves:"bird"};return Z.species===ie[w.species]})),w.urgency&&(te=te.filter(Z=>Z.urgency)),w.timeRange&&(te=te.filter(Z=>{var be;if(!Z.timeLabel)return!0;const ie=parseInt(((be=Z.timeLabel.match(/\d+/))==null?void 0:be[0])||"0"),de=Z.timeLabel.includes("hora")?"hours":"days";return w.timeRange==="ltimas 24h"&&de==="hours"&&ie<=24||w.timeRange==="ltima semana"&&(de==="hours"||de==="days"&&ie<=7)||w.timeRange==="ltimo mes"&&(de==="hours"||de==="days"&&ie<=30)})),te},[e,a,w]),N=()=>{C({species:"",timeRange:"",location:"",color:"",urgency:!1}),l("")},k=w.species||w.timeRange||w.location||w.color||w.urgency||a,M=(te,Z)=>{switch(Z){case"view":m(te),b(!0);break;case"seen":t(`Gracias por reportar a ${te.name}. Te contactaremos pronto.`,"success");break;default:console.log("Accin:",Z,"para:",te.name)}},U=te=>{m(te),b(!0)},z=()=>{b(!1),m(null)},I=()=>{E(!0)},q=()=>{E(!1)},B=()=>{t("Reporte enviado. Un administrador lo revisar pronto; si lo aprueba, se publicar aqu.","success")},J=te=>{t(te,"error")};return x.jsxs("div",{className:"flex flex-col gap-8",children:[x.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[x.jsxs("div",{className:"flex-1",children:[x.jsx("h2",{className:"text-4xl font-extrabold mb-2",children:"Bsqueda de Mascotas Perdidas"}),x.jsxs("p",{className:"text-accent-teal text-lg",children:["Ayuda a reunir hoy a ",x.jsx("span",{className:"text-primary font-bold",children:e.length})," mascotas con sus familias.",k&&x.jsxs("span",{className:"ml-2 text-sm",children:["(",A.length," resultados)"]})]})]}),x.jsxs("div",{className:"flex gap-2 bg-accent-teal/5 p-1 rounded-2xl",children:[x.jsx("button",{onClick:()=>f("grid"),className:`px-6 py-2 rounded-xl font-bold text-sm transition-colors ${c==="grid"?"bg-white dark:bg-white/10 shadow-sm":"text-accent-teal hover:text-primary"}`,children:"Cuadrcula"}),x.jsx("button",{onClick:()=>f("map"),className:`px-6 py-2 rounded-xl font-bold text-sm transition-colors ${c==="map"?"bg-white dark:bg-white/10 shadow-sm":"text-accent-teal hover:text-primary"}`,children:"Mapa"})]})]}),x.jsxs("div",{className:"relative",children:[x.jsx("span",{className:"material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-accent-teal text-2xl",children:"search"}),x.jsx("input",{type:"text",placeholder:"Busca por raza, color o zona...",className:"w-full pl-14 pr-6 py-5 bg-white dark:bg-white/5 border-none rounded-2xl focus:ring-2 focus:ring-primary shadow-sm text-lg",value:a,onChange:te=>l(te.target.value)})]}),x.jsxs("div",{className:"flex flex-wrap gap-3 pb-2 overflow-x-auto scrollbar-hide",children:[x.jsx("div",{className:"relative",children:x.jsxs("button",{onClick:()=>{const te=["","Perros","Gatos","Aves"],ie=(te.indexOf(w.species)+1)%te.length;C({...w,species:te[ie]})},className:`px-5 py-2.5 border rounded-xl text-sm font-bold flex items-center gap-2 transition-colors ${w.species?"bg-primary text-background-dark border-primary":"bg-white dark:bg-white/5 border-accent-teal/10 hover:border-primary"}`,children:[x.jsx("span",{className:"material-symbols-outlined text-sm",children:"pets"}),w.species||"Especie",w.species&&x.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})]})}),x.jsx("div",{className:"relative",children:x.jsxs("button",{onClick:()=>{const te=["","ltimas 24h","ltima semana","ltimo mes"],ie=(te.indexOf(w.timeRange)+1)%te.length;C({...w,timeRange:te[ie]})},className:`px-5 py-2.5 border rounded-xl text-sm font-bold flex items-center gap-2 transition-colors ${w.timeRange?"bg-primary text-background-dark border-primary":"bg-white dark:bg-white/5 border-accent-teal/10 hover:border-primary"}`,children:[x.jsx("span",{className:"material-symbols-outlined text-sm",children:"schedule"}),w.timeRange||"Fecha",w.timeRange&&x.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})]})}),x.jsx("div",{className:"relative",children:x.jsxs("button",{onClick:()=>{const te=["","Cerca","A menos de 5km","A menos de 10km"],ie=(te.indexOf(w.location)+1)%te.length;C({...w,location:te[ie]})},className:`px-5 py-2.5 border rounded-xl text-sm font-bold flex items-center gap-2 transition-colors ${w.location?"bg-primary text-background-dark border-primary":"bg-white dark:bg-white/5 border-accent-teal/10 hover:border-primary"}`,children:[x.jsx("span",{className:"material-symbols-outlined text-sm",children:"location_on"}),w.location||"Ubicacin",w.location&&x.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})]})}),x.jsxs("button",{onClick:()=>C({...w,urgency:!w.urgency}),className:`px-5 py-2.5 border rounded-xl text-sm font-bold flex items-center gap-2 transition-colors ${w.urgency?"bg-urgent-red text-white border-urgent-red":"bg-white dark:bg-white/5 border-accent-teal/10 hover:border-primary"}`,children:[x.jsx("span",{className:"material-symbols-outlined text-sm",children:"priority_high"}),"Urgente",w.urgency&&x.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})]}),k&&x.jsxs("button",{onClick:N,className:"ml-auto text-primary text-sm font-bold hover:underline flex items-center gap-2",children:[x.jsx("span",{className:"material-symbols-outlined text-sm",children:"clear_all"}),"Limpiar filtros"]})]}),c==="map"&&x.jsxs("div",{className:"bg-white dark:bg-white/5 rounded-3xl border border-accent-teal/5 p-8 text-center min-h-[500px] flex flex-col items-center justify-center",children:[x.jsx("span",{className:"material-symbols-outlined text-6xl text-accent-teal mb-4",children:"map"}),x.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Vista de Mapa"}),x.jsx("p",{className:"text-accent-teal mb-6",children:"Mapa interactivo con ubicaciones de mascotas perdidas"}),x.jsxs("p",{className:"text-sm text-accent-teal/80",children:["Encontramos ",A.length," mascotas en tu zona"]})]}),c==="grid"&&x.jsx(x.Fragment,{children:i?x.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[x.jsx("span",{className:"material-symbols-outlined text-5xl text-primary animate-pulse",children:"pets"}),x.jsx("p",{className:"text-accent-teal font-medium",children:"Cargando mascotas perdidas"})]}):x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:[A.map(te=>x.jsx(RE,{pet:te,onAction:M,onViewDetails:U},te.id)),x.jsxs("div",{className:"bg-primary/5 dark:bg-primary/10 border-4 border-dashed border-primary/20 rounded-2xl flex flex-col items-center justify-center p-8 text-center group cursor-pointer hover:bg-primary/10 transition-all min-h-[400px]",onClick:I,children:[x.jsx("div",{className:"size-20 rounded-full bg-primary/20 flex items-center justify-center text-primary mb-6 group-hover:scale-110 transition-transform",children:x.jsx("span",{className:"material-symbols-outlined text-4xl font-bold",children:"add"})}),x.jsx("h3",{className:"text-xl font-bold mb-3",children:"Has perdido a alguien?"}),x.jsx("p",{className:"text-sm text-accent-teal mb-8 max-w-[220px]",children:"Reporta ahora y activa la red de bsqueda en tu zona."}),x.jsx("button",{className:"bg-primary text-background-dark px-10 py-3 rounded-xl font-black shadow-lg hover:shadow-primary/30 transition-all",onClick:te=>{te.stopPropagation(),I()},children:"COMENZAR"})]})]})}),!i&&k&&A.length===0&&c==="grid"&&x.jsxs("div",{className:"bg-white dark:bg-white/5 rounded-3xl border border-accent-teal/5 p-12 text-center",children:[x.jsx("span",{className:"material-symbols-outlined text-6xl text-accent-teal mb-4",children:"search_off"}),x.jsx("h3",{className:"text-2xl font-bold mb-2",children:"No encontramos resultados"}),x.jsx("p",{className:"text-accent-teal mb-6",children:"Intenta ajustar los filtros o el trmino de bsqueda"}),x.jsx("button",{onClick:N,className:"bg-primary text-background-dark px-8 py-3 rounded-xl font-bold hover:opacity-90 transition-all",children:"Limpiar filtros"})]}),x.jsx(NE,{pet:h,isOpen:v,onClose:z,onAction:M}),x.jsx(AE,{isOpen:S,onClose:q,onSubmit:B,onError:J})]})},xP=({onToast:t})=>{const[e,n]=O.useState({species:["Perros"],age:[],energy:"Medio",searchTerm:""}),[i,s]=O.useState(null),[a,l]=O.useState(!1),c=O.useMemo(()=>{let w=Wb;if(e.species.length>0){const C={Perros:"dog",Gatos:"cat",Aves:"bird"},A=e.species.map(N=>C[N]).filter(Boolean);w=w.filter(N=>A.includes(N.species))}if(e.age.length>0&&(w=w.filter(C=>{if(!C.age)return!1;const A=C.age.toLowerCase();return e.age.some(N=>{switch(N){case"Cachorro":return A.includes("ao")&&parseInt(A)<=2||A.includes("mes");case"Joven":return A.includes("ao")&&parseInt(A)>2&&parseInt(A)<=5;case"Adulto":return A.includes("ao")&&parseInt(A)>5&&parseInt(A)<=10;case"Senior":return A.includes("ao")&&parseInt(A)>10;default:return!1}})})),e.searchTerm){const C=e.searchTerm.toLowerCase();w=w.filter(A=>{var N;return A.name.toLowerCase().includes(C)||A.breed.toLowerCase().includes(C)||((N=A.description)==null?void 0:N.toLowerCase().includes(C))})}return w},[e]),f=(w,C)=>{switch(C){case"view":s(w),l(!0);break;case"adopt":t(`Solicitud de adopcin para ${w.name} enviada. Te contactaremos pronto.`,"success");break;default:console.log("Accin:",C,"para:",w.name)}},h=w=>{s(w),l(!0)},m=()=>{l(!1),s(null)},v=()=>{n({species:["Perros"],age:[],energy:"Medio",searchTerm:""})},b=w=>{n(C=>({...C,species:C.species.includes(w)?C.species.filter(A=>A!==w):[...C.species,w]}))},S=w=>{n(C=>({...C,age:C.age.includes(w)?C.age.filter(A=>A!==w):[...C.age,w]}))},E=e.species.length!==1||e.age.length>0||e.searchTerm;return x.jsxs("div",{className:"flex flex-col gap-10",children:[x.jsxs("div",{className:"max-w-3xl",children:[x.jsx("h1",{className:"text-5xl font-black tracking-tight mb-4",children:"Encuentra a tu mejor amigo"}),x.jsxs("p",{className:"text-xl text-accent-teal font-display italic",children:["Descubre mascotas amorosas listas para un hogar definitivo. Cada adopcin salva una vida.",c.length!==Wb.length&&x.jsxs("span",{className:"ml-2 text-sm",children:["(",c.length," resultados)"]})]})]}),x.jsxs("div",{className:"grid grid-cols-12 gap-10",children:[x.jsx("aside",{className:"col-span-12 lg:col-span-3",children:x.jsxs("div",{className:"bg-white dark:bg-white/5 p-8 rounded-3xl border border-accent-teal/5 sticky top-24",children:[x.jsxs("div",{className:"flex justify-between items-center mb-8",children:[x.jsx("h3",{className:"text-xl font-bold",children:"Filtros"}),E&&x.jsx("button",{onClick:v,className:"text-xs font-bold text-primary hover:underline",children:"LIMPIAR"})]}),x.jsx("div",{className:"mb-8",children:x.jsxs("div",{className:"relative",children:[x.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-accent-teal text-xl",children:"search"}),x.jsx("input",{type:"text",placeholder:"Buscar por nombre, raza...",className:"w-full pl-10 pr-4 py-3 bg-white dark:bg-white/10 border border-accent-teal/10 rounded-xl focus:ring-2 focus:ring-primary text-sm",value:e.searchTerm,onChange:w=>n({...e,searchTerm:w.target.value})})]})}),x.jsxs("div",{className:"space-y-8",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs font-black text-accent-teal uppercase tracking-widest mb-4",children:"Especie"}),x.jsx("div",{className:"flex flex-wrap gap-2",children:["Perros","Gatos","Aves"].map(w=>x.jsx("button",{onClick:()=>b(w),className:`px-4 py-2 rounded-full text-xs font-bold transition-all ${e.species.includes(w)?"bg-primary text-background-dark":"bg-accent-teal/5 text-accent-teal hover:bg-accent-teal/10"}`,children:w},w))})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs font-black text-accent-teal uppercase tracking-widest mb-4",children:"Edad"}),x.jsx("div",{className:"space-y-3",children:["Cachorro","Joven","Adulto","Senior"].map(w=>x.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[x.jsx("input",{type:"checkbox",checked:e.age.includes(w),onChange:()=>S(w),className:"rounded text-primary focus:ring-primary border-accent-teal/20"}),x.jsx("span",{className:"text-sm font-medium group-hover:text-primary transition-colors",children:w})]},w))})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs font-black text-accent-teal uppercase tracking-widest mb-4",children:"Energa"}),x.jsx("div",{className:"grid grid-cols-3 gap-2",children:["Bajo","Medio","Alto"].map(w=>x.jsx("button",{onClick:()=>n({...e,energy:w}),className:`py-2 rounded-xl text-[10px] font-black uppercase tracking-tighter transition-all ${e.energy===w?"bg-primary text-background-dark":"bg-accent-teal/5 text-accent-teal hover:bg-accent-teal/10"}`,children:w},w))})]})]}),x.jsxs("button",{className:"w-full mt-10 bg-primary text-background-dark py-4 rounded-2xl font-black shadow-lg shadow-primary/20 hover:scale-[1.02] transition-all",children:[c.length," Mascotas"]})]})}),x.jsxs("div",{className:"col-span-12 lg:col-span-9",children:[x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8",children:c.map(w=>x.jsx(RE,{pet:w,onAction:f,onViewDetails:h},w.id))}),c.length===0&&x.jsxs("div",{className:"bg-white dark:bg-white/5 rounded-3xl border border-accent-teal/5 p-12 text-center mt-8",children:[x.jsx("span",{className:"material-symbols-outlined text-6xl text-accent-teal mb-4",children:"pets"}),x.jsx("h3",{className:"text-2xl font-bold mb-2",children:"No encontramos mascotas con esos filtros"}),x.jsx("p",{className:"text-accent-teal mb-6",children:"Intenta ajustar los filtros para ver ms opciones"}),x.jsx("button",{onClick:v,className:"bg-primary text-background-dark px-8 py-3 rounded-xl font-bold hover:opacity-90 transition-all",children:"Limpiar filtros"})]}),x.jsx("div",{className:"mt-16 p-12 bg-accent-teal/5 rounded-[2.5rem] border border-accent-teal/10 relative overflow-hidden",children:x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-4xl font-black mb-6",children:"Gua de Adopcin Responsable"}),x.jsx("p",{className:"text-accent-teal mb-8 leading-relaxed",children:"Adoptar es un compromiso de por vida. Te ayudamos a preparar tu hogar y corazn para la llegada de tu nuevo integrante."}),x.jsx("div",{className:"space-y-4",children:["Evaluacin de estilo de vida","Cuidado veterinario inicial","Adaptacin y socializacin"].map(w=>x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("span",{className:"material-symbols-outlined text-primary bg-white dark:bg-white/10 p-2 rounded-xl",children:"check_circle"}),x.jsx("span",{className:"font-bold",children:w})]},w))}),x.jsx("button",{className:"mt-10 bg-white dark:bg-white/10 text-primary px-8 py-4 rounded-2xl font-bold border border-primary/20 hover:bg-primary hover:text-white transition-all",children:"Ver gua completa"})]}),x.jsx("div",{className:"relative",children:x.jsx("img",{src:"https://images.unsplash.com/photo-1554692998-192502d4a49c?q=80&w=600&auto=format&fit=crop",className:"rounded-3xl shadow-2xl rotate-3",alt:"Happy Dog"})})]})}),x.jsx(NE,{pet:i,isOpen:a,onClose:m,onAction:f})]})]})]})};var SP={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let wP,TP;function EP(){return{geminiUrl:wP,vertexUrl:TP}}function CP(t,e,n,i){var s,a;if(!(t!=null&&t.baseUrl)){const l=EP();return e?(s=l.vertexUrl)!==null&&s!==void 0?s:n:(a=l.geminiUrl)!==null&&a!==void 0?a:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ps{}function le(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const a=e[s];return a!=null?String(a):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function g(t,e,n){for(let a=0;a<e.length-1;a++){const l=e[a];if(l.endsWith("[]")){const c=l.slice(0,-2);if(!(c in t))if(Array.isArray(n))t[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[c])){const f=t[c];if(Array.isArray(n))for(let h=0;h<f.length;h++){const m=f[h];g(m,e.slice(a+1),n[h])}else for(const h of f)g(h,e.slice(a+1),n)}return}else if(l.endsWith("[0]")){const c=l.slice(0,-3);c in t||(t[c]=[{}]);const f=t[c];g(f[0],e.slice(a+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const i=e[e.length-1],s=t[i];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[i]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return n;const s=e[i];if(s.endsWith("[]")){const a=s.slice(0,-2);if(a in t){const l=t[a];return Array.isArray(l)?l.map(c=>p(c,e.slice(i+1),n)):n}else return n}else t=t[s]}return t}catch(i){if(i instanceof TypeError)return n;throw i}}function AP(t,e){for(const[n,i]of Object.entries(e)){const s=n.split("."),a=i.split("."),l=new Set;let c=-1;for(let f=0;f<s.length;f++)if(s[f]==="*"){c=f;break}if(c!==-1&&a.length>c)for(let f=c;f<a.length;f++){const h=a[f];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&l.add(h)}vg(t,s,a,0,l)}}function vg(t,e,n,i,s){if(i>=e.length||typeof t!="object"||t===null)return;const a=e[i];if(a.endsWith("[]")){const l=a.slice(0,-2),c=t;if(l in c&&Array.isArray(c[l]))for(const f of c[l])vg(f,e,n,i+1,s)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,c=Object.keys(l).filter(h=>!h.startsWith("_")&&!s.has(h)),f={};for(const h of c)f[h]=l[h];for(const[h,m]of Object.entries(f)){const v=[];for(const b of n.slice(i))b==="*"?v.push(h):v.push(b);g(l,v,m)}for(const h of c)delete l[h]}}else{const l=t;a in l&&vg(l[a],e,n,i+1,s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yy(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RP(t){const e={},n=p(t,["operationName"]);n!=null&&g(e,["operationName"],n);const i=p(t,["resourceName"]);return i!=null&&g(e,["_url","resourceName"],i),e}function NP(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["metadata"]);i!=null&&g(e,["metadata"],i);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const l=p(t,["response","generateVideoResponse"]);return l!=null&&g(e,["response"],MP(l)),e}function kP(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["metadata"]);i!=null&&g(e,["metadata"],i);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const l=p(t,["response"]);return l!=null&&g(e,["response"],IP(l)),e}function MP(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>DP(l))),g(e,["generatedVideos"],a)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&g(e,["raiMediaFilteredCount"],i);const s=p(t,["raiMediaFilteredReasons"]);return s!=null&&g(e,["raiMediaFilteredReasons"],s),e}function IP(t){const e={},n=p(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>PP(l))),g(e,["generatedVideos"],a)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&g(e,["raiMediaFilteredCount"],i);const s=p(t,["raiMediaFilteredReasons"]);return s!=null&&g(e,["raiMediaFilteredReasons"],s),e}function DP(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],GP(n)),e}function PP(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],zP(n)),e}function UP(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function OP(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function LP(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["metadata"]);i!=null&&g(e,["metadata"],i);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const l=p(t,["response"]);return l!=null&&g(e,["response"],qP(l)),e}function qP(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["parent"]);i!=null&&g(e,["parent"],i);const s=p(t,["documentName"]);return s!=null&&g(e,["documentName"],s),e}function kE(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["metadata"]);i!=null&&g(e,["metadata"],i);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const l=p(t,["response"]);return l!=null&&g(e,["response"],BP(l)),e}function BP(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["parent"]);i!=null&&g(e,["parent"],i);const s=p(t,["documentName"]);return s!=null&&g(e,["documentName"],s),e}function GP(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const i=p(t,["encodedVideo"]);i!=null&&g(e,["videoBytes"],yy(i));const s=p(t,["encoding"]);return s!=null&&g(e,["mimeType"],s),e}function zP(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const i=p(t,["bytesBase64Encoded"]);i!=null&&g(e,["videoBytes"],yy(i));const s=p(t,["mimeType"]);return s!=null&&g(e,["mimeType"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var qx;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(qx||(qx={}));var Bx;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Bx||(Bx={}));var Gx;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Gx||(Gx={}));var Ks;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ks||(Ks={}));var zx;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(zx||(zx={}));var Hx;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Hx||(Hx={}));var Vx;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Vx||(Vx={}));var Fx;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Fx||(Fx={}));var $x;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})($x||($x={}));var jx;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(jx||(jx={}));var Jx;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Jx||(Jx={}));var Yx;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Yx||(Yx={}));var Kx;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Kx||(Kx={}));var Xx;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Xx||(Xx={}));var Wx;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Wx||(Wx={}));var Qx;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Qx||(Qx={}));var Zx;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Zx||(Zx={}));var eS;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(eS||(eS={}));var tS;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(tS||(tS={}));var nS;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(nS||(nS={}));var iS;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(iS||(iS={}));var Ef;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Ef||(Ef={}));var rS;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(rS||(rS={}));var sS;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(sS||(sS={}));var oS;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(oS||(oS={}));var _g;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(_g||(_g={}));var aS;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(aS||(aS={}));var lS;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(lS||(lS={}));var bg;(function(t){t.COLLECTION="COLLECTION"})(bg||(bg={}));var uS;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(uS||(uS={}));var cS;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(cS||(cS={}));var dS;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(dS||(dS={}));var fS;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(fS||(fS={}));var hS;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(hS||(hS={}));var pS;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(pS||(pS={}));var mS;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(mS||(mS={}));var gS;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(gS||(gS={}));var yS;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(yS||(yS={}));var vS;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(vS||(vS={}));var _S;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(_S||(_S={}));var bS;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(bS||(bS={}));var xS;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(xS||(xS={}));var SS;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(SS||(SS={}));var wS;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(wS||(wS={}));var TS;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(TS||(TS={}));var ES;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(ES||(ES={}));var CS;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(CS||(CS={}));var AS;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(AS||(AS={}));var RS;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(RS||(RS={}));var NS;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(NS||(NS={}));var kS;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(kS||(kS={}));var MS;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(MS||(MS={}));var IS;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(IS||(IS={}));var DS;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(DS||(DS={}));var PS;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(PS||(PS={}));var US;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(US||(US={}));var Wa;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Wa||(Wa={}));class xg{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class gu{get text(){var e,n,i,s,a,l,c,f;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",m=!1;const v=[];for(const b of(f=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[S,E]of Object.entries(b))S!=="text"&&S!=="thought"&&S!=="thoughtSignature"&&(E!==null||E!==void 0)&&v.push(S);if(typeof b.text=="string"){if(typeof b.thought=="boolean"&&b.thought)continue;m=!0,h+=b.text}}return v.length>0&&console.warn(`there are non-text parts ${v} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),m?h:void 0}get data(){var e,n,i,s,a,l,c,f;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const m=[];for(const v of(f=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[b,S]of Object.entries(v))b!=="inlineData"&&(S!==null||S!==void 0)&&m.push(b);v.inlineData&&typeof v.inlineData.data=="string"&&(h+=atob(v.inlineData.data))}return m.length>0&&console.warn(`there are non-data parts ${m} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,n,i,s,a,l,c,f;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(f=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(m=>m.functionCall).map(m=>m.functionCall).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,n,i,s,a,l,c,f,h;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const m=(f=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(v=>v.executableCode).map(v=>v.executableCode).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return(h=m==null?void 0:m[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,n,i,s,a,l,c,f,h;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const m=(f=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(v=>v.codeExecutionResult).map(v=>v.codeExecutionResult).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return(h=m==null?void 0:m[0])===null||h===void 0?void 0:h.output}}class OS{}class LS{}class HP{}class VP{}class FP{}class $P{}class qS{}class BS{}class GS{}class jP{}class Cf{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Cf;let s;const a=e;return n?s=kP(a):s=NP(a),Object.assign(i,s),i}}class zS{}class HS{}class VS{}class FS{}class JP{}class YP{}class KP{}class vy{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new vy,a=LP(e);return Object.assign(i,a),i}}class XP{}class WP{}class QP{}class $S{}class ZP{get text(){var e,n,i;let s="",a=!1;const l=[];for(const c of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[f,h]of Object.entries(c))f!=="text"&&f!=="thought"&&h!==null&&l.push(f);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;a=!0,s+=c.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?s:void 0}get data(){var e,n,i;let s="";const a=[];for(const l of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[c,f]of Object.entries(l))c!=="inlineData"&&f!==null&&a.push(c);l.inlineData&&typeof l.inlineData.data=="string"&&(s+=atob(l.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class eU{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class _y{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new _y,a=kE(e);return Object.assign(i,a),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ze(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function ME(t,e){const n=Ze(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function IE(t){return Array.isArray(t)?t.map(e=>Af(e)):[Af(t)]}function Af(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function DE(t){const e=Af(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function PE(t){const e=Af(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function jS(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function UE(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>jS(e)):[jS(t)]}function Sg(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function JS(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function YS(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Dn(t){if(t==null)throw new Error("ContentUnion is required");return Sg(t)?t:{role:"user",parts:UE(t)}}function by(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=Dn(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=Dn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Dn(n)):[Dn(e)]}function tr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(JS(t)||YS(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Dn(t)]}const e=[],n=[],i=Sg(t[0]);for(const s of t){const a=Sg(s);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(s);else{if(JS(s)||YS(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(s)}}return i||e.push({role:"user",parts:UE(n)}),e}function tU(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(Ks).includes(n[0].toUpperCase())?n[0].toUpperCase():Ks.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(Ks).includes(i.toUpperCase())?i.toUpperCase():Ks.TYPE_UNSPECIFIED})}}function ol(t){const e={},n=["items"],i=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&tU(t.type,e);for(const[l,c]of Object.entries(t))if(c!=null)if(l=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(Ks).includes(c.toUpperCase())?c.toUpperCase():Ks.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=ol(c);else if(i.includes(l)){const f=[];for(const h of c){if(h.type=="null"){e.nullable=!0;continue}f.push(ol(h))}e[l]=f}else if(s.includes(l)){const f={};for(const[h,m]of Object.entries(c))f[h]=ol(m);e[l]=f}else{if(l==="additionalProperties")continue;e[l]=c}return e}function xy(t){return ol(t)}function Sy(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function wy(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function _l(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ol(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ol(e.response));return t}function bl(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function nU(t,e,n,i=1){const s=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:s?`${n}/${e}`:e}function ms(t,e){if(typeof e!="string")throw new Error("name must be a string");return nU(t,e,"cachedContents")}function OE(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ro(t){return yy(t)}function iU(t){return t!=null&&typeof t=="object"&&"name"in t}function rU(t){return t!=null&&typeof t=="object"&&"video"in t}function sU(t){return t!=null&&typeof t=="object"&&"uri"in t}function LE(t){var e;let n;if(iU(t)&&(n=t.name),!(sU(t)&&(n=t.uri,n===void 0))&&!(rU(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const s=n.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${n}`);n=s[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function qE(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function BE(t){for(const e of["models","tunedModels","publisherModels"])if(oU(t,e))return t[e];return[]}function oU(t,e){return t!==null&&typeof t=="object"&&e in t}function aU(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function lU(t,e={}){const n=[],i=new Set;for(const s of t){const a=s.name;if(i.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);i.add(a);const l=aU(s,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function GE(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,s=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(s>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||s!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function uU(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function zE(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const s=n.inlinedResponses;if(!Array.isArray(s)||s.length===0)return t;let a=!1;for(const l of s){if(typeof l!="object"||l===null)continue;const f=l.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function xl(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function HE(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cU(t){const e={},n=p(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const i=p(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>FU(l))),g(e,["inlinedResponses"],a)}const s=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),g(e,["inlinedEmbedContentResponses"],a)}return e}function dU(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const i=p(t,["gcsDestination","outputUriPrefix"]);i!=null&&g(e,["gcsUri"],i);const s=p(t,["bigqueryDestination","outputUri"]);return s!=null&&g(e,["bigqueryUri"],s),e}function fU(t){const e={},n=p(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const i=p(t,["gcsUri"]);i!=null&&g(e,["gcsDestination","outputUriPrefix"],i);const s=p(t,["bigqueryUri"]);if(s!=null&&g(e,["bigqueryDestination","outputUri"],s),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function lf(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["metadata","displayName"]);i!=null&&g(e,["displayName"],i);const s=p(t,["metadata","state"]);s!=null&&g(e,["state"],HE(s));const a=p(t,["metadata","createTime"]);a!=null&&g(e,["createTime"],a);const l=p(t,["metadata","endTime"]);l!=null&&g(e,["endTime"],l);const c=p(t,["metadata","updateTime"]);c!=null&&g(e,["updateTime"],c);const f=p(t,["metadata","model"]);f!=null&&g(e,["model"],f);const h=p(t,["metadata","output"]);return h!=null&&g(e,["dest"],cU(zE(h))),e}function wg(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["displayName"]);i!=null&&g(e,["displayName"],i);const s=p(t,["state"]);s!=null&&g(e,["state"],HE(s));const a=p(t,["error"]);a!=null&&g(e,["error"],a);const l=p(t,["createTime"]);l!=null&&g(e,["createTime"],l);const c=p(t,["startTime"]);c!=null&&g(e,["startTime"],c);const f=p(t,["endTime"]);f!=null&&g(e,["endTime"],f);const h=p(t,["updateTime"]);h!=null&&g(e,["updateTime"],h);const m=p(t,["model"]);m!=null&&g(e,["model"],m);const v=p(t,["inputConfig"]);v!=null&&g(e,["src"],hU(v));const b=p(t,["outputConfig"]);b!=null&&g(e,["dest"],dU(zE(b)));const S=p(t,["completionStats"]);return S!=null&&g(e,["completionStats"],S),e}function hU(t){const e={},n=p(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const i=p(t,["gcsSource","uris"]);i!=null&&g(e,["gcsUri"],i);const s=p(t,["bigquerySource","inputUri"]);return s!=null&&g(e,["bigqueryUri"],s),e}function pU(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=p(e,["fileName"]);i!=null&&g(n,["fileName"],i);const s=p(e,["inlinedRequests"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>VU(t,l))),g(n,["requests","requests"],a)}return n}function mU(t){const e={},n=p(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const i=p(t,["gcsUri"]);i!=null&&g(e,["gcsSource","uris"],i);const s=p(t,["bigqueryUri"]);if(s!=null&&g(e,["bigquerySource","inputUri"],s),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function gU(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function yU(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],xl(t,i)),n}function vU(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],xl(t,i)),n}function _U(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const i=p(t,["citationMetadata"]);i!=null&&g(e,["citationMetadata"],bU(i));const s=p(t,["tokenCount"]);s!=null&&g(e,["tokenCount"],s);const a=p(t,["finishReason"]);a!=null&&g(e,["finishReason"],a);const l=p(t,["avgLogprobs"]);l!=null&&g(e,["avgLogprobs"],l);const c=p(t,["groundingMetadata"]);c!=null&&g(e,["groundingMetadata"],c);const f=p(t,["index"]);f!=null&&g(e,["index"],f);const h=p(t,["logprobsResult"]);h!=null&&g(e,["logprobsResult"],h);const m=p(t,["safetyRatings"]);if(m!=null){let b=m;Array.isArray(b)&&(b=b.map(S=>S)),g(e,["safetyRatings"],b)}const v=p(t,["urlContextMetadata"]);return v!=null&&g(e,["urlContextMetadata"],v),e}function bU(t){const e={},n=p(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),g(e,["citations"],i)}return e}function VE(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>WU(a))),g(e,["parts"],s)}const i=p(t,["role"]);return i!=null&&g(e,["role"],i),e}function xU(t,e){const n={},i=p(t,["displayName"]);if(e!==void 0&&i!=null&&g(e,["batch","displayName"],i),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function SU(t,e){const n={},i=p(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const s=p(t,["dest"]);return e!==void 0&&s!=null&&g(e,["outputConfig"],fU(uU(s))),n}function KS(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ze(t,i));const s=p(e,["src"]);s!=null&&g(n,["batch","inputConfig"],pU(t,GE(t,s)));const a=p(e,["config"]);return a!=null&&xU(a,n),n}function wU(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["model"],Ze(t,i));const s=p(e,["src"]);s!=null&&g(n,["inputConfig"],mU(GE(t,s)));const a=p(e,["config"]);return a!=null&&SU(a,n),n}function TU(t,e){const n={},i=p(t,["displayName"]);return e!==void 0&&i!=null&&g(e,["batch","displayName"],i),n}function EU(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ze(t,i));const s=p(e,["src"]);s!=null&&g(n,["batch","inputConfig"],IU(t,s));const a=p(e,["config"]);return a!=null&&TU(a,n),n}function CU(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],xl(t,i)),n}function AU(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],xl(t,i)),n}function RU(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["name"]);i!=null&&g(e,["name"],i);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const a=p(t,["error"]);return a!=null&&g(e,["error"],a),e}function NU(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["name"]);i!=null&&g(e,["name"],i);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const a=p(t,["error"]);return a!=null&&g(e,["error"],a),e}function kU(t,e){const n={},i=p(e,["contents"]);if(i!=null){let a=by(t,i);Array.isArray(a)&&(a=a.map(l=>l)),g(n,["requests[]","request","content"],a)}const s=p(e,["config"]);return s!=null&&(g(n,["_self"],MU(s,n)),AP(n,{"requests[].*":"requests[].request.*"})),n}function MU(t,e){const n={},i=p(t,["taskType"]);e!==void 0&&i!=null&&g(e,["requests[]","taskType"],i);const s=p(t,["title"]);e!==void 0&&s!=null&&g(e,["requests[]","title"],s);const a=p(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&g(e,["requests[]","outputDimensionality"],a),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function IU(t,e){const n={},i=p(e,["fileName"]);i!=null&&g(n,["file_name"],i);const s=p(e,["inlinedRequests"]);return s!=null&&g(n,["requests"],kU(t,s)),n}function DU(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function PU(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const i=p(t,["args"]);i!=null&&g(e,["args"],i);const s=p(t,["name"]);if(s!=null&&g(e,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function UU(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const i=p(t,["mode"]);if(i!=null&&g(e,["mode"],i),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function OU(t,e,n){const i={},s=p(e,["systemInstruction"]);n!==void 0&&s!=null&&g(n,["systemInstruction"],VE(Dn(s)));const a=p(e,["temperature"]);a!=null&&g(i,["temperature"],a);const l=p(e,["topP"]);l!=null&&g(i,["topP"],l);const c=p(e,["topK"]);c!=null&&g(i,["topK"],c);const f=p(e,["candidateCount"]);f!=null&&g(i,["candidateCount"],f);const h=p(e,["maxOutputTokens"]);h!=null&&g(i,["maxOutputTokens"],h);const m=p(e,["stopSequences"]);m!=null&&g(i,["stopSequences"],m);const v=p(e,["responseLogprobs"]);v!=null&&g(i,["responseLogprobs"],v);const b=p(e,["logprobs"]);b!=null&&g(i,["logprobs"],b);const S=p(e,["presencePenalty"]);S!=null&&g(i,["presencePenalty"],S);const E=p(e,["frequencyPenalty"]);E!=null&&g(i,["frequencyPenalty"],E);const w=p(e,["seed"]);w!=null&&g(i,["seed"],w);const C=p(e,["responseMimeType"]);C!=null&&g(i,["responseMimeType"],C);const A=p(e,["responseSchema"]);A!=null&&g(i,["responseSchema"],xy(A));const N=p(e,["responseJsonSchema"]);if(N!=null&&g(i,["responseJsonSchema"],N),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=p(e,["safetySettings"]);if(n!==void 0&&k!=null){let ie=k;Array.isArray(ie)&&(ie=ie.map(de=>QU(de))),g(n,["safetySettings"],ie)}const M=p(e,["tools"]);if(n!==void 0&&M!=null){let ie=bl(M);Array.isArray(ie)&&(ie=ie.map(de=>e2(_l(de)))),g(n,["tools"],ie)}const U=p(e,["toolConfig"]);if(n!==void 0&&U!=null&&g(n,["toolConfig"],ZU(U)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const z=p(e,["cachedContent"]);n!==void 0&&z!=null&&g(n,["cachedContent"],ms(t,z));const I=p(e,["responseModalities"]);I!=null&&g(i,["responseModalities"],I);const q=p(e,["mediaResolution"]);q!=null&&g(i,["mediaResolution"],q);const B=p(e,["speechConfig"]);if(B!=null&&g(i,["speechConfig"],Sy(B)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const J=p(e,["thinkingConfig"]);J!=null&&g(i,["thinkingConfig"],J);const te=p(e,["imageConfig"]);te!=null&&g(i,["imageConfig"],HU(te));const Z=p(e,["enableEnhancedCivicAnswers"]);if(Z!=null&&g(i,["enableEnhancedCivicAnswers"],Z),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function LU(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>_U(h))),g(e,["candidates"],f)}const s=p(t,["modelVersion"]);s!=null&&g(e,["modelVersion"],s);const a=p(t,["promptFeedback"]);a!=null&&g(e,["promptFeedback"],a);const l=p(t,["responseId"]);l!=null&&g(e,["responseId"],l);const c=p(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function qU(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],xl(t,i)),n}function BU(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],xl(t,i)),n}function GU(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function zU(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function HU(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const i=p(t,["imageSize"]);if(i!=null&&g(e,["imageSize"],i),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function VU(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["request","model"],Ze(t,i));const s=p(e,["contents"]);if(s!=null){let c=tr(s);Array.isArray(c)&&(c=c.map(f=>VE(f))),g(n,["request","contents"],c)}const a=p(e,["metadata"]);a!=null&&g(n,["metadata"],a);const l=p(e,["config"]);return l!=null&&g(n,["request","generationConfig"],OU(t,l,p(n,["request"],{}))),n}function FU(t){const e={},n=p(t,["response"]);n!=null&&g(e,["response"],LU(n));const i=p(t,["error"]);return i!=null&&g(e,["error"],i),e}function $U(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const s=p(t,["pageToken"]);if(e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function jU(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const s=p(t,["pageToken"]);e!==void 0&&s!=null&&g(e,["_query","pageToken"],s);const a=p(t,["filter"]);return e!==void 0&&a!=null&&g(e,["_query","filter"],a),n}function JU(t){const e={},n=p(t,["config"]);return n!=null&&$U(n,e),e}function YU(t){const e={},n=p(t,["config"]);return n!=null&&jU(n,e),e}function KU(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const s=p(t,["operations"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>lf(l))),g(e,["batchJobs"],a)}return e}function XU(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const s=p(t,["batchPredictionJobs"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>wg(l))),g(e,["batchJobs"],a)}return e}function WU(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const i=p(t,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const s=p(t,["executableCode"]);s!=null&&g(e,["executableCode"],s);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],DU(a));const l=p(t,["functionCall"]);l!=null&&g(e,["functionCall"],PU(l));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const f=p(t,["inlineData"]);f!=null&&g(e,["inlineData"],gU(f));const h=p(t,["text"]);h!=null&&g(e,["text"],h);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const v=p(t,["thoughtSignature"]);v!=null&&g(e,["thoughtSignature"],v);const b=p(t,["videoMetadata"]);return b!=null&&g(e,["videoMetadata"],b),e}function QU(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=p(t,["threshold"]);return i!=null&&g(e,["threshold"],i),e}function ZU(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const i=p(t,["functionCallingConfig"]);return i!=null&&g(e,["functionCallingConfig"],UU(i)),e}function e2(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const i=p(t,["fileSearch"]);i!=null&&g(e,["fileSearch"],i);const s=p(t,["codeExecution"]);if(s!=null&&g(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=p(t,["functionDeclarations"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(v=>v)),g(e,["functionDeclarations"],m)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],GU(l));const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],zU(c));const f=p(t,["googleSearchRetrieval"]);f!=null&&g(e,["googleSearchRetrieval"],f);const h=p(t,["urlContext"]);return h!=null&&g(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var fs;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(fs||(fs={}));class Wo{constructor(e,n,i,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,s)}init(e,n,i){var s,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!i||Object.keys(i).length===0?l={config:{}}:typeof i=="object"?l=Object.assign({},i):l=i,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(a=(s=l.config)===null||s===void 0?void 0:s.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class t2 extends ps{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Wo(fs.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=KS(this.apiClient,e),i=n._url,s=le("{model}:batchGenerateContent",i),c=n.batch.inputConfig.requests,f=c.requests,h=[];for(const m of f){const v=Object.assign({},m);if(v.systemInstruction){const b=v.systemInstruction;delete v.systemInstruction;const S=v.request;S.systemInstruction=b,v.request=S}h.push(v)}return c.requests=h,delete n.config,delete n._url,delete n._query,{path:s,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const i=n?Object.assign({},n):{},s=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${s}`),i.dest===void 0){const a=this.getGcsUri(e),l=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?i.dest=`${a.slice(0,-6)}/dest`:i.dest=`${a}_dest_${s}`;else if(l)i.dest=`${l}_dest_${s}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var n,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=wU(this.apiClient,e);return c=le("batchPredictionJobs",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>wg(m))}else{const h=KS(this.apiClient,e);return c=le("{model}:batchGenerateContent",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l.then(m=>lf(m))}}async createEmbeddingsInternal(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=EU(this.apiClient,e);return a=le("{model}:asyncBatchEmbedContent",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>lf(f))}}async get(e){var n,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=BU(this.apiClient,e);return c=le("batchPredictionJobs/{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>wg(m))}else{const h=qU(this.apiClient,e);return c=le("batches/{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l.then(m=>lf(m))}}async cancel(e){var n,i,s,a;let l="",c={};if(this.apiClient.isVertexAI()){const f=vU(this.apiClient,e);l=le("batchPredictionJobs/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const f=yU(this.apiClient,e);l=le("batches/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=YU(e);return c=le("batchPredictionJobs",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const v=XU(m),b=new $S;return Object.assign(b,v),b})}else{const h=JU(e);return c=le("batches",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const v=KU(m),b=new $S;return Object.assign(b,v),b})}}async delete(e){var n,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=AU(this.apiClient,e);return c=le("batchPredictionJobs/{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>NU(m))}else{const h=CU(this.apiClient,e);return c=le("batches/{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>RU(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n2(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function XS(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>E2(a))),g(e,["parts"],s)}const i=p(t,["role"]);return i!=null&&g(e,["role"],i),e}function i2(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&g(e,["ttl"],i);const s=p(t,["expireTime"]);e!==void 0&&s!=null&&g(e,["expireTime"],s);const a=p(t,["displayName"]);e!==void 0&&a!=null&&g(e,["displayName"],a);const l=p(t,["contents"]);if(e!==void 0&&l!=null){let m=tr(l);Array.isArray(m)&&(m=m.map(v=>XS(v))),g(e,["contents"],m)}const c=p(t,["systemInstruction"]);e!==void 0&&c!=null&&g(e,["systemInstruction"],XS(Dn(c)));const f=p(t,["tools"]);if(e!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(v=>A2(v))),g(e,["tools"],m)}const h=p(t,["toolConfig"]);if(e!==void 0&&h!=null&&g(e,["toolConfig"],C2(h)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function r2(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&g(e,["ttl"],i);const s=p(t,["expireTime"]);e!==void 0&&s!=null&&g(e,["expireTime"],s);const a=p(t,["displayName"]);e!==void 0&&a!=null&&g(e,["displayName"],a);const l=p(t,["contents"]);if(e!==void 0&&l!=null){let v=tr(l);Array.isArray(v)&&(v=v.map(b=>b)),g(e,["contents"],v)}const c=p(t,["systemInstruction"]);e!==void 0&&c!=null&&g(e,["systemInstruction"],Dn(c));const f=p(t,["tools"]);if(e!==void 0&&f!=null){let v=f;Array.isArray(v)&&(v=v.map(b=>R2(b))),g(e,["tools"],v)}const h=p(t,["toolConfig"]);e!==void 0&&h!=null&&g(e,["toolConfig"],h);const m=p(t,["kmsKeyName"]);return e!==void 0&&m!=null&&g(e,["encryption_spec","kmsKeyName"],m),n}function s2(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["model"],ME(t,i));const s=p(e,["config"]);return s!=null&&i2(s,n),n}function o2(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["model"],ME(t,i));const s=p(e,["config"]);return s!=null&&r2(s,n),n}function a2(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],ms(t,i)),n}function l2(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],ms(t,i)),n}function u2(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function c2(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function d2(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function f2(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const i=p(t,["args"]);i!=null&&g(e,["args"],i);const s=p(t,["name"]);if(s!=null&&g(e,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function h2(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const i=p(t,["mode"]);if(i!=null&&g(e,["mode"],i),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function p2(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const i=p(t,["name"]);i!=null&&g(e,["name"],i);const s=p(t,["parameters"]);s!=null&&g(e,["parameters"],s);const a=p(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const l=p(t,["response"]);l!=null&&g(e,["response"],l);const c=p(t,["responseJsonSchema"]);if(c!=null&&g(e,["responseJsonSchema"],c),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function m2(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],ms(t,i)),n}function g2(t,e){const n={},i=p(e,["name"]);return i!=null&&g(n,["_url","name"],ms(t,i)),n}function y2(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function v2(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function _2(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function b2(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function x2(t){const e={},n=p(t,["config"]);return n!=null&&_2(n,e),e}function S2(t){const e={},n=p(t,["config"]);return n!=null&&b2(n,e),e}function w2(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const s=p(t,["cachedContents"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),g(e,["cachedContents"],a)}return e}function T2(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const s=p(t,["cachedContents"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),g(e,["cachedContents"],a)}return e}function E2(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const i=p(t,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const s=p(t,["executableCode"]);s!=null&&g(e,["executableCode"],s);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],d2(a));const l=p(t,["functionCall"]);l!=null&&g(e,["functionCall"],f2(l));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const f=p(t,["inlineData"]);f!=null&&g(e,["inlineData"],n2(f));const h=p(t,["text"]);h!=null&&g(e,["text"],h);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const v=p(t,["thoughtSignature"]);v!=null&&g(e,["thoughtSignature"],v);const b=p(t,["videoMetadata"]);return b!=null&&g(e,["videoMetadata"],b),e}function C2(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const i=p(t,["functionCallingConfig"]);return i!=null&&g(e,["functionCallingConfig"],h2(i)),e}function A2(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const i=p(t,["fileSearch"]);i!=null&&g(e,["fileSearch"],i);const s=p(t,["codeExecution"]);if(s!=null&&g(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=p(t,["functionDeclarations"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(v=>v)),g(e,["functionDeclarations"],m)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],y2(l));const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],v2(c));const f=p(t,["googleSearchRetrieval"]);f!=null&&g(e,["googleSearchRetrieval"],f);const h=p(t,["urlContext"]);return h!=null&&g(e,["urlContext"],h),e}function R2(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const i=p(t,["computerUse"]);if(i!=null&&g(e,["computerUse"],i),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=p(t,["codeExecution"]);s!=null&&g(e,["codeExecution"],s);const a=p(t,["enterpriseWebSearch"]);a!=null&&g(e,["enterpriseWebSearch"],a);const l=p(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(b=>p2(b))),g(e,["functionDeclarations"],v)}const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],c);const f=p(t,["googleSearch"]);f!=null&&g(e,["googleSearch"],f);const h=p(t,["googleSearchRetrieval"]);h!=null&&g(e,["googleSearchRetrieval"],h);const m=p(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function N2(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&g(e,["ttl"],i);const s=p(t,["expireTime"]);return e!==void 0&&s!=null&&g(e,["expireTime"],s),n}function k2(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&g(e,["ttl"],i);const s=p(t,["expireTime"]);return e!==void 0&&s!=null&&g(e,["expireTime"],s),n}function M2(t,e){const n={},i=p(e,["name"]);i!=null&&g(n,["_url","name"],ms(t,i));const s=p(e,["config"]);return s!=null&&N2(s,n),n}function I2(t,e){const n={},i=p(e,["name"]);i!=null&&g(n,["_url","name"],ms(t,i));const s=p(e,["config"]);return s!=null&&k2(s,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class D2 extends ps{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Wo(fs.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=o2(this.apiClient,e);return c=le("cachedContents",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>m)}else{const h=s2(this.apiClient,e);return c=le("cachedContents",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l.then(m=>m)}}async get(e){var n,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=g2(this.apiClient,e);return c=le("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>m)}else{const h=m2(this.apiClient,e);return c=le("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l.then(m=>m)}}async delete(e){var n,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=l2(this.apiClient,e);return c=le("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const v=c2(m),b=new VS;return Object.assign(b,v),b})}else{const h=a2(this.apiClient,e);return c=le("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const v=u2(m),b=new VS;return Object.assign(b,v),b})}}async update(e){var n,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=I2(this.apiClient,e);return c=le("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>m)}else{const h=M2(this.apiClient,e);return c=le("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l.then(m=>m)}}async listInternal(e){var n,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=S2(e);return c=le("cachedContents",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const v=T2(m),b=new FS;return Object.assign(b,v),b})}else{const h=x2(e);return c=le("cachedContents",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const v=w2(m),b=new FS;return Object.assign(b,v),b})}}}function Rf(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function WS(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Re(t){return this instanceof Re?(this.v=t,this):new Re(t)}function hr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),s[Symbol.asyncIterator]=function(){return this},s;function l(S){return function(E){return Promise.resolve(E).then(S,v)}}function c(S,E){i[S]&&(s[S]=function(w){return new Promise(function(C,A){a.push([S,w,C,A])>1||f(S,w)})},E&&(s[S]=E(s[S])))}function f(S,E){try{h(i[S](E))}catch(w){b(a[0][3],w)}}function h(S){S.value instanceof Re?Promise.resolve(S.value.v).then(m,v):b(a[0][2],S)}function m(S){f("next",S)}function v(S){f("throw",S)}function b(S,E){S(E),a.shift(),a.length&&f(a[0][0],a[0][1])}}function pr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof WS=="function"?WS(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=t[a]&&function(l){return new Promise(function(c,f){l=t[a](l),s(c,f,l.done,l.value)})}}function s(a,l,c,f){Promise.resolve(f).then(function(h){a({value:h,done:c})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function P2(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:FE(n)}function FE(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function U2(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function QS(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const s=[];let a=!0;for(;i<n&&t[i].role==="model";)s.push(t[i]),a&&!FE(t[i])&&(a=!1),i++;a?e.push(...s):e.pop()}return e}class O2{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new L2(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class L2{constructor(e,n,i,s={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=s,this.history=a,this.sendPromise=Promise.resolve(),U2(a)}async sendMessage(e){var n;await this.sendPromise;const i=Dn(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,l,c;const f=await s,h=(l=(a=f.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content,m=f.automaticFunctionCallingHistory,v=this.getHistory(!0).length;let b=[];m!=null&&(b=(c=m.slice(v))!==null&&c!==void 0?c:[]);const S=h?[h]:[];this.recordHistory(i,S,b)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var n;await this.sendPromise;const i=Dn(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const a=await s;return this.processStreamResponse(a,i)}getHistory(e=!1){const n=e?QS(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return hr(this,arguments,function*(){var s,a,l,c,f,h;const m=[];try{for(var v=!0,b=pr(e),S;S=yield Re(b.next()),s=S.done,!s;v=!0){c=S.value,v=!1;const E=c;if(P2(E)){const w=(h=(f=E.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content;w!==void 0&&m.push(w)}yield yield Re(E)}}catch(E){a={error:E}}finally{try{!v&&!s&&(l=b.return)&&(yield Re(l.call(b)))}finally{if(a)throw a.error}}this.recordHistory(n,m)})}recordHistory(e,n,i){let s=[];n.length>0&&n.every(a=>a.role!==void 0)?s=n:s.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...QS(i)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sc extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,sc.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q2(t){const e={},n=p(t,["file"]);return n!=null&&g(e,["file"],n),e}function B2(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function G2(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],LE(n)),e}function z2(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function H2(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],LE(n)),e}function V2(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function F2(t){const e={},n=p(t,["config"]);return n!=null&&V2(n,e),e}function $2(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const s=p(t,["files"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),g(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class j2 extends ps{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Wo(fs.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=F2(e);return a=le("files",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{const h=$2(f),m=new XP;return Object.assign(m,h),m})}}async createInternal(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=q2(e);return a=le("upload/v1beta/files",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const h=B2(f),m=new WP;return Object.assign(m,h),m})}}async get(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=H2(e);return a=le("files/{file}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=G2(e);return a=le("files/{file}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{const h=z2(f),m=new QP;return Object.assign(m,h),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uf(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function J2(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>uO(a))),g(e,["parts"],s)}const i=p(t,["role"]);return i!=null&&g(e,["role"],i),e}function Y2(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function K2(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const i=p(t,["args"]);i!=null&&g(e,["args"],i);const s=p(t,["name"]);if(s!=null&&g(e,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function X2(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const i=p(t,["name"]);i!=null&&g(e,["name"],i);const s=p(t,["parameters"]);s!=null&&g(e,["parameters"],s);const a=p(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const l=p(t,["response"]);l!=null&&g(e,["response"],l);const c=p(t,["responseJsonSchema"]);if(c!=null&&g(e,["responseJsonSchema"],c),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function W2(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const i=p(t,["responseJsonSchema"]);i!=null&&g(e,["responseJsonSchema"],i);const s=p(t,["audioTimestamp"]);s!=null&&g(e,["audioTimestamp"],s);const a=p(t,["candidateCount"]);a!=null&&g(e,["candidateCount"],a);const l=p(t,["enableAffectiveDialog"]);l!=null&&g(e,["enableAffectiveDialog"],l);const c=p(t,["frequencyPenalty"]);c!=null&&g(e,["frequencyPenalty"],c);const f=p(t,["logprobs"]);f!=null&&g(e,["logprobs"],f);const h=p(t,["maxOutputTokens"]);h!=null&&g(e,["maxOutputTokens"],h);const m=p(t,["mediaResolution"]);m!=null&&g(e,["mediaResolution"],m);const v=p(t,["presencePenalty"]);v!=null&&g(e,["presencePenalty"],v);const b=p(t,["responseLogprobs"]);b!=null&&g(e,["responseLogprobs"],b);const S=p(t,["responseMimeType"]);S!=null&&g(e,["responseMimeType"],S);const E=p(t,["responseModalities"]);E!=null&&g(e,["responseModalities"],E);const w=p(t,["responseSchema"]);w!=null&&g(e,["responseSchema"],w);const C=p(t,["routingConfig"]);C!=null&&g(e,["routingConfig"],C);const A=p(t,["seed"]);A!=null&&g(e,["seed"],A);const N=p(t,["speechConfig"]);N!=null&&g(e,["speechConfig"],N);const k=p(t,["stopSequences"]);k!=null&&g(e,["stopSequences"],k);const M=p(t,["temperature"]);M!=null&&g(e,["temperature"],M);const U=p(t,["thinkingConfig"]);U!=null&&g(e,["thinkingConfig"],U);const z=p(t,["topK"]);z!=null&&g(e,["topK"],z);const I=p(t,["topP"]);if(I!=null&&g(e,["topP"],I),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Q2(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function Z2(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function eO(t,e){const n={},i=p(t,["generationConfig"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig"],i);const s=p(t,["responseModalities"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","responseModalities"],s);const a=p(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const l=p(t,["topP"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topP"],l);const c=p(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const f=p(t,["maxOutputTokens"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","maxOutputTokens"],f);const h=p(t,["mediaResolution"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","mediaResolution"],h);const m=p(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const v=p(t,["speechConfig"]);e!==void 0&&v!=null&&g(e,["setup","generationConfig","speechConfig"],wy(v));const b=p(t,["thinkingConfig"]);e!==void 0&&b!=null&&g(e,["setup","generationConfig","thinkingConfig"],b);const S=p(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],S);const E=p(t,["systemInstruction"]);e!==void 0&&E!=null&&g(e,["setup","systemInstruction"],J2(Dn(E)));const w=p(t,["tools"]);if(e!==void 0&&w!=null){let z=bl(w);Array.isArray(z)&&(z=z.map(I=>dO(_l(I)))),g(e,["setup","tools"],z)}const C=p(t,["sessionResumption"]);e!==void 0&&C!=null&&g(e,["setup","sessionResumption"],cO(C));const A=p(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&g(e,["setup","inputAudioTranscription"],A);const N=p(t,["outputAudioTranscription"]);e!==void 0&&N!=null&&g(e,["setup","outputAudioTranscription"],N);const k=p(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&g(e,["setup","realtimeInputConfig"],k);const M=p(t,["contextWindowCompression"]);e!==void 0&&M!=null&&g(e,["setup","contextWindowCompression"],M);const U=p(t,["proactivity"]);if(e!==void 0&&U!=null&&g(e,["setup","proactivity"],U),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function tO(t,e){const n={},i=p(t,["generationConfig"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig"],W2(i));const s=p(t,["responseModalities"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","responseModalities"],s);const a=p(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const l=p(t,["topP"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topP"],l);const c=p(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const f=p(t,["maxOutputTokens"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","maxOutputTokens"],f);const h=p(t,["mediaResolution"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","mediaResolution"],h);const m=p(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const v=p(t,["speechConfig"]);e!==void 0&&v!=null&&g(e,["setup","generationConfig","speechConfig"],wy(v));const b=p(t,["thinkingConfig"]);e!==void 0&&b!=null&&g(e,["setup","generationConfig","thinkingConfig"],b);const S=p(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],S);const E=p(t,["systemInstruction"]);e!==void 0&&E!=null&&g(e,["setup","systemInstruction"],Dn(E));const w=p(t,["tools"]);if(e!==void 0&&w!=null){let I=bl(w);Array.isArray(I)&&(I=I.map(q=>fO(_l(q)))),g(e,["setup","tools"],I)}const C=p(t,["sessionResumption"]);e!==void 0&&C!=null&&g(e,["setup","sessionResumption"],C);const A=p(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&g(e,["setup","inputAudioTranscription"],A);const N=p(t,["outputAudioTranscription"]);e!==void 0&&N!=null&&g(e,["setup","outputAudioTranscription"],N);const k=p(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&g(e,["setup","realtimeInputConfig"],k);const M=p(t,["contextWindowCompression"]);e!==void 0&&M!=null&&g(e,["setup","contextWindowCompression"],M);const U=p(t,["proactivity"]);e!==void 0&&U!=null&&g(e,["setup","proactivity"],U);const z=p(t,["explicitVadSignal"]);return e!==void 0&&z!=null&&g(e,["setup","explicitVadSignal"],z),n}function nO(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["setup","model"],Ze(t,i));const s=p(e,["config"]);return s!=null&&g(n,["config"],eO(s,n)),n}function iO(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["setup","model"],Ze(t,i));const s=p(e,["config"]);return s!=null&&g(n,["config"],tO(s,n)),n}function rO(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function sO(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),g(e,["weightedPrompts"],i)}return e}function oO(t){const e={},n=p(t,["media"]);if(n!=null){let h=IE(n);Array.isArray(h)&&(h=h.map(m=>uf(m))),g(e,["mediaChunks"],h)}const i=p(t,["audio"]);i!=null&&g(e,["audio"],uf(PE(i)));const s=p(t,["audioStreamEnd"]);s!=null&&g(e,["audioStreamEnd"],s);const a=p(t,["video"]);a!=null&&g(e,["video"],uf(DE(a)));const l=p(t,["text"]);l!=null&&g(e,["text"],l);const c=p(t,["activityStart"]);c!=null&&g(e,["activityStart"],c);const f=p(t,["activityEnd"]);return f!=null&&g(e,["activityEnd"],f),e}function aO(t){const e={},n=p(t,["media"]);if(n!=null){let h=IE(n);Array.isArray(h)&&(h=h.map(m=>m)),g(e,["mediaChunks"],h)}const i=p(t,["audio"]);i!=null&&g(e,["audio"],PE(i));const s=p(t,["audioStreamEnd"]);s!=null&&g(e,["audioStreamEnd"],s);const a=p(t,["video"]);a!=null&&g(e,["video"],DE(a));const l=p(t,["text"]);l!=null&&g(e,["text"],l);const c=p(t,["activityStart"]);c!=null&&g(e,["activityStart"],c);const f=p(t,["activityEnd"]);return f!=null&&g(e,["activityEnd"],f),e}function lO(t){const e={},n=p(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const i=p(t,["serverContent"]);i!=null&&g(e,["serverContent"],i);const s=p(t,["toolCall"]);s!=null&&g(e,["toolCall"],s);const a=p(t,["toolCallCancellation"]);a!=null&&g(e,["toolCallCancellation"],a);const l=p(t,["usageMetadata"]);l!=null&&g(e,["usageMetadata"],hO(l));const c=p(t,["goAway"]);c!=null&&g(e,["goAway"],c);const f=p(t,["sessionResumptionUpdate"]);f!=null&&g(e,["sessionResumptionUpdate"],f);const h=p(t,["voiceActivityDetectionSignal"]);h!=null&&g(e,["voiceActivityDetectionSignal"],h);const m=p(t,["voiceActivity"]);return m!=null&&g(e,["voiceActivity"],pO(m)),e}function uO(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const i=p(t,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const s=p(t,["executableCode"]);s!=null&&g(e,["executableCode"],s);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],Y2(a));const l=p(t,["functionCall"]);l!=null&&g(e,["functionCall"],K2(l));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const f=p(t,["inlineData"]);f!=null&&g(e,["inlineData"],uf(f));const h=p(t,["text"]);h!=null&&g(e,["text"],h);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const v=p(t,["thoughtSignature"]);v!=null&&g(e,["thoughtSignature"],v);const b=p(t,["videoMetadata"]);return b!=null&&g(e,["videoMetadata"],b),e}function cO(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function dO(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const i=p(t,["fileSearch"]);i!=null&&g(e,["fileSearch"],i);const s=p(t,["codeExecution"]);if(s!=null&&g(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=p(t,["functionDeclarations"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(v=>v)),g(e,["functionDeclarations"],m)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],Q2(l));const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],Z2(c));const f=p(t,["googleSearchRetrieval"]);f!=null&&g(e,["googleSearchRetrieval"],f);const h=p(t,["urlContext"]);return h!=null&&g(e,["urlContext"],h),e}function fO(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const i=p(t,["computerUse"]);if(i!=null&&g(e,["computerUse"],i),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=p(t,["codeExecution"]);s!=null&&g(e,["codeExecution"],s);const a=p(t,["enterpriseWebSearch"]);a!=null&&g(e,["enterpriseWebSearch"],a);const l=p(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(b=>X2(b))),g(e,["functionDeclarations"],v)}const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],c);const f=p(t,["googleSearch"]);f!=null&&g(e,["googleSearch"],f);const h=p(t,["googleSearchRetrieval"]);h!=null&&g(e,["googleSearchRetrieval"],h);const m=p(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function hO(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const i=p(t,["cachedContentTokenCount"]);i!=null&&g(e,["cachedContentTokenCount"],i);const s=p(t,["candidatesTokenCount"]);s!=null&&g(e,["responseTokenCount"],s);const a=p(t,["toolUsePromptTokenCount"]);a!=null&&g(e,["toolUsePromptTokenCount"],a);const l=p(t,["thoughtsTokenCount"]);l!=null&&g(e,["thoughtsTokenCount"],l);const c=p(t,["totalTokenCount"]);c!=null&&g(e,["totalTokenCount"],c);const f=p(t,["promptTokensDetails"]);if(f!=null){let S=f;Array.isArray(S)&&(S=S.map(E=>E)),g(e,["promptTokensDetails"],S)}const h=p(t,["cacheTokensDetails"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(E=>E)),g(e,["cacheTokensDetails"],S)}const m=p(t,["candidatesTokensDetails"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(E=>E)),g(e,["responseTokensDetails"],S)}const v=p(t,["toolUsePromptTokensDetails"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(E=>E)),g(e,["toolUsePromptTokensDetails"],S)}const b=p(t,["trafficType"]);return b!=null&&g(e,["trafficType"],b),e}function pO(t){const e={},n=p(t,["type"]);return n!=null&&g(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mO(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function gO(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const i=p(t,["citationMetadata"]);i!=null&&g(e,["citationMetadata"],yO(i));const s=p(t,["tokenCount"]);s!=null&&g(e,["tokenCount"],s);const a=p(t,["finishReason"]);a!=null&&g(e,["finishReason"],a);const l=p(t,["avgLogprobs"]);l!=null&&g(e,["avgLogprobs"],l);const c=p(t,["groundingMetadata"]);c!=null&&g(e,["groundingMetadata"],c);const f=p(t,["index"]);f!=null&&g(e,["index"],f);const h=p(t,["logprobsResult"]);h!=null&&g(e,["logprobsResult"],h);const m=p(t,["safetyRatings"]);if(m!=null){let b=m;Array.isArray(b)&&(b=b.map(S=>S)),g(e,["safetyRatings"],b)}const v=p(t,["urlContextMetadata"]);return v!=null&&g(e,["urlContextMetadata"],v),e}function yO(t){const e={},n=p(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),g(e,["citations"],i)}return e}function vO(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ze(t,i));const s=p(e,["contents"]);if(s!=null){let a=tr(s);Array.isArray(a)&&(a=a.map(l=>l)),g(n,["contents"],a)}return n}function _O(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["tokensInfo"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),g(e,["tokensInfo"],s)}return e}function bO(t){const e={},n=p(t,["values"]);n!=null&&g(e,["values"],n);const i=p(t,["statistics"]);return i!=null&&g(e,["statistics"],xO(i)),e}function xO(t){const e={},n=p(t,["truncated"]);n!=null&&g(e,["truncated"],n);const i=p(t,["token_count"]);return i!=null&&g(e,["tokenCount"],i),e}function Vf(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>kL(a))),g(e,["parts"],s)}const i=p(t,["role"]);return i!=null&&g(e,["role"],i),e}function SO(t){const e={},n=p(t,["controlType"]);n!=null&&g(e,["controlType"],n);const i=p(t,["enableControlImageComputation"]);return i!=null&&g(e,["computeControl"],i),e}function wO(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function TO(t,e){const n={},i=p(t,["systemInstruction"]);e!==void 0&&i!=null&&g(e,["systemInstruction"],Dn(i));const s=p(t,["tools"]);if(e!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>YE(c))),g(e,["tools"],l)}const a=p(t,["generationConfig"]);return e!==void 0&&a!=null&&g(e,["generationConfig"],mL(a)),n}function EO(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ze(t,i));const s=p(e,["contents"]);if(s!=null){let l=tr(s);Array.isArray(l)&&(l=l.map(c=>Vf(c))),g(n,["contents"],l)}const a=p(e,["config"]);return a!=null&&wO(a),n}function CO(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ze(t,i));const s=p(e,["contents"]);if(s!=null){let l=tr(s);Array.isArray(l)&&(l=l.map(c=>c)),g(n,["contents"],l)}const a=p(e,["config"]);return a!=null&&TO(a,n),n}function AO(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["totalTokens"]);i!=null&&g(e,["totalTokens"],i);const s=p(t,["cachedContentTokenCount"]);return s!=null&&g(e,["cachedContentTokenCount"],s),e}function RO(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["totalTokens"]);return i!=null&&g(e,["totalTokens"],i),e}function NO(t,e){const n={},i=p(e,["model"]);return i!=null&&g(n,["_url","name"],Ze(t,i)),n}function kO(t,e){const n={},i=p(e,["model"]);return i!=null&&g(n,["_url","name"],Ze(t,i)),n}function MO(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function IO(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function DO(t,e){const n={},i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const s=p(t,["negativePrompt"]);e!==void 0&&s!=null&&g(e,["parameters","negativePrompt"],s);const a=p(t,["numberOfImages"]);e!==void 0&&a!=null&&g(e,["parameters","sampleCount"],a);const l=p(t,["aspectRatio"]);e!==void 0&&l!=null&&g(e,["parameters","aspectRatio"],l);const c=p(t,["guidanceScale"]);e!==void 0&&c!=null&&g(e,["parameters","guidanceScale"],c);const f=p(t,["seed"]);e!==void 0&&f!=null&&g(e,["parameters","seed"],f);const h=p(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&g(e,["parameters","safetySetting"],h);const m=p(t,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const v=p(t,["includeSafetyAttributes"]);e!==void 0&&v!=null&&g(e,["parameters","includeSafetyAttributes"],v);const b=p(t,["includeRaiReason"]);e!==void 0&&b!=null&&g(e,["parameters","includeRaiReason"],b);const S=p(t,["language"]);e!==void 0&&S!=null&&g(e,["parameters","language"],S);const E=p(t,["outputMimeType"]);e!==void 0&&E!=null&&g(e,["parameters","outputOptions","mimeType"],E);const w=p(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&g(e,["parameters","outputOptions","compressionQuality"],w);const C=p(t,["addWatermark"]);e!==void 0&&C!=null&&g(e,["parameters","addWatermark"],C);const A=p(t,["labels"]);e!==void 0&&A!=null&&g(e,["labels"],A);const N=p(t,["editMode"]);e!==void 0&&N!=null&&g(e,["parameters","editMode"],N);const k=p(t,["baseSteps"]);return e!==void 0&&k!=null&&g(e,["parameters","editConfig","baseSteps"],k),n}function PO(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ze(t,i));const s=p(e,["prompt"]);s!=null&&g(n,["instances[0]","prompt"],s);const a=p(e,["referenceImages"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>OL(f))),g(n,["instances[0]","referenceImages"],c)}const l=p(e,["config"]);return l!=null&&DO(l,n),n}function UO(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Ff(a))),g(e,["generatedImages"],s)}return e}function OO(t,e){const n={},i=p(t,["taskType"]);e!==void 0&&i!=null&&g(e,["requests[]","taskType"],i);const s=p(t,["title"]);e!==void 0&&s!=null&&g(e,["requests[]","title"],s);const a=p(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&g(e,["requests[]","outputDimensionality"],a),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function LO(t,e){const n={},i=p(t,["taskType"]);e!==void 0&&i!=null&&g(e,["instances[]","task_type"],i);const s=p(t,["title"]);e!==void 0&&s!=null&&g(e,["instances[]","title"],s);const a=p(t,["outputDimensionality"]);e!==void 0&&a!=null&&g(e,["parameters","outputDimensionality"],a);const l=p(t,["mimeType"]);e!==void 0&&l!=null&&g(e,["instances[]","mimeType"],l);const c=p(t,["autoTruncate"]);return e!==void 0&&c!=null&&g(e,["parameters","autoTruncate"],c),n}function qO(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ze(t,i));const s=p(e,["contents"]);if(s!=null){let c=by(t,s);Array.isArray(c)&&(c=c.map(f=>f)),g(n,["requests[]","content"],c)}const a=p(e,["config"]);a!=null&&OO(a,n);const l=p(e,["model"]);return l!==void 0&&g(n,["requests[]","model"],Ze(t,l)),n}function BO(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ze(t,i));const s=p(e,["contents"]);if(s!=null){let l=by(t,s);Array.isArray(l)&&(l=l.map(c=>c)),g(n,["instances[]","content"],l)}const a=p(e,["config"]);return a!=null&&LO(a,n),n}function GO(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),g(e,["embeddings"],a)}const s=p(t,["metadata"]);return s!=null&&g(e,["metadata"],s),e}function zO(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["predictions[]","embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>bO(l))),g(e,["embeddings"],a)}const s=p(t,["metadata"]);return s!=null&&g(e,["metadata"],s),e}function HO(t){const e={},n=p(t,["endpoint"]);n!=null&&g(e,["name"],n);const i=p(t,["deployedModelId"]);return i!=null&&g(e,["deployedModelId"],i),e}function VO(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function FO(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const i=p(t,["args"]);i!=null&&g(e,["args"],i);const s=p(t,["name"]);if(s!=null&&g(e,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function $O(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const i=p(t,["mode"]);if(i!=null&&g(e,["mode"],i),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function jO(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const i=p(t,["name"]);i!=null&&g(e,["name"],i);const s=p(t,["parameters"]);s!=null&&g(e,["parameters"],s);const a=p(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const l=p(t,["response"]);l!=null&&g(e,["response"],l);const c=p(t,["responseJsonSchema"]);if(c!=null&&g(e,["responseJsonSchema"],c),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function JO(t,e,n){const i={},s=p(e,["systemInstruction"]);n!==void 0&&s!=null&&g(n,["systemInstruction"],Vf(Dn(s)));const a=p(e,["temperature"]);a!=null&&g(i,["temperature"],a);const l=p(e,["topP"]);l!=null&&g(i,["topP"],l);const c=p(e,["topK"]);c!=null&&g(i,["topK"],c);const f=p(e,["candidateCount"]);f!=null&&g(i,["candidateCount"],f);const h=p(e,["maxOutputTokens"]);h!=null&&g(i,["maxOutputTokens"],h);const m=p(e,["stopSequences"]);m!=null&&g(i,["stopSequences"],m);const v=p(e,["responseLogprobs"]);v!=null&&g(i,["responseLogprobs"],v);const b=p(e,["logprobs"]);b!=null&&g(i,["logprobs"],b);const S=p(e,["presencePenalty"]);S!=null&&g(i,["presencePenalty"],S);const E=p(e,["frequencyPenalty"]);E!=null&&g(i,["frequencyPenalty"],E);const w=p(e,["seed"]);w!=null&&g(i,["seed"],w);const C=p(e,["responseMimeType"]);C!=null&&g(i,["responseMimeType"],C);const A=p(e,["responseSchema"]);A!=null&&g(i,["responseSchema"],xy(A));const N=p(e,["responseJsonSchema"]);if(N!=null&&g(i,["responseJsonSchema"],N),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=p(e,["safetySettings"]);if(n!==void 0&&k!=null){let ie=k;Array.isArray(ie)&&(ie=ie.map(de=>LL(de))),g(n,["safetySettings"],ie)}const M=p(e,["tools"]);if(n!==void 0&&M!=null){let ie=bl(M);Array.isArray(ie)&&(ie=ie.map(de=>FL(_l(de)))),g(n,["tools"],ie)}const U=p(e,["toolConfig"]);if(n!==void 0&&U!=null&&g(n,["toolConfig"],VL(U)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const z=p(e,["cachedContent"]);n!==void 0&&z!=null&&g(n,["cachedContent"],ms(t,z));const I=p(e,["responseModalities"]);I!=null&&g(i,["responseModalities"],I);const q=p(e,["mediaResolution"]);q!=null&&g(i,["mediaResolution"],q);const B=p(e,["speechConfig"]);if(B!=null&&g(i,["speechConfig"],Sy(B)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const J=p(e,["thinkingConfig"]);J!=null&&g(i,["thinkingConfig"],J);const te=p(e,["imageConfig"]);te!=null&&g(i,["imageConfig"],bL(te));const Z=p(e,["enableEnhancedCivicAnswers"]);if(Z!=null&&g(i,["enableEnhancedCivicAnswers"],Z),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function YO(t,e,n){const i={},s=p(e,["systemInstruction"]);n!==void 0&&s!=null&&g(n,["systemInstruction"],Dn(s));const a=p(e,["temperature"]);a!=null&&g(i,["temperature"],a);const l=p(e,["topP"]);l!=null&&g(i,["topP"],l);const c=p(e,["topK"]);c!=null&&g(i,["topK"],c);const f=p(e,["candidateCount"]);f!=null&&g(i,["candidateCount"],f);const h=p(e,["maxOutputTokens"]);h!=null&&g(i,["maxOutputTokens"],h);const m=p(e,["stopSequences"]);m!=null&&g(i,["stopSequences"],m);const v=p(e,["responseLogprobs"]);v!=null&&g(i,["responseLogprobs"],v);const b=p(e,["logprobs"]);b!=null&&g(i,["logprobs"],b);const S=p(e,["presencePenalty"]);S!=null&&g(i,["presencePenalty"],S);const E=p(e,["frequencyPenalty"]);E!=null&&g(i,["frequencyPenalty"],E);const w=p(e,["seed"]);w!=null&&g(i,["seed"],w);const C=p(e,["responseMimeType"]);C!=null&&g(i,["responseMimeType"],C);const A=p(e,["responseSchema"]);A!=null&&g(i,["responseSchema"],xy(A));const N=p(e,["responseJsonSchema"]);N!=null&&g(i,["responseJsonSchema"],N);const k=p(e,["routingConfig"]);k!=null&&g(i,["routingConfig"],k);const M=p(e,["modelSelectionConfig"]);M!=null&&g(i,["modelConfig"],M);const U=p(e,["safetySettings"]);if(n!==void 0&&U!=null){let X=U;Array.isArray(X)&&(X=X.map(re=>re)),g(n,["safetySettings"],X)}const z=p(e,["tools"]);if(n!==void 0&&z!=null){let X=bl(z);Array.isArray(X)&&(X=X.map(re=>YE(_l(re)))),g(n,["tools"],X)}const I=p(e,["toolConfig"]);n!==void 0&&I!=null&&g(n,["toolConfig"],I);const q=p(e,["labels"]);n!==void 0&&q!=null&&g(n,["labels"],q);const B=p(e,["cachedContent"]);n!==void 0&&B!=null&&g(n,["cachedContent"],ms(t,B));const J=p(e,["responseModalities"]);J!=null&&g(i,["responseModalities"],J);const te=p(e,["mediaResolution"]);te!=null&&g(i,["mediaResolution"],te);const Z=p(e,["speechConfig"]);Z!=null&&g(i,["speechConfig"],Sy(Z));const ie=p(e,["audioTimestamp"]);ie!=null&&g(i,["audioTimestamp"],ie);const de=p(e,["thinkingConfig"]);de!=null&&g(i,["thinkingConfig"],de);const be=p(e,["imageConfig"]);if(be!=null&&g(i,["imageConfig"],xL(be)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const V=p(e,["modelArmorConfig"]);return n!==void 0&&V!=null&&g(n,["modelArmorConfig"],V),i}function ZS(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ze(t,i));const s=p(e,["contents"]);if(s!=null){let l=tr(s);Array.isArray(l)&&(l=l.map(c=>Vf(c))),g(n,["contents"],l)}const a=p(e,["config"]);return a!=null&&g(n,["generationConfig"],JO(t,a,n)),n}function ew(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ze(t,i));const s=p(e,["contents"]);if(s!=null){let l=tr(s);Array.isArray(l)&&(l=l.map(c=>c)),g(n,["contents"],l)}const a=p(e,["config"]);return a!=null&&g(n,["generationConfig"],YO(t,a,n)),n}function tw(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>gO(h))),g(e,["candidates"],f)}const s=p(t,["modelVersion"]);s!=null&&g(e,["modelVersion"],s);const a=p(t,["promptFeedback"]);a!=null&&g(e,["promptFeedback"],a);const l=p(t,["responseId"]);l!=null&&g(e,["responseId"],l);const c=p(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function nw(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(m=>m)),g(e,["candidates"],h)}const s=p(t,["createTime"]);s!=null&&g(e,["createTime"],s);const a=p(t,["modelVersion"]);a!=null&&g(e,["modelVersion"],a);const l=p(t,["promptFeedback"]);l!=null&&g(e,["promptFeedback"],l);const c=p(t,["responseId"]);c!=null&&g(e,["responseId"],c);const f=p(t,["usageMetadata"]);return f!=null&&g(e,["usageMetadata"],f),e}function KO(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=p(t,["numberOfImages"]);e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i);const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s);const a=p(t,["guidanceScale"]);if(e!==void 0&&a!=null&&g(e,["parameters","guidanceScale"],a),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=p(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&g(e,["parameters","safetySetting"],l);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const m=p(t,["language"]);e!==void 0&&m!=null&&g(e,["parameters","language"],m);const v=p(t,["outputMimeType"]);e!==void 0&&v!=null&&g(e,["parameters","outputOptions","mimeType"],v);const b=p(t,["outputCompressionQuality"]);if(e!==void 0&&b!=null&&g(e,["parameters","outputOptions","compressionQuality"],b),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=p(t,["imageSize"]);if(e!==void 0&&S!=null&&g(e,["parameters","sampleImageSize"],S),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function XO(t,e){const n={},i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const s=p(t,["negativePrompt"]);e!==void 0&&s!=null&&g(e,["parameters","negativePrompt"],s);const a=p(t,["numberOfImages"]);e!==void 0&&a!=null&&g(e,["parameters","sampleCount"],a);const l=p(t,["aspectRatio"]);e!==void 0&&l!=null&&g(e,["parameters","aspectRatio"],l);const c=p(t,["guidanceScale"]);e!==void 0&&c!=null&&g(e,["parameters","guidanceScale"],c);const f=p(t,["seed"]);e!==void 0&&f!=null&&g(e,["parameters","seed"],f);const h=p(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&g(e,["parameters","safetySetting"],h);const m=p(t,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const v=p(t,["includeSafetyAttributes"]);e!==void 0&&v!=null&&g(e,["parameters","includeSafetyAttributes"],v);const b=p(t,["includeRaiReason"]);e!==void 0&&b!=null&&g(e,["parameters","includeRaiReason"],b);const S=p(t,["language"]);e!==void 0&&S!=null&&g(e,["parameters","language"],S);const E=p(t,["outputMimeType"]);e!==void 0&&E!=null&&g(e,["parameters","outputOptions","mimeType"],E);const w=p(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&g(e,["parameters","outputOptions","compressionQuality"],w);const C=p(t,["addWatermark"]);e!==void 0&&C!=null&&g(e,["parameters","addWatermark"],C);const A=p(t,["labels"]);e!==void 0&&A!=null&&g(e,["labels"],A);const N=p(t,["imageSize"]);e!==void 0&&N!=null&&g(e,["parameters","sampleImageSize"],N);const k=p(t,["enhancePrompt"]);return e!==void 0&&k!=null&&g(e,["parameters","enhancePrompt"],k),n}function WO(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ze(t,i));const s=p(e,["prompt"]);s!=null&&g(n,["instances[0]","prompt"],s);const a=p(e,["config"]);return a!=null&&KO(a,n),n}function QO(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ze(t,i));const s=p(e,["prompt"]);s!=null&&g(n,["instances[0]","prompt"],s);const a=p(e,["config"]);return a!=null&&XO(a,n),n}function ZO(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>dL(l))),g(e,["generatedImages"],a)}const s=p(t,["positivePromptSafetyAttributes"]);return s!=null&&g(e,["positivePromptSafetyAttributes"],jE(s)),e}function eL(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Ff(l))),g(e,["generatedImages"],a)}const s=p(t,["positivePromptSafetyAttributes"]);return s!=null&&g(e,["positivePromptSafetyAttributes"],JE(s)),e}function tL(t,e){const n={},i=p(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=p(t,["durationSeconds"]);if(e!==void 0&&s!=null&&g(e,["parameters","durationSeconds"],s),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&g(e,["parameters","aspectRatio"],a);const l=p(t,["resolution"]);e!==void 0&&l!=null&&g(e,["parameters","resolution"],l);const c=p(t,["personGeneration"]);if(e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=p(t,["negativePrompt"]);e!==void 0&&f!=null&&g(e,["parameters","negativePrompt"],f);const h=p(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&g(e,["parameters","enhancePrompt"],h),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const m=p(t,["lastFrame"]);e!==void 0&&m!=null&&g(e,["instances[0]","lastFrame"],$f(m));const v=p(t,["referenceImages"]);if(e!==void 0&&v!=null){let b=v;Array.isArray(b)&&(b=b.map(S=>i3(S))),g(e,["instances[0]","referenceImages"],b)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function nL(t,e){const n={},i=p(t,["numberOfVideos"]);e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i);const s=p(t,["outputGcsUri"]);e!==void 0&&s!=null&&g(e,["parameters","storageUri"],s);const a=p(t,["fps"]);e!==void 0&&a!=null&&g(e,["parameters","fps"],a);const l=p(t,["durationSeconds"]);e!==void 0&&l!=null&&g(e,["parameters","durationSeconds"],l);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["parameters","seed"],c);const f=p(t,["aspectRatio"]);e!==void 0&&f!=null&&g(e,["parameters","aspectRatio"],f);const h=p(t,["resolution"]);e!==void 0&&h!=null&&g(e,["parameters","resolution"],h);const m=p(t,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const v=p(t,["pubsubTopic"]);e!==void 0&&v!=null&&g(e,["parameters","pubsubTopic"],v);const b=p(t,["negativePrompt"]);e!==void 0&&b!=null&&g(e,["parameters","negativePrompt"],b);const S=p(t,["enhancePrompt"]);e!==void 0&&S!=null&&g(e,["parameters","enhancePrompt"],S);const E=p(t,["generateAudio"]);e!==void 0&&E!=null&&g(e,["parameters","generateAudio"],E);const w=p(t,["lastFrame"]);e!==void 0&&w!=null&&g(e,["instances[0]","lastFrame"],yr(w));const C=p(t,["referenceImages"]);if(e!==void 0&&C!=null){let k=C;Array.isArray(k)&&(k=k.map(M=>r3(M))),g(e,["instances[0]","referenceImages"],k)}const A=p(t,["mask"]);e!==void 0&&A!=null&&g(e,["instances[0]","mask"],n3(A));const N=p(t,["compressionQuality"]);return e!==void 0&&N!=null&&g(e,["parameters","compressionQuality"],N),n}function iL(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["metadata"]);i!=null&&g(e,["metadata"],i);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const l=p(t,["response","generateVideoResponse"]);return l!=null&&g(e,["response"],aL(l)),e}function rL(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["metadata"]);i!=null&&g(e,["metadata"],i);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const l=p(t,["response"]);return l!=null&&g(e,["response"],lL(l)),e}function sL(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ze(t,i));const s=p(e,["prompt"]);s!=null&&g(n,["instances[0]","prompt"],s);const a=p(e,["image"]);a!=null&&g(n,["instances[0]","image"],$f(a));const l=p(e,["video"]);l!=null&&g(n,["instances[0]","video"],KE(l));const c=p(e,["source"]);c!=null&&uL(c,n);const f=p(e,["config"]);return f!=null&&tL(f,n),n}function oL(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ze(t,i));const s=p(e,["prompt"]);s!=null&&g(n,["instances[0]","prompt"],s);const a=p(e,["image"]);a!=null&&g(n,["instances[0]","image"],yr(a));const l=p(e,["video"]);l!=null&&g(n,["instances[0]","video"],XE(l));const c=p(e,["source"]);c!=null&&cL(c,n);const f=p(e,["config"]);return f!=null&&nL(f,n),n}function aL(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>hL(l))),g(e,["generatedVideos"],a)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&g(e,["raiMediaFilteredCount"],i);const s=p(t,["raiMediaFilteredReasons"]);return s!=null&&g(e,["raiMediaFilteredReasons"],s),e}function lL(t){const e={},n=p(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>pL(l))),g(e,["generatedVideos"],a)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&g(e,["raiMediaFilteredCount"],i);const s=p(t,["raiMediaFilteredReasons"]);return s!=null&&g(e,["raiMediaFilteredReasons"],s),e}function uL(t,e){const n={},i=p(t,["prompt"]);e!==void 0&&i!=null&&g(e,["instances[0]","prompt"],i);const s=p(t,["image"]);e!==void 0&&s!=null&&g(e,["instances[0]","image"],$f(s));const a=p(t,["video"]);return e!==void 0&&a!=null&&g(e,["instances[0]","video"],KE(a)),n}function cL(t,e){const n={},i=p(t,["prompt"]);e!==void 0&&i!=null&&g(e,["instances[0]","prompt"],i);const s=p(t,["image"]);e!==void 0&&s!=null&&g(e,["instances[0]","image"],yr(s));const a=p(t,["video"]);return e!==void 0&&a!=null&&g(e,["instances[0]","video"],XE(a)),n}function dL(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],SL(n));const i=p(t,["raiFilteredReason"]);i!=null&&g(e,["raiFilteredReason"],i);const s=p(t,["_self"]);return s!=null&&g(e,["safetyAttributes"],jE(s)),e}function Ff(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],$E(n));const i=p(t,["raiFilteredReason"]);i!=null&&g(e,["raiFilteredReason"],i);const s=p(t,["_self"]);s!=null&&g(e,["safetyAttributes"],JE(s));const a=p(t,["prompt"]);return a!=null&&g(e,["enhancedPrompt"],a),e}function fL(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["mask"],$E(n));const i=p(t,["labels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),g(e,["labels"],s)}return e}function hL(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],e3(n)),e}function pL(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],t3(n)),e}function mL(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const i=p(t,["responseJsonSchema"]);i!=null&&g(e,["responseJsonSchema"],i);const s=p(t,["audioTimestamp"]);s!=null&&g(e,["audioTimestamp"],s);const a=p(t,["candidateCount"]);a!=null&&g(e,["candidateCount"],a);const l=p(t,["enableAffectiveDialog"]);l!=null&&g(e,["enableAffectiveDialog"],l);const c=p(t,["frequencyPenalty"]);c!=null&&g(e,["frequencyPenalty"],c);const f=p(t,["logprobs"]);f!=null&&g(e,["logprobs"],f);const h=p(t,["maxOutputTokens"]);h!=null&&g(e,["maxOutputTokens"],h);const m=p(t,["mediaResolution"]);m!=null&&g(e,["mediaResolution"],m);const v=p(t,["presencePenalty"]);v!=null&&g(e,["presencePenalty"],v);const b=p(t,["responseLogprobs"]);b!=null&&g(e,["responseLogprobs"],b);const S=p(t,["responseMimeType"]);S!=null&&g(e,["responseMimeType"],S);const E=p(t,["responseModalities"]);E!=null&&g(e,["responseModalities"],E);const w=p(t,["responseSchema"]);w!=null&&g(e,["responseSchema"],w);const C=p(t,["routingConfig"]);C!=null&&g(e,["routingConfig"],C);const A=p(t,["seed"]);A!=null&&g(e,["seed"],A);const N=p(t,["speechConfig"]);N!=null&&g(e,["speechConfig"],N);const k=p(t,["stopSequences"]);k!=null&&g(e,["stopSequences"],k);const M=p(t,["temperature"]);M!=null&&g(e,["temperature"],M);const U=p(t,["thinkingConfig"]);U!=null&&g(e,["thinkingConfig"],U);const z=p(t,["topK"]);z!=null&&g(e,["topK"],z);const I=p(t,["topP"]);if(I!=null&&g(e,["topP"],I),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function gL(t,e){const n={},i=p(e,["model"]);return i!=null&&g(n,["_url","name"],Ze(t,i)),n}function yL(t,e){const n={},i=p(e,["model"]);return i!=null&&g(n,["_url","name"],Ze(t,i)),n}function vL(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function _L(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function bL(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const i=p(t,["imageSize"]);if(i!=null&&g(e,["imageSize"],i),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function xL(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const i=p(t,["imageSize"]);i!=null&&g(e,["imageSize"],i);const s=p(t,["personGeneration"]);s!=null&&g(e,["personGeneration"],s);const a=p(t,["outputMimeType"]);a!=null&&g(e,["imageOutputOptions","mimeType"],a);const l=p(t,["outputCompressionQuality"]);return l!=null&&g(e,["imageOutputOptions","compressionQuality"],l),e}function SL(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],ro(n));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function $E(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const i=p(t,["bytesBase64Encoded"]);i!=null&&g(e,["imageBytes"],ro(i));const s=p(t,["mimeType"]);return s!=null&&g(e,["mimeType"],s),e}function $f(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],ro(n));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function yr(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const i=p(t,["imageBytes"]);i!=null&&g(e,["bytesBase64Encoded"],ro(i));const s=p(t,["mimeType"]);return s!=null&&g(e,["mimeType"],s),e}function wL(t,e,n){const i={},s=p(e,["pageSize"]);n!==void 0&&s!=null&&g(n,["_query","pageSize"],s);const a=p(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const l=p(e,["filter"]);n!==void 0&&l!=null&&g(n,["_query","filter"],l);const c=p(e,["queryBase"]);return n!==void 0&&c!=null&&g(n,["_url","models_url"],qE(t,c)),i}function TL(t,e,n){const i={},s=p(e,["pageSize"]);n!==void 0&&s!=null&&g(n,["_query","pageSize"],s);const a=p(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const l=p(e,["filter"]);n!==void 0&&l!=null&&g(n,["_query","filter"],l);const c=p(e,["queryBase"]);return n!==void 0&&c!=null&&g(n,["_url","models_url"],qE(t,c)),i}function EL(t,e){const n={},i=p(e,["config"]);return i!=null&&wL(t,i,n),n}function CL(t,e){const n={},i=p(e,["config"]);return i!=null&&TL(t,i,n),n}function AL(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const s=p(t,["_self"]);if(s!=null){let a=BE(s);Array.isArray(a)&&(a=a.map(l=>Tg(l))),g(e,["models"],a)}return e}function RL(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const s=p(t,["_self"]);if(s!=null){let a=BE(s);Array.isArray(a)&&(a=a.map(l=>Eg(l))),g(e,["models"],a)}return e}function NL(t){const e={},n=p(t,["maskMode"]);n!=null&&g(e,["maskMode"],n);const i=p(t,["segmentationClasses"]);i!=null&&g(e,["maskClasses"],i);const s=p(t,["maskDilation"]);return s!=null&&g(e,["dilation"],s),e}function Tg(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["displayName"]);i!=null&&g(e,["displayName"],i);const s=p(t,["description"]);s!=null&&g(e,["description"],s);const a=p(t,["version"]);a!=null&&g(e,["version"],a);const l=p(t,["_self"]);l!=null&&g(e,["tunedModelInfo"],$L(l));const c=p(t,["inputTokenLimit"]);c!=null&&g(e,["inputTokenLimit"],c);const f=p(t,["outputTokenLimit"]);f!=null&&g(e,["outputTokenLimit"],f);const h=p(t,["supportedGenerationMethods"]);h!=null&&g(e,["supportedActions"],h);const m=p(t,["temperature"]);m!=null&&g(e,["temperature"],m);const v=p(t,["maxTemperature"]);v!=null&&g(e,["maxTemperature"],v);const b=p(t,["topP"]);b!=null&&g(e,["topP"],b);const S=p(t,["topK"]);S!=null&&g(e,["topK"],S);const E=p(t,["thinking"]);return E!=null&&g(e,["thinking"],E),e}function Eg(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["displayName"]);i!=null&&g(e,["displayName"],i);const s=p(t,["description"]);s!=null&&g(e,["description"],s);const a=p(t,["versionId"]);a!=null&&g(e,["version"],a);const l=p(t,["deployedModels"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(b=>HO(b))),g(e,["endpoints"],v)}const c=p(t,["labels"]);c!=null&&g(e,["labels"],c);const f=p(t,["_self"]);f!=null&&g(e,["tunedModelInfo"],jL(f));const h=p(t,["defaultCheckpointId"]);h!=null&&g(e,["defaultCheckpointId"],h);const m=p(t,["checkpoints"]);if(m!=null){let v=m;Array.isArray(v)&&(v=v.map(b=>b)),g(e,["checkpoints"],v)}return e}function kL(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const i=p(t,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const s=p(t,["executableCode"]);s!=null&&g(e,["executableCode"],s);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],VO(a));const l=p(t,["functionCall"]);l!=null&&g(e,["functionCall"],FO(l));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const f=p(t,["inlineData"]);f!=null&&g(e,["inlineData"],mO(f));const h=p(t,["text"]);h!=null&&g(e,["text"],h);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const v=p(t,["thoughtSignature"]);v!=null&&g(e,["thoughtSignature"],v);const b=p(t,["videoMetadata"]);return b!=null&&g(e,["videoMetadata"],b),e}function ML(t){const e={},n=p(t,["productImage"]);return n!=null&&g(e,["image"],yr(n)),e}function IL(t,e){const n={},i=p(t,["numberOfImages"]);e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i);const s=p(t,["baseSteps"]);e!==void 0&&s!=null&&g(e,["parameters","baseSteps"],s);const a=p(t,["outputGcsUri"]);e!==void 0&&a!=null&&g(e,["parameters","storageUri"],a);const l=p(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const c=p(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&g(e,["parameters","safetySetting"],c);const f=p(t,["personGeneration"]);e!==void 0&&f!=null&&g(e,["parameters","personGeneration"],f);const h=p(t,["addWatermark"]);e!==void 0&&h!=null&&g(e,["parameters","addWatermark"],h);const m=p(t,["outputMimeType"]);e!==void 0&&m!=null&&g(e,["parameters","outputOptions","mimeType"],m);const v=p(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&g(e,["parameters","outputOptions","compressionQuality"],v);const b=p(t,["enhancePrompt"]);e!==void 0&&b!=null&&g(e,["parameters","enhancePrompt"],b);const S=p(t,["labels"]);return e!==void 0&&S!=null&&g(e,["labels"],S),n}function DL(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ze(t,i));const s=p(e,["source"]);s!=null&&UL(s,n);const a=p(e,["config"]);return a!=null&&IL(a,n),n}function PL(t){const e={},n=p(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Ff(s))),g(e,["generatedImages"],i)}return e}function UL(t,e){const n={},i=p(t,["prompt"]);e!==void 0&&i!=null&&g(e,["instances[0]","prompt"],i);const s=p(t,["personImage"]);e!==void 0&&s!=null&&g(e,["instances[0]","personImage","image"],yr(s));const a=p(t,["productImages"]);if(e!==void 0&&a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>ML(c))),g(e,["instances[0]","productImages"],l)}return n}function OL(t){const e={},n=p(t,["referenceImage"]);n!=null&&g(e,["referenceImage"],yr(n));const i=p(t,["referenceId"]);i!=null&&g(e,["referenceId"],i);const s=p(t,["referenceType"]);s!=null&&g(e,["referenceType"],s);const a=p(t,["maskImageConfig"]);a!=null&&g(e,["maskImageConfig"],NL(a));const l=p(t,["controlImageConfig"]);l!=null&&g(e,["controlImageConfig"],SO(l));const c=p(t,["styleImageConfig"]);c!=null&&g(e,["styleImageConfig"],c);const f=p(t,["subjectImageConfig"]);return f!=null&&g(e,["subjectImageConfig"],f),e}function jE(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const i=p(t,["safetyAttributes","scores"]);i!=null&&g(e,["scores"],i);const s=p(t,["contentType"]);return s!=null&&g(e,["contentType"],s),e}function JE(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const i=p(t,["safetyAttributes","scores"]);i!=null&&g(e,["scores"],i);const s=p(t,["contentType"]);return s!=null&&g(e,["contentType"],s),e}function LL(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=p(t,["threshold"]);return i!=null&&g(e,["threshold"],i),e}function qL(t){const e={},n=p(t,["image"]);return n!=null&&g(e,["image"],yr(n)),e}function BL(t,e){const n={},i=p(t,["mode"]);e!==void 0&&i!=null&&g(e,["parameters","mode"],i);const s=p(t,["maxPredictions"]);e!==void 0&&s!=null&&g(e,["parameters","maxPredictions"],s);const a=p(t,["confidenceThreshold"]);e!==void 0&&a!=null&&g(e,["parameters","confidenceThreshold"],a);const l=p(t,["maskDilation"]);e!==void 0&&l!=null&&g(e,["parameters","maskDilation"],l);const c=p(t,["binaryColorThreshold"]);e!==void 0&&c!=null&&g(e,["parameters","binaryColorThreshold"],c);const f=p(t,["labels"]);return e!==void 0&&f!=null&&g(e,["labels"],f),n}function GL(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ze(t,i));const s=p(e,["source"]);s!=null&&HL(s,n);const a=p(e,["config"]);return a!=null&&BL(a,n),n}function zL(t){const e={},n=p(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>fL(s))),g(e,["generatedMasks"],i)}return e}function HL(t,e){const n={},i=p(t,["prompt"]);e!==void 0&&i!=null&&g(e,["instances[0]","prompt"],i);const s=p(t,["image"]);e!==void 0&&s!=null&&g(e,["instances[0]","image"],yr(s));const a=p(t,["scribbleImage"]);return e!==void 0&&a!=null&&g(e,["instances[0]","scribble"],qL(a)),n}function VL(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const i=p(t,["functionCallingConfig"]);return i!=null&&g(e,["functionCallingConfig"],$O(i)),e}function FL(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const i=p(t,["fileSearch"]);i!=null&&g(e,["fileSearch"],i);const s=p(t,["codeExecution"]);if(s!=null&&g(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=p(t,["functionDeclarations"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(v=>v)),g(e,["functionDeclarations"],m)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],vL(l));const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],_L(c));const f=p(t,["googleSearchRetrieval"]);f!=null&&g(e,["googleSearchRetrieval"],f);const h=p(t,["urlContext"]);return h!=null&&g(e,["urlContext"],h),e}function YE(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const i=p(t,["computerUse"]);if(i!=null&&g(e,["computerUse"],i),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=p(t,["codeExecution"]);s!=null&&g(e,["codeExecution"],s);const a=p(t,["enterpriseWebSearch"]);a!=null&&g(e,["enterpriseWebSearch"],a);const l=p(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(b=>jO(b))),g(e,["functionDeclarations"],v)}const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],c);const f=p(t,["googleSearch"]);f!=null&&g(e,["googleSearch"],f);const h=p(t,["googleSearchRetrieval"]);h!=null&&g(e,["googleSearchRetrieval"],h);const m=p(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function $L(t){const e={},n=p(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const i=p(t,["createTime"]);i!=null&&g(e,["createTime"],i);const s=p(t,["updateTime"]);return s!=null&&g(e,["updateTime"],s),e}function jL(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&g(e,["baseModel"],n);const i=p(t,["createTime"]);i!=null&&g(e,["createTime"],i);const s=p(t,["updateTime"]);return s!=null&&g(e,["updateTime"],s),e}function JL(t,e){const n={},i=p(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const s=p(t,["description"]);e!==void 0&&s!=null&&g(e,["description"],s);const a=p(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&g(e,["defaultCheckpointId"],a),n}function YL(t,e){const n={},i=p(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const s=p(t,["description"]);e!==void 0&&s!=null&&g(e,["description"],s);const a=p(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&g(e,["defaultCheckpointId"],a),n}function KL(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","name"],Ze(t,i));const s=p(e,["config"]);return s!=null&&JL(s,n),n}function XL(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ze(t,i));const s=p(e,["config"]);return s!=null&&YL(s,n),n}function WL(t,e){const n={},i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const s=p(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&g(e,["parameters","safetySetting"],s);const a=p(t,["personGeneration"]);e!==void 0&&a!=null&&g(e,["parameters","personGeneration"],a);const l=p(t,["includeRaiReason"]);e!==void 0&&l!=null&&g(e,["parameters","includeRaiReason"],l);const c=p(t,["outputMimeType"]);e!==void 0&&c!=null&&g(e,["parameters","outputOptions","mimeType"],c);const f=p(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","compressionQuality"],f);const h=p(t,["enhanceInputImage"]);e!==void 0&&h!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],h);const m=p(t,["imagePreservationFactor"]);e!==void 0&&m!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],m);const v=p(t,["labels"]);e!==void 0&&v!=null&&g(e,["labels"],v);const b=p(t,["numberOfImages"]);e!==void 0&&b!=null&&g(e,["parameters","sampleCount"],b);const S=p(t,["mode"]);return e!==void 0&&S!=null&&g(e,["parameters","mode"],S),n}function QL(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["_url","model"],Ze(t,i));const s=p(e,["image"]);s!=null&&g(n,["instances[0]","image"],yr(s));const a=p(e,["upscaleFactor"]);a!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],a);const l=p(e,["config"]);return l!=null&&WL(l,n),n}function ZL(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Ff(a))),g(e,["generatedImages"],s)}return e}function e3(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const i=p(t,["encodedVideo"]);i!=null&&g(e,["videoBytes"],ro(i));const s=p(t,["encoding"]);return s!=null&&g(e,["mimeType"],s),e}function t3(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const i=p(t,["bytesBase64Encoded"]);i!=null&&g(e,["videoBytes"],ro(i));const s=p(t,["mimeType"]);return s!=null&&g(e,["mimeType"],s),e}function n3(t){const e={},n=p(t,["image"]);n!=null&&g(e,["_self"],yr(n));const i=p(t,["maskMode"]);return i!=null&&g(e,["maskMode"],i),e}function i3(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],$f(n));const i=p(t,["referenceType"]);return i!=null&&g(e,["referenceType"],i),e}function r3(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],yr(n));const i=p(t,["referenceType"]);return i!=null&&g(e,["referenceType"],i),e}function KE(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const i=p(t,["videoBytes"]);i!=null&&g(e,["encodedVideo"],ro(i));const s=p(t,["mimeType"]);return s!=null&&g(e,["encoding"],s),e}function XE(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["gcsUri"],n);const i=p(t,["videoBytes"]);i!=null&&g(e,["bytesBase64Encoded"],ro(i));const s=p(t,["mimeType"]);return s!=null&&g(e,["mimeType"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s3(t,e){const n={},i=p(t,["displayName"]);return e!==void 0&&i!=null&&g(e,["displayName"],i),n}function o3(t){const e={},n=p(t,["config"]);return n!=null&&s3(n,e),e}function a3(t,e){const n={},i=p(t,["force"]);return e!==void 0&&i!=null&&g(e,["_query","force"],i),n}function l3(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const i=p(t,["config"]);return i!=null&&a3(i,e),e}function u3(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function c3(t,e){const n={},i=p(t,["customMetadata"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),g(e,["customMetadata"],a)}const s=p(t,["chunkingConfig"]);return e!==void 0&&s!=null&&g(e,["chunkingConfig"],s),n}function d3(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const i=p(t,["metadata"]);i!=null&&g(e,["metadata"],i);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const l=p(t,["response"]);return l!=null&&g(e,["response"],h3(l)),e}function f3(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const i=p(t,["fileName"]);i!=null&&g(e,["fileName"],i);const s=p(t,["config"]);return s!=null&&c3(s,e),e}function h3(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["parent"]);i!=null&&g(e,["parent"],i);const s=p(t,["documentName"]);return s!=null&&g(e,["documentName"],s),e}function p3(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function m3(t){const e={},n=p(t,["config"]);return n!=null&&p3(n,e),e}function g3(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const s=p(t,["fileSearchStores"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),g(e,["fileSearchStores"],a)}return e}function WE(t,e){const n={},i=p(t,["mimeType"]);e!==void 0&&i!=null&&g(e,["mimeType"],i);const s=p(t,["displayName"]);e!==void 0&&s!=null&&g(e,["displayName"],s);const a=p(t,["customMetadata"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>f)),g(e,["customMetadata"],c)}const l=p(t,["chunkingConfig"]);return e!==void 0&&l!=null&&g(e,["chunkingConfig"],l),n}function y3(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const i=p(t,["config"]);return i!=null&&WE(i,e),e}function v3(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _3="Content-Type",b3="X-Server-Timeout",x3="User-Agent",Cg="x-goog-api-client",S3="1.38.0",w3=`google-genai-sdk/${S3}`,T3="v1beta1",E3="v1beta";class C3{constructor(e){var n,i,s;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const a={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const c=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!c?(a.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?a.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(a.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:T3}else{if(!this.clientOptions.apiKey)throw new sc({message:"API key must be set when using the Gemini API.",status:403});a.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:E3,a.baseUrl="https://generativelanguage.googleapis.com/"}a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const s=[this.getRequestUrlInternal(n)];return i&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===bg.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e,n),s=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[l,c]of Object.entries(e.queryParams))s.searchParams.append(l,String(c));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,s.toString(),e.abortSignal),this.unaryApiCall(s,a,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[s,a]of Object.entries(n))typeof a=="object"?i[s]=Object.assign(Object.assign({},i[s]),a):a!==void 0&&(i[s]=a);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e,n),s=this.constructUrl(e.path,n,i);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,s.toString(),e.abortSignal),this.streamApiCall(s,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i,s){if(n&&n.timeout||s){const a=new AbortController,l=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const c=setTimeout(()=>a.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}s&&s.addEventListener("abort",()=>{a.abort()}),e.signal=l}return n&&n.extraBody!==null&&A3(e,n.extraBody),e.headers=await this.getHeadersInternal(n,i),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async s=>(await iw(s),new xg(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async s=>(await iw(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){return hr(this,arguments,function*(){var i;const s=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),a=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let l="";const c="data:",f=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:m}=yield Re(s.read());if(h){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const v=a.decode(m,{stream:!0});try{const E=JSON.parse(v);if("error"in E){const w=JSON.parse(JSON.stringify(E.error)),C=w.status,A=w.code,N=`got status: ${C}. ${JSON.stringify(E)}`;if(A>=400&&A<600)throw new sc({message:N,status:A})}}catch(E){if(E.name==="ApiError")throw E}l+=v;let b=-1,S=0;for(;;){b=-1,S=0;for(const C of f){const A=l.indexOf(C);A!==-1&&(b===-1||A<b)&&(b=A,S=C.length)}if(b===-1)break;const E=l.substring(0,b);l=l.substring(b+S);const w=E.trim();if(w.startsWith(c)){const C=w.substring(c.length).trim();try{const A=new Response(C,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Re(new xg(A))}catch(A){throw new Error(`exception parsing stream chunk ${C}. ${A}`)}}}}}finally{s.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=w3+" "+this.clientOptions.userAgentExtra;return e[x3]=n,e[Cg]=n,e[_3]="application/json",e}async getHeadersInternal(e,n){const i=new Headers;if(e&&e.headers){for(const[s,a]of Object.entries(e.headers))i.append(s,a);e.timeout&&e.timeout>0&&i.append(b3,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(e){var n;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(e,n){var i;const s={};n!=null&&(s.mimeType=n.mimeType,s.name=n.name,s.displayName=n.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const a=this.clientOptions.uploader,l=await a.stat(e);s.sizeBytes=String(l.size);const c=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=c;const f={file:s},h=this.getFileName(e),m=le("upload/v1beta/files",f._url),v=await this.fetchUploadUrl(m,s.sizeBytes,s.mimeType,h,f,n==null?void 0:n.httpOptions);return a.upload(e,v,this)}async uploadFileToFileSearchStore(e,n,i){var s;const a=this.clientOptions.uploader,l=await a.stat(n),c=String(l.size),f=(s=i==null?void 0:i.mimeType)!==null&&s!==void 0?s:l.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${e}:uploadToFileSearchStore`,m=this.getFileName(n),v={};i!=null&&WE(i,v);const b=await this.fetchUploadUrl(h,c,f,m,v,i==null?void 0:i.httpOptions);return a.uploadToFileSearchStore(n,b,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,i,s,a,l){var c;let f={};l?f=l:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},s?{"X-Goog-Upload-File-Name":s}:{})};const h=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:f});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const m=(c=h==null?void 0:h.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(m===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return m}}async function iw(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(i);throw n>=400&&n<600?new sc({message:s,status:n}):new Error(s)}}function A3(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(a,l){const c=Object.assign({},a);for(const f in l)if(Object.prototype.hasOwnProperty.call(l,f)){const h=l[f],m=c[f];h&&typeof h=="object"&&!Array.isArray(h)&&m&&typeof m=="object"&&!Array.isArray(m)?c[f]=i(m,h):(m&&h&&typeof m!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof m}, New type: ${typeof h}. Overwriting.`),c[f]=h)}return c}const s=i(n,e);t.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const R3="mcp_used/unknown";let N3=!1;function QE(t){for(const e of t)if(k3(e)||typeof e=="object"&&"inputSchema"in e)return!0;return N3}function ZE(t){var e;const n=(e=t[Cg])!==null&&e!==void 0?e:"";t[Cg]=(n+` ${R3}`).trimStart()}function k3(t){return t!==null&&typeof t=="object"&&t instanceof Ty}function M3(t){return hr(this,arguments,function*(n,i=100){let s,a=0;for(;a<i;){const l=yield Re(n.listTools({cursor:s}));for(const c of l.tools)yield yield Re(c),a++;if(!l.nextCursor)break;s=l.nextCursor}})}class Ty{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Ty(e,n)}async initialize(){var e,n,i,s;if(this.mcpTools.length>0)return;const a={},l=[];for(const m of this.mcpClients)try{for(var c=!0,f=(n=void 0,pr(M3(m))),h;h=await f.next(),e=h.done,!e;c=!0){s=h.value,c=!1;const v=s;l.push(v);const b=v.name;if(a[b])throw new Error(`Duplicate function name ${b} found in MCP tools. Please ensure function names are unique.`);a[b]=m}}catch(v){n={error:v}}finally{try{!c&&!e&&(i=f.return)&&await i.call(f)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),lU(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[i.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const l=await s.callTool({name:i.name,arguments:i.args},void 0,a);n.push({functionResponse:{name:i.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function I3(t,e,n){const i=new eU;let s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data),Object.assign(i,s),e(i)}class D3{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),l=O3(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),f=`${s}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${c}`;let h=()=>{};const m=new Promise(k=>{h=k}),v=e.callbacks,b=function(){h({})},S=this.apiClient,E={onopen:b,onmessage:k=>{I3(S,v.onmessage,k)},onerror:(n=v==null?void 0:v.onerror)!==null&&n!==void 0?n:function(k){},onclose:(i=v==null?void 0:v.onclose)!==null&&i!==void 0?i:function(k){}},w=this.webSocketFactory.create(f,U3(l),E);w.connect(),await m;const N={setup:{model:Ze(this.apiClient,e.model)}};return w.send(JSON.stringify(N)),new P3(w,this.apiClient)}}class P3{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=sO(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=rO(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Wa.PLAY)}pause(){this.sendPlaybackControl(Wa.PAUSE)}stop(){this.sendPlaybackControl(Wa.STOP)}resetContext(){this.sendPlaybackControl(Wa.RESET_CONTEXT)}close(){this.conn.close()}}function U3(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function O3(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const L3="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function q3(t,e,n){const i=new ZP;let s;n.data instanceof Blob?s=await n.data.text():n.data instanceof ArrayBuffer?s=new TextDecoder().decode(n.data):s=n.data;const a=JSON.parse(s);if(t.isVertexAI()){const l=lO(a);Object.assign(i,l)}else Object.assign(i,a);e(i)}class B3{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new D3(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,s,a,l,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let m;const v=this.apiClient.getHeaders();e.config&&e.config.tools&&QE(e.config.tools)&&ZE(v);const b=V3(v);if(this.apiClient.isVertexAI()){const B=this.apiClient.getProject(),J=this.apiClient.getLocation(),te=this.apiClient.getApiKey(),Z=!!B&&!!J||!!te;this.apiClient.getCustomBaseUrl()&&!Z?m=f:(m=`${f}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(b,m))}else{const B=this.apiClient.getApiKey();let J="BidiGenerateContent",te="key";B!=null&&B.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),J="BidiGenerateContentConstrained",te="access_token"),m=`${f}/ws/google.ai.generativelanguage.${h}.GenerativeService.${J}?${te}=${B}`}let S=()=>{};const E=new Promise(B=>{S=B}),w=e.callbacks,C=function(){var B;(B=w==null?void 0:w.onopen)===null||B===void 0||B.call(w),S({})},A=this.apiClient,N={onopen:C,onmessage:B=>{q3(A,w.onmessage,B)},onerror:(n=w==null?void 0:w.onerror)!==null&&n!==void 0?n:function(B){},onclose:(i=w==null?void 0:w.onclose)!==null&&i!==void 0?i:function(B){}},k=this.webSocketFactory.create(m,H3(b),N);k.connect(),await E;let M=Ze(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&M.startsWith("publishers/")){const B=this.apiClient.getProject(),J=this.apiClient.getLocation();B&&J&&(M=`projects/${B}/locations/${J}/`+M)}let U={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ef.AUDIO]}:e.config.responseModalities=[Ef.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const z=(c=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[],I=[];for(const B of z)if(this.isCallableTool(B)){const J=B;I.push(await J.tool())}else I.push(B);I.length>0&&(e.config.tools=I);const q={model:M,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?U=iO(this.apiClient,q):U=nO(this.apiClient,q),delete U.config,k.send(JSON.stringify(U)),new z3(k,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const G3={turnComplete:!0};class z3{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=tr(n.turns),e.isVertexAI()||(i=i.map(s=>Vf(s)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const a of i){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(L3)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},G3),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:aO(e)}:n={realtimeInput:oO(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function H3(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function V3(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rw=10;function sw(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(al(l)){s=!0;break}if(!s)return!0;const a=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function al(t){return"callTool"in t&&typeof t.callTool=="function"}function F3(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>al(s)))!==null&&i!==void 0?i:!1}function ow(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((i,s)=>{if(al(i))return;const a=i;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(s)}),n}function aw(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $3 extends ps{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,s,a,l,c;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!F3(n)||sw(n.config))return await this.generateContentInternal(f);const h=ow(n);if(h.length>0){const w=h.map(C=>`tools[${C}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let m,v;const b=tr(f.contents),S=(a=(s=(i=f.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&a!==void 0?a:rw;let E=0;for(;E<S&&(m=await this.generateContentInternal(f),!(!m.functionCalls||m.functionCalls.length===0));){const w=m.candidates[0].content,C=[];for(const A of(c=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[])if(al(A)){const k=await A.callTool(m.functionCalls);C.push(...k)}E++,v={role:"user",parts:C},f.contents=tr(f.contents),f.contents.push(w),f.contents.push(v),aw(f.config)&&(b.push(w),b.push(v))}return aw(f.config)&&(m.automaticFunctionCallingHistory=b),m},this.generateContentStream=async n=>{var i,s,a,l,c;if(this.maybeMoveToResponseJsonSchem(n),sw(n.config)){const v=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(v)}const f=ow(n);if(f.length>0){const v=f.map(b=>`tools[${b}]`).join(", ");throw new Error(`Incompatible tools found at ${v}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(a=(s=(i=n==null?void 0:n.config)===null||i===void 0?void 0:i.toolConfig)===null||s===void 0?void 0:s.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,m=(c=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(h&&!m)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var s;let a;const l=[];if(i!=null&&i.generatedImages)for(const f of i.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((s=f==null?void 0:f.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?a=f==null?void 0:f.safetyAttributes:l.push(f);let c;return a?c={generatedImages:l,positivePromptSafetyAttributes:a,sdkHttpResponse:i.sdkHttpResponse}:c={generatedImages:l,sdkHttpResponse:i.sdkHttpResponse},c}),this.list=async n=>{var i;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((i=l.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Wo(fs.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(l),l)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const s={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(s)},this.generateVideos=async n=>{var i,s,a,l,c,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((s=n.video)===null||s===void 0)&&s.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.uri&&(!((f=(c=n.source)===null||c===void 0?void 0:c.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,s;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const l=await Promise.all(a.map(async f=>al(f)?await f.tool():f)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(c.config.tools=l,e.config&&e.config.tools&&QE(e.config.tools)){const f=(s=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&s!==void 0?s:{};let h=Object.assign({},f);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),ZE(h),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return c}async initAfcToolsMap(e){var n,i,s;const a=new Map;for(const l of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(al(l)){const c=l,f=await c.tool();for(const h of(s=f.functionDeclarations)!==null&&s!==void 0?s:[]){if(!h.name)throw new Error("Function declaration name is required.");if(a.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);a.set(h.name,c)}}return a}async processAfcStream(e){var n,i,s;const a=(s=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:rw;let l=!1,c=0;const f=await this.initAfcToolsMap(e);return(function(h,m,v){return hr(this,arguments,function*(){for(var b,S,E,w,C,A;c<a;){l&&(c++,l=!1);const U=yield Re(h.processParamsMaybeAddMcpUsage(v)),z=yield Re(h.generateContentStreamInternal(U)),I=[],q=[];try{for(var N=!0,k=(S=void 0,pr(z)),M;M=yield Re(k.next()),b=M.done,!b;N=!0){w=M.value,N=!1;const B=w;if(yield yield Re(B),B.candidates&&(!((C=B.candidates[0])===null||C===void 0)&&C.content)){q.push(B.candidates[0].content);for(const J of(A=B.candidates[0].content.parts)!==null&&A!==void 0?A:[])if(c<a&&J.functionCall){if(!J.functionCall.name)throw new Error("Function call name was not returned by the model.");if(m.has(J.functionCall.name)){const te=yield Re(m.get(J.functionCall.name).callTool([J.functionCall]));I.push(...te)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${m.keys()}, mising tool: ${J.functionCall.name}`)}}}}catch(B){S={error:B}}finally{try{!N&&!b&&(E=k.return)&&(yield Re(E.call(k)))}finally{if(S)throw S.error}}if(I.length>0){l=!0;const B=new gu;B.candidates=[{content:{role:"user",parts:I}}],yield yield Re(B);const J=[];J.push(...q),J.push({role:"user",parts:I});const te=tr(v.contents).concat(J);v.contents=te}else break}})})(this,f,e)}async generateContentInternal(e){var n,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=ew(this.apiClient,e);return c=le("{model}:generateContent",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const v=nw(m),b=new gu;return Object.assign(b,v),b})}else{const h=ZS(this.apiClient,e);return c=le("{model}:generateContent",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const v=tw(m),b=new gu;return Object.assign(b,v),b})}}async generateContentStreamInternal(e){var n,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=ew(this.apiClient,e);return c=le("{model}:streamGenerateContent?alt=sse",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(v){return hr(this,arguments,function*(){var b,S,E,w;try{for(var C=!0,A=pr(v),N;N=yield Re(A.next()),b=N.done,!b;C=!0){w=N.value,C=!1;const k=w,M=nw(yield Re(k.json()));M.sdkHttpResponse={headers:k.headers};const U=new gu;Object.assign(U,M),yield yield Re(U)}}catch(k){S={error:k}}finally{try{!C&&!b&&(E=A.return)&&(yield Re(E.call(A)))}finally{if(S)throw S.error}}})})}else{const h=ZS(this.apiClient,e);return c=le("{model}:streamGenerateContent?alt=sse",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),l.then(function(v){return hr(this,arguments,function*(){var b,S,E,w;try{for(var C=!0,A=pr(v),N;N=yield Re(A.next()),b=N.done,!b;C=!0){w=N.value,C=!1;const k=w,M=tw(yield Re(k.json()));M.sdkHttpResponse={headers:k.headers};const U=new gu;Object.assign(U,M),yield yield Re(U)}}catch(k){S={error:k}}finally{try{!C&&!b&&(E=A.return)&&(yield Re(E.call(A)))}finally{if(S)throw S.error}}})})}}async embedContent(e){var n,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=BO(this.apiClient,e);return c=le("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const v=zO(m),b=new OS;return Object.assign(b,v),b})}else{const h=qO(this.apiClient,e);return c=le("{model}:batchEmbedContents",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const v=GO(m),b=new OS;return Object.assign(b,v),b})}}async generateImagesInternal(e){var n,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=QO(this.apiClient,e);return c=le("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const v=eL(m),b=new LS;return Object.assign(b,v),b})}else{const h=WO(this.apiClient,e);return c=le("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const v=ZO(m),b=new LS;return Object.assign(b,v),b})}}async editImageInternal(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=PO(this.apiClient,e);return a=le("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{const h=UO(f),m=new HP;return Object.assign(m,h),m})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=QL(this.apiClient,e);return a=le("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{const h=ZL(f),m=new VP;return Object.assign(m,h),m})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=DL(this.apiClient,e);return a=le("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const h=PL(f),m=new FP;return Object.assign(m,h),m})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=GL(this.apiClient,e);return a=le("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const h=zL(f),m=new $P;return Object.assign(m,h),m})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=yL(this.apiClient,e);return c=le("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>Eg(m))}else{const h=gL(this.apiClient,e);return c=le("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l.then(m=>Tg(m))}}async listInternal(e){var n,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=CL(this.apiClient,e);return c=le("{models_url}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const v=RL(m),b=new qS;return Object.assign(b,v),b})}else{const h=EL(this.apiClient,e);return c=le("{models_url}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const v=AL(m),b=new qS;return Object.assign(b,v),b})}}async update(e){var n,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=XL(this.apiClient,e);return c=le("{model}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>Eg(m))}else{const h=KL(this.apiClient,e);return c=le("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l.then(m=>Tg(m))}}async delete(e){var n,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=kO(this.apiClient,e);return c=le("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const v=IO(m),b=new BS;return Object.assign(b,v),b})}else{const h=NO(this.apiClient,e);return c=le("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const v=MO(m),b=new BS;return Object.assign(b,v),b})}}async countTokens(e){var n,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=CO(this.apiClient,e);return c=le("{model}:countTokens",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const v=RO(m),b=new GS;return Object.assign(b,v),b})}else{const h=EO(this.apiClient,e);return c=le("{model}:countTokens",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const v=AO(m),b=new GS;return Object.assign(b,v),b})}}async computeTokens(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=vO(this.apiClient,e);return a=le("{model}:computeTokens",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{const h=_O(f),m=new jP;return Object.assign(m,h),m})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=oL(this.apiClient,e);return c=le("{model}:predictLongRunning",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l.then(m=>{const v=rL(m),b=new Cf;return Object.assign(b,v),b})}else{const h=sL(this.apiClient,e);return c=le("{model}:predictLongRunning",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l.then(m=>{const v=iL(m),b=new Cf;return Object.assign(b,v),b})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class j3 extends ps{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=OP(e);return c=le("{operationName}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),l}else{const h=UP(e);return c=le("{operationName}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),l}}async fetchPredictVideosOperationInternal(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=RP(e);return a=le("{resourceName}:fetchPredictOperation",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function J3(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function Y3(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>iq(a))),g(e,["parts"],s)}const i=p(t,["role"]);return i!=null&&g(e,["role"],i),e}function K3(t,e,n){const i={},s=p(e,["expireTime"]);n!==void 0&&s!=null&&g(n,["expireTime"],s);const a=p(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&g(n,["newSessionExpireTime"],a);const l=p(e,["uses"]);n!==void 0&&l!=null&&g(n,["uses"],l);const c=p(e,["liveConnectConstraints"]);n!==void 0&&c!=null&&g(n,["bidiGenerateContentSetup"],nq(t,c));const f=p(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&g(n,["fieldMask"],f),i}function X3(t,e){const n={},i=p(e,["config"]);return i!=null&&g(n,["config"],K3(t,i,n)),n}function W3(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function Q3(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const i=p(t,["args"]);i!=null&&g(e,["args"],i);const s=p(t,["name"]);if(s!=null&&g(e,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Z3(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function eq(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function tq(t,e){const n={},i=p(t,["generationConfig"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig"],i);const s=p(t,["responseModalities"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","responseModalities"],s);const a=p(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const l=p(t,["topP"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topP"],l);const c=p(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const f=p(t,["maxOutputTokens"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","maxOutputTokens"],f);const h=p(t,["mediaResolution"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","mediaResolution"],h);const m=p(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const v=p(t,["speechConfig"]);e!==void 0&&v!=null&&g(e,["setup","generationConfig","speechConfig"],wy(v));const b=p(t,["thinkingConfig"]);e!==void 0&&b!=null&&g(e,["setup","generationConfig","thinkingConfig"],b);const S=p(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],S);const E=p(t,["systemInstruction"]);e!==void 0&&E!=null&&g(e,["setup","systemInstruction"],Y3(Dn(E)));const w=p(t,["tools"]);if(e!==void 0&&w!=null){let z=bl(w);Array.isArray(z)&&(z=z.map(I=>sq(_l(I)))),g(e,["setup","tools"],z)}const C=p(t,["sessionResumption"]);e!==void 0&&C!=null&&g(e,["setup","sessionResumption"],rq(C));const A=p(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&g(e,["setup","inputAudioTranscription"],A);const N=p(t,["outputAudioTranscription"]);e!==void 0&&N!=null&&g(e,["setup","outputAudioTranscription"],N);const k=p(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&g(e,["setup","realtimeInputConfig"],k);const M=p(t,["contextWindowCompression"]);e!==void 0&&M!=null&&g(e,["setup","contextWindowCompression"],M);const U=p(t,["proactivity"]);if(e!==void 0&&U!=null&&g(e,["setup","proactivity"],U),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function nq(t,e){const n={},i=p(e,["model"]);i!=null&&g(n,["setup","model"],Ze(t,i));const s=p(e,["config"]);return s!=null&&g(n,["config"],tq(s,n)),n}function iq(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const i=p(t,["codeExecutionResult"]);i!=null&&g(e,["codeExecutionResult"],i);const s=p(t,["executableCode"]);s!=null&&g(e,["executableCode"],s);const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],W3(a));const l=p(t,["functionCall"]);l!=null&&g(e,["functionCall"],Q3(l));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const f=p(t,["inlineData"]);f!=null&&g(e,["inlineData"],J3(f));const h=p(t,["text"]);h!=null&&g(e,["text"],h);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const v=p(t,["thoughtSignature"]);v!=null&&g(e,["thoughtSignature"],v);const b=p(t,["videoMetadata"]);return b!=null&&g(e,["videoMetadata"],b),e}function rq(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function sq(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const i=p(t,["fileSearch"]);i!=null&&g(e,["fileSearch"],i);const s=p(t,["codeExecution"]);if(s!=null&&g(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=p(t,["functionDeclarations"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(v=>v)),g(e,["functionDeclarations"],m)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],Z3(l));const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],eq(c));const f=p(t,["googleSearchRetrieval"]);f!=null&&g(e,["googleSearchRetrieval"],f);const h=p(t,["urlContext"]);return h!=null&&g(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oq(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const s=Object.keys(i).map(a=>`${n}.${a}`);e.push(...s)}else e.push(n)}return e.join(",")}function aq(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const a=i.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(n){const a=oq(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];s.length>0&&(c=s.map(h=>l.includes(h)?`generationConfig.${h}`:h));const f=[];a&&f.push(a),c.length>0&&f.push(...c),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class lq extends ps{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=X3(this.apiClient,e);a=le("auth_tokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query;const f=aq(c,e.config);return s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uq(t,e){const n={},i=p(t,["force"]);return e!==void 0&&i!=null&&g(e,["_query","force"],i),n}function cq(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const i=p(t,["config"]);return i!=null&&uq(i,e),e}function dq(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function fq(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function hq(t){const e={},n=p(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const i=p(t,["config"]);return i!=null&&fq(i,e),e}function pq(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const i=p(t,["nextPageToken"]);i!=null&&g(e,["nextPageToken"],i);const s=p(t,["documents"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),g(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mq extends ps{constructor(e){super(),this.apiClient=e,this.list=async n=>new Wo(fs.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=dq(e);return a=le("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(e){var n,i;let s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=cq(e);s=le("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=hq(e);return a=le("{parent}/documents",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const h=pq(f),m=new JP;return Object.assign(m,h),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gq extends ps{constructor(e,n=new mq(e)){super(),this.apiClient=e,this.documents=n,this.list=async(i={})=>new Wo(fs.PAGED_ITEM_FILE_SEARCH_STORES,s=>this.listInternal(s),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=o3(e);return a=le("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async get(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=u3(e);return a=le("{name}",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(e){var n,i;let s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=l3(e);s=le("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=m3(e);return a=le("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const h=g3(f),m=new YP;return Object.assign(m,h),m})}}async uploadToFileSearchStoreInternal(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=y3(e);return a=le("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const h=v3(f),m=new KP;return Object.assign(m,h),m})}}async importFile(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=f3(e);return a=le("{file_search_store_name}:importFile",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const h=d3(f),m=new vy;return Object.assign(m,h),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let eC=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return eC=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const yq=()=>eC();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ag(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Rg=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nr extends Error{}class Jn extends nr{constructor(e,n,i,s){super(`${Jn.makeMessage(e,n,i)}`),this.status=e,this.headers=s,this.error=n}static makeMessage(e,n,i){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,i,s){if(!e||!s)return new jf({message:i,cause:Rg(n)});const a=n;return e===400?new nC(e,a,i,s):e===401?new iC(e,a,i,s):e===403?new rC(e,a,i,s):e===404?new sC(e,a,i,s):e===409?new oC(e,a,i,s):e===422?new aC(e,a,i,s):e===429?new lC(e,a,i,s):e>=500?new uC(e,a,i,s):new Jn(e,a,i,s)}}class Ng extends Jn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class jf extends Jn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class tC extends jf{constructor({message:e}={}){super({message:e??"Request timed out."})}}class nC extends Jn{}class iC extends Jn{}class rC extends Jn{}class sC extends Jn{}class oC extends Jn{}class aC extends Jn{}class lC extends Jn{}class uC extends Jn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vq=/^[a-z][a-z0-9+.-]*:/i,_q=t=>vq.test(t);let kg=t=>(kg=Array.isArray,kg(t));const bq=kg;let xq=bq;const lw=xq;function Sq(t){if(!t)return!0;for(const e in t)return!1;return!0}function wq(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const Tq=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new nr(`${t} must be an integer`);if(e<0)throw new nr(`${t} must be a positive integer`);return e},Eq=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cq=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ja="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Aq(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Rq=()=>{var t,e,n,i,s;const a=Aq();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ja,"X-Stainless-OS":cw(Deno.build.os),"X-Stainless-Arch":uw(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ja,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ja,"X-Stainless-OS":cw((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":uw((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(s=globalThis.process.version)!==null&&s!==void 0?s:"unknown"};const l=Nq();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ja,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ja,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Nq(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const i=n.exec(navigator.userAgent);if(i){const s=i[1]||0,a=i[2]||0,l=i[3]||0;return{browser:e,version:`${s}.${a}.${l}`}}}return null}const uw=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",cw=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let $d;const kq=()=>$d??($d=Rq());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mq(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function cC(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function Iq(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return cC({start(){},async pull(n){const{done:i,value:s}=await e.next();i?n.close():n.enqueue(s)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function dC(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Dq(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const i=t.getReader(),s=i.cancel();i.releaseLock(),await s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pq=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fC=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Pm(t,e,n){return fC(),new File(t,e??"unknown_file",n)}function Uq(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const Oq=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hC=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Lq=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&hC(t),qq=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function Bq(t,e,n){if(fC(),t=await t,Lq(t))return t instanceof File?t:Pm([await t.arrayBuffer()],t.name);if(qq(t)){const s=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Pm(await Mg(s),e,n)}const i=await Mg(t);if(e||(e=Uq(t)),!(n!=null&&n.type)){const s=i.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof s=="string"&&(n=Object.assign(Object.assign({},n),{type:s}))}return Pm(i,e,n)}async function Mg(t){var e,n,i,s,a;let l=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)l.push(t);else if(hC(t))l.push(t instanceof Blob?t:await t.arrayBuffer());else if(Oq(t))try{for(var c=!0,f=pr(t),h;h=await f.next(),e=h.done,!e;c=!0){s=h.value,c=!1;const m=s;l.push(...await Mg(m))}}catch(m){n={error:m}}finally{try{!c&&!e&&(i=f.return)&&await i.call(f)}finally{if(n)throw n.error}}else{const m=(a=t==null?void 0:t.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof t}${m?`; constructor: ${m}`:""}${Gq(t)}`)}return l}function Gq(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pC{constructor(e){this._client=e}}pC._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mC(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const dw=Object.freeze(Object.create(null)),zq=(t=mC)=>(function(n,...i){if(n.length===1)return n[0];let s=!1;const a=[],l=n.reduce((m,v,b)=>{var S,E,w;/[?#]/.test(v)&&(s=!0);const C=i[b];let A=(s?encodeURIComponent:t)(""+C);return b!==i.length&&(C==null||typeof C=="object"&&C.toString===((w=Object.getPrototypeOf((E=Object.getPrototypeOf((S=C.hasOwnProperty)!==null&&S!==void 0?S:dw))!==null&&E!==void 0?E:dw))===null||w===void 0?void 0:w.toString))&&(A=C+"",a.push({start:m.length+v.length,length:A.length,error:`Value of type ${Object.prototype.toString.call(C).slice(8,-1)} is not a valid path parameter`})),m+v+(b===i.length?"":A)},""),c=l.split(/[?#]/,1)[0],f=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=f.exec(c))!==null;)a.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(a.sort((m,v)=>m.start-v.start),a.length>0){let m=0;const v=a.reduce((b,S)=>{const E=" ".repeat(S.start-m),w="^".repeat(S.length);return m=S.start+S.length,b+E+w},"");throw new nr(`Path parameters result in path with invalid segments:
${a.map(b=>b.error).join(`
`)}
${l}
${v}`)}return l}),jd=zq(mC);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gC extends pC{create(e,n){var i;const{api_version:s=this._client.apiVersion}=e,a=Rf(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new nr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new nr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(jd`/${s}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(i=e.stream)!==null&&i!==void 0?i:!1}))}delete(e,n={},i){const{api_version:s=this._client.apiVersion}=n??{};return this._client.delete(jd`/${s}/interactions/${e}`,i)}cancel(e,n={},i){const{api_version:s=this._client.apiVersion}=n??{};return this._client.post(jd`/${s}/interactions/${e}/cancel`,i)}get(e,n={},i){var s;const a=n??{},{api_version:l=this._client.apiVersion}=a,c=Rf(a,["api_version"]);return this._client.get(jd`/${l}/interactions/${e}`,Object.assign(Object.assign({query:c},i),{stream:(s=n==null?void 0:n.stream)!==null&&s!==void 0?s:!1}))}}gC._key=Object.freeze(["interactions"]);class yC extends gC{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hq(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let i=0;for(const s of t)n.set(s,i),i+=s.length;return n}let Jd;function Ey(t){let e;return(Jd??(e=new globalThis.TextEncoder,Jd=e.encode.bind(e)))(t)}let Yd;function fw(t){let e;return(Yd??(e=new globalThis.TextDecoder,Yd=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jf{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Ey(e):e;this.buffer=Hq([this.buffer,n]);const i=[];let s;for(;(s=Vq(this.buffer,this.carriageReturnIndex))!=null;){if(s.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=s.index;continue}if(this.carriageReturnIndex!=null&&(s.index!==this.carriageReturnIndex+1||s.carriage)){i.push(fw(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?s.preceding-1:s.preceding,l=fw(this.buffer.subarray(0,a));i.push(l),this.buffer=this.buffer.subarray(s.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}Jf.NEWLINE_CHARS=new Set([`
`,"\r"]);Jf.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Vq(t,e){for(let s=e??0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function Fq(t){for(let i=0;i<t.length-1;i++){if(t[i]===10&&t[i+1]===10||t[i]===13&&t[i+1]===13)return i+2;if(t[i]===13&&t[i+1]===10&&i+3<t.length&&t[i+2]===13&&t[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nf={off:0,error:200,warn:300,info:400,debug:500},hw=(t,e,n)=>{if(t){if(wq(Nf,t))return t;zn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Nf))}`)}};function Au(){}function Kd(t,e,n){return!e||Nf[t]>Nf[n]?Au:e[t].bind(e)}const $q={error:Au,warn:Au,info:Au,debug:Au};let pw=new WeakMap;function zn(t){var e;const n=t.logger,i=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return $q;const s=pw.get(n);if(s&&s[0]===i)return s[1];const a={error:Kd("error",n,i),warn:Kd("warn",n,i),info:Kd("info",n,i),debug:Kd("debug",n,i)};return pw.set(n,[i,a]),a}const Po=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qa{constructor(e,n,i){this.iterator=e,this.controller=n,this.client=i}static fromSSEResponse(e,n,i){let s=!1;const a=i?zn(i):console;function l(){return hr(this,arguments,function*(){var f,h,m,v;if(s)throw new nr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let b=!1;try{try{for(var S=!0,E=pr(jq(e,n)),w;w=yield Re(E.next()),f=w.done,!f;S=!0){v=w.value,S=!1;const C=v;if(!b)if(C.data.startsWith("[DONE]")){b=!0;continue}else try{yield yield Re(JSON.parse(C.data))}catch(A){throw a.error("Could not parse message into JSON:",C.data),a.error("From chunk:",C.raw),A}}}catch(C){h={error:C}}finally{try{!S&&!f&&(m=E.return)&&(yield Re(m.call(E)))}finally{if(h)throw h.error}}b=!0}catch(C){if(Ag(C))return yield Re(void 0);throw C}finally{b||n.abort()}})}return new Qa(l,n,i)}static fromReadableStream(e,n,i){let s=!1;function a(){return hr(this,arguments,function*(){var f,h,m,v;const b=new Jf,S=dC(e);try{for(var E=!0,w=pr(S),C;C=yield Re(w.next()),f=C.done,!f;E=!0){v=C.value,E=!1;const A=v;for(const N of b.decode(A))yield yield Re(N)}}catch(A){h={error:A}}finally{try{!E&&!f&&(m=w.return)&&(yield Re(m.call(w)))}finally{if(h)throw h.error}}for(const A of b.flush())yield yield Re(A)})}function l(){return hr(this,arguments,function*(){var f,h,m,v;if(s)throw new nr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let b=!1;try{try{for(var S=!0,E=pr(a()),w;w=yield Re(E.next()),f=w.done,!f;S=!0){v=w.value,S=!1;const C=v;b||C&&(yield yield Re(JSON.parse(C)))}}catch(C){h={error:C}}finally{try{!S&&!f&&(m=E.return)&&(yield Re(m.call(E)))}finally{if(h)throw h.error}}b=!0}catch(C){if(Ag(C))return yield Re(void 0);throw C}finally{b||n.abort()}})}return new Qa(l,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],i=this.iterator(),s=a=>({next:()=>{if(a.length===0){const l=i.next();e.push(l),n.push(l)}return a.shift()}});return[new Qa(()=>s(e),this.controller,this.client),new Qa(()=>s(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return cC({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:s,done:a}=await n.next();if(a)return i.close();const l=Ey(JSON.stringify(s)+`
`);i.enqueue(l)}catch(s){i.error(s)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}}function jq(t,e){return hr(this,arguments,function*(){var i,s,a,l;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new nr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new nr("Attempted to iterate over a response with no body");const c=new Yq,f=new Jf,h=dC(t.body);try{for(var m=!0,v=pr(Jq(h)),b;b=yield Re(v.next()),i=b.done,!i;m=!0){l=b.value,m=!1;const S=l;for(const E of f.decode(S)){const w=c.decode(E);w&&(yield yield Re(w))}}}catch(S){s={error:S}}finally{try{!m&&!i&&(a=v.return)&&(yield Re(a.call(v)))}finally{if(s)throw s.error}}for(const S of f.flush()){const E=c.decode(S);E&&(yield yield Re(E))}})}function Jq(t){return hr(this,arguments,function*(){var n,i,s,a;let l=new Uint8Array;try{for(var c=!0,f=pr(t),h;h=yield Re(f.next()),n=h.done,!n;c=!0){a=h.value,c=!1;const m=a;if(m==null)continue;const v=m instanceof ArrayBuffer?new Uint8Array(m):typeof m=="string"?Ey(m):m;let b=new Uint8Array(l.length+v.length);b.set(l),b.set(v,l.length),l=b;let S;for(;(S=Fq(l))!==-1;)yield yield Re(l.slice(0,S)),l=l.slice(S)}}catch(m){i={error:m}}finally{try{!c&&!n&&(s=f.return)&&(yield Re(s.call(f)))}finally{if(i)throw i.error}}l.length>0&&(yield yield Re(l))})}class Yq{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,i,s]=Kq(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function Kq(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Xq(t,e){const{response:n,requestLogID:i,retryOfRequestLogID:s,startTime:a}=e,l=await(async()=>{var c;if(e.options.stream)return zn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Qa.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const f=n.headers.get("content-type"),h=(c=f==null?void 0:f.split(";")[0])===null||c===void 0?void 0:c.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await n.json():await n.text()})();return zn(t).debug(`[${i}] response parsed`,Po({retryOfRequestLogID:s,url:n.url,status:n.status,body:l,durationMs:Date.now()-a})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cy extends Promise{constructor(e,n,i=Xq){super(s=>{s(null)}),this.responsePromise=n,this.parseResponse=i,this.client=e}_thenUnwrap(e){return new Cy(this.client,this.responsePromise,async(n,i)=>e(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vC=Symbol("brand.privateNullableHeaders");function*Wq(t){if(!t)return;if(vC in t){const{values:i,nulls:s}=t;yield*i.entries();for(const a of s)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():lw(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let i of n){const s=i[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const a=lw(i[1])?i[1]:[i[1]];let l=!1;for(const c of a)c!==void 0&&(e&&!l&&(l=!0,yield[s,null]),yield[s,c])}}const yu=t=>{const e=new Headers,n=new Set;for(const i of t){const s=new Set;for(const[a,l]of Wq(i)){const c=a.toLowerCase();s.has(c)||(e.delete(a),s.add(c)),l===null?(e.delete(a),n.add(c)):(e.append(a,l),n.delete(c))}}return{[vC]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Um=t=>{var e,n,i,s,a,l;if(typeof globalThis.process<"u")return(i=(n=(e=SP)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(l=(a=(s=globalThis.Deno.env)===null||s===void 0?void 0:s.get)===null||a===void 0?void 0:a.call(s,t))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _C;class Yf{constructor(e){var n,i,s,a,l,c,f,{baseURL:h=Um("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:m=(n=Um("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:v="v1beta"}=e,b=Rf(e,["baseURL","apiKey","apiVersion"]);const S=Object.assign(Object.assign({apiKey:m,apiVersion:v},b),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=S.baseURL,this.timeout=(i=S.timeout)!==null&&i!==void 0?i:Yf.DEFAULT_TIMEOUT,this.logger=(s=S.logger)!==null&&s!==void 0?s:console;const E="warn";this.logLevel=E,this.logLevel=(l=(a=hw(S.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:hw(Um("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:E,this.fetchOptions=S.fetchOptions,this.maxRetries=(c=S.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(f=S.fetch)!==null&&f!==void 0?f:Mq(),this.encoder=Pq,this._options=S,this.apiKey=m,this.apiVersion=v,this.clientAdapter=S.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=yu([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return yu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return yu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new nr(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ja}`}defaultIdempotencyKey(){return`stainless-node-retry-${yq()}`}makeStatusError(e,n,i,s){return Jn.generate(e,n,i,s)}buildURL(e,n,i){const s=!this.baseURLOverridden()&&i||this.baseURL,a=_q(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),l=this.defaultQuery();return Sq(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:i}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,i){return this.request(Promise.resolve(i).then(s=>Object.assign({method:e,path:n},s)))}request(e,n=null){return new Cy(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,i){var s,a,l;const c=await e,f=(s=c.maxRetries)!==null&&s!==void 0?s:this.maxRetries;n==null&&(n=f),await this.prepareOptions(c);const{req:h,url:m,timeout:v}=await this.buildRequest(c,{retryCount:f-n});await this.prepareRequest(h,{url:m,options:c});const b="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),S=i===void 0?"":`, retryOf: ${i}`,E=Date.now();if(zn(this).debug(`[${b}] sending request`,Po({retryOfRequestLogID:i,method:c.method,url:m,options:c,headers:h.headers})),!((a=c.signal)===null||a===void 0)&&a.aborted)throw new Ng;const w=new AbortController,C=await this.fetchWithTimeout(m,h,v,w).catch(Rg),A=Date.now();if(C instanceof globalThis.Error){const k=`retrying, ${n} attempts remaining`;if(!((l=c.signal)===null||l===void 0)&&l.aborted)throw new Ng;const M=Ag(C)||/timed? ?out/i.test(String(C)+("cause"in C?String(C.cause):""));if(n)return zn(this).info(`[${b}] connection ${M?"timed out":"failed"} - ${k}`),zn(this).debug(`[${b}] connection ${M?"timed out":"failed"} (${k})`,Po({retryOfRequestLogID:i,url:m,durationMs:A-E,message:C.message})),this.retryRequest(c,n,i??b);throw zn(this).info(`[${b}] connection ${M?"timed out":"failed"} - error; no more retries left`),zn(this).debug(`[${b}] connection ${M?"timed out":"failed"} (error; no more retries left)`,Po({retryOfRequestLogID:i,url:m,durationMs:A-E,message:C.message})),M?new tC:new jf({cause:C})}const N=`[${b}${S}] ${h.method} ${m} ${C.ok?"succeeded":"failed"} with status ${C.status} in ${A-E}ms`;if(!C.ok){const k=await this.shouldRetry(C);if(n&&k){const B=`retrying, ${n} attempts remaining`;return await Dq(C.body),zn(this).info(`${N} - ${B}`),zn(this).debug(`[${b}] response error (${B})`,Po({retryOfRequestLogID:i,url:C.url,status:C.status,headers:C.headers,durationMs:A-E})),this.retryRequest(c,n,i??b,C.headers)}const M=k?"error; no more retries left":"error; not retryable";zn(this).info(`${N} - ${M}`);const U=await C.text().catch(B=>Rg(B).message),z=Eq(U),I=z?void 0:U;throw zn(this).debug(`[${b}] response error (${M})`,Po({retryOfRequestLogID:i,url:C.url,status:C.status,headers:C.headers,message:I,durationMs:Date.now()-E})),this.makeStatusError(C.status,z,I,C.headers)}return zn(this).info(N),zn(this).debug(`[${b}] response start`,Po({retryOfRequestLogID:i,url:C.url,status:C.status,headers:C.headers,durationMs:A-E})),{response:C,options:c,controller:w,requestLogID:b,retryOfRequestLogID:i,startTime:E}}async fetchWithTimeout(e,n,i,s){const a=n||{},{signal:l,method:c}=a,f=Rf(a,["signal","method"]);l&&l.addEventListener("abort",()=>s.abort());const h=setTimeout(()=>s.abort(),i),m=globalThis.ReadableStream&&f.body instanceof globalThis.ReadableStream||typeof f.body=="object"&&f.body!==null&&Symbol.asyncIterator in f.body,v=Object.assign(Object.assign(Object.assign({signal:s.signal},m?{duplex:"half"}:{}),{method:"GET"}),f);c&&(v.method=c.toUpperCase());try{return await this.fetch.call(void 0,e,v)}finally{clearTimeout(h)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,i,s){var a;let l;const c=s==null?void 0:s.get("retry-after-ms");if(c){const h=parseFloat(c);Number.isNaN(h)||(l=h)}const f=s==null?void 0:s.get("retry-after");if(f&&!l){const h=parseFloat(f);Number.isNaN(h)?l=Date.parse(f)-Date.now():l=h*1e3}if(!(l&&0<=l&&l<60*1e3)){const h=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,h)}return await Cq(l),this.makeRequest(e,n-1,i)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,l=Math.min(.5*Math.pow(2,a),8),c=1-Math.random()*.25;return l*c*1e3}async buildRequest(e,{retryCount:n=0}={}){var i,s,a;const l=Object.assign({},e),{method:c,path:f,query:h,defaultBaseURL:m}=l,v=this.buildURL(f,h,m);"timeout"in l&&Tq("timeout",l.timeout),l.timeout=(i=l.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:b,body:S}=this.buildBody({options:l}),E=await this.buildHeaders({options:e,method:c,bodyHeaders:b,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:E},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&S instanceof globalThis.ReadableStream&&{duplex:"half"}),S&&{body:S}),(s=this.fetchOptions)!==null&&s!==void 0?s:{}),(a=l.fetchOptions)!==null&&a!==void 0?a:{}),url:v,timeout:l.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:i,retryCount:s}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const l=await this.authHeaders(e);let c=yu([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),kq()),this._options.defaultHeaders,i,e.headers,l]);return this.validateHeaders(c),c.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=yu([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Iq(e)}:this.encoder({body:e,headers:i})}}Yf.DEFAULT_TIMEOUT=6e4;class pn extends Yf{constructor(){super(...arguments),this.interactions=new yC(this)}}_C=pn;pn.GeminiNextGenAPIClient=_C;pn.GeminiNextGenAPIClientError=nr;pn.APIError=Jn;pn.APIConnectionError=jf;pn.APIConnectionTimeoutError=tC;pn.APIUserAbortError=Ng;pn.NotFoundError=sC;pn.ConflictError=oC;pn.RateLimitError=lC;pn.BadRequestError=nC;pn.AuthenticationError=iC;pn.InternalServerError=uC;pn.PermissionDeniedError=rC;pn.UnprocessableEntityError=aC;pn.toFile=Bq;pn.Interactions=yC;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qq(t,e){const n={},i=p(t,["name"]);return i!=null&&g(n,["_url","name"],i),n}function Zq(t,e){const n={},i=p(t,["name"]);return i!=null&&g(n,["_url","name"],i),n}function e4(t,e){const n={},i=p(t,["sdkHttpResponse"]);return i!=null&&g(n,["sdkHttpResponse"],i),n}function t4(t,e){const n={},i=p(t,["sdkHttpResponse"]);return i!=null&&g(n,["sdkHttpResponse"],i),n}function n4(t,e,n){const i={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=p(t,["tunedModelDisplayName"]);if(e!==void 0&&s!=null&&g(e,["displayName"],s),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=p(t,["epochCount"]);e!==void 0&&a!=null&&g(e,["tuningTask","hyperparameters","epochCount"],a);const l=p(t,["learningRateMultiplier"]);if(l!=null&&g(i,["tuningTask","hyperparameters","learningRateMultiplier"],l),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=p(t,["batchSize"]);e!==void 0&&c!=null&&g(e,["tuningTask","hyperparameters","batchSize"],c);const f=p(t,["learningRate"]);if(e!==void 0&&f!=null&&g(e,["tuningTask","hyperparameters","learningRate"],f),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function i4(t,e,n){const i={};let s=p(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const S=p(t,["validationDataset"]);e!==void 0&&S!=null&&g(e,["supervisedTuningSpec"],mw(S))}else if(s==="PREFERENCE_TUNING"){const S=p(t,["validationDataset"]);e!==void 0&&S!=null&&g(e,["preferenceOptimizationSpec"],mw(S))}const a=p(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&g(e,["tunedModelDisplayName"],a);const l=p(t,["description"]);e!==void 0&&l!=null&&g(e,["description"],l);let c=p(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const S=p(t,["epochCount"]);e!==void 0&&S!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],S)}else if(c==="PREFERENCE_TUNING"){const S=p(t,["epochCount"]);e!==void 0&&S!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],S)}let f=p(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const S=p(t,["learningRateMultiplier"]);e!==void 0&&S!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],S)}else if(f==="PREFERENCE_TUNING"){const S=p(t,["learningRateMultiplier"]);e!==void 0&&S!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],S)}let h=p(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const S=p(t,["exportLastCheckpointOnly"]);e!==void 0&&S!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],S)}else if(h==="PREFERENCE_TUNING"){const S=p(t,["exportLastCheckpointOnly"]);e!==void 0&&S!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],S)}let m=p(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const S=p(t,["adapterSize"]);e!==void 0&&S!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],S)}else if(m==="PREFERENCE_TUNING"){const S=p(t,["adapterSize"]);e!==void 0&&S!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],S)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const v=p(t,["labels"]);e!==void 0&&v!=null&&g(e,["labels"],v);const b=p(t,["beta"]);return e!==void 0&&b!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],b),i}function r4(t,e){const n={},i=p(t,["baseModel"]);i!=null&&g(n,["baseModel"],i);const s=p(t,["preTunedModel"]);s!=null&&g(n,["preTunedModel"],s);const a=p(t,["trainingDataset"]);a!=null&&m4(a);const l=p(t,["config"]);return l!=null&&n4(l,n),n}function s4(t,e){const n={},i=p(t,["baseModel"]);i!=null&&g(n,["baseModel"],i);const s=p(t,["preTunedModel"]);s!=null&&g(n,["preTunedModel"],s);const a=p(t,["trainingDataset"]);a!=null&&g4(a,n,e);const l=p(t,["config"]);return l!=null&&i4(l,n,e),n}function o4(t,e){const n={},i=p(t,["name"]);return i!=null&&g(n,["_url","name"],i),n}function a4(t,e){const n={},i=p(t,["name"]);return i!=null&&g(n,["_url","name"],i),n}function l4(t,e,n){const i={},s=p(t,["pageSize"]);e!==void 0&&s!=null&&g(e,["_query","pageSize"],s);const a=p(t,["pageToken"]);e!==void 0&&a!=null&&g(e,["_query","pageToken"],a);const l=p(t,["filter"]);return e!==void 0&&l!=null&&g(e,["_query","filter"],l),i}function u4(t,e,n){const i={},s=p(t,["pageSize"]);e!==void 0&&s!=null&&g(e,["_query","pageSize"],s);const a=p(t,["pageToken"]);e!==void 0&&a!=null&&g(e,["_query","pageToken"],a);const l=p(t,["filter"]);return e!==void 0&&l!=null&&g(e,["_query","filter"],l),i}function c4(t,e){const n={},i=p(t,["config"]);return i!=null&&l4(i,n),n}function d4(t,e){const n={},i=p(t,["config"]);return i!=null&&u4(i,n),n}function f4(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&g(n,["sdkHttpResponse"],i);const s=p(t,["nextPageToken"]);s!=null&&g(n,["nextPageToken"],s);const a=p(t,["tunedModels"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>bC(c))),g(n,["tuningJobs"],l)}return n}function h4(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&g(n,["sdkHttpResponse"],i);const s=p(t,["nextPageToken"]);s!=null&&g(n,["nextPageToken"],s);const a=p(t,["tuningJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>Ig(c))),g(n,["tuningJobs"],l)}return n}function p4(t,e){const n={},i=p(t,["name"]);i!=null&&g(n,["model"],i);const s=p(t,["name"]);return s!=null&&g(n,["endpoint"],s),n}function m4(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=p(t,["examples"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),g(n,["examples","examples"],s)}return n}function g4(t,e,n){const i={};let s=p(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const l=p(t,["gcsUri"]);e!==void 0&&l!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(s==="PREFERENCE_TUNING"){const l=p(t,["gcsUri"]);e!==void 0&&l!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let a=p(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const l=p(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(a==="PREFERENCE_TUNING"){const l=p(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function bC(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&g(n,["sdkHttpResponse"],i);const s=p(t,["name"]);s!=null&&g(n,["name"],s);const a=p(t,["state"]);a!=null&&g(n,["state"],OE(a));const l=p(t,["createTime"]);l!=null&&g(n,["createTime"],l);const c=p(t,["tuningTask","startTime"]);c!=null&&g(n,["startTime"],c);const f=p(t,["tuningTask","completeTime"]);f!=null&&g(n,["endTime"],f);const h=p(t,["updateTime"]);h!=null&&g(n,["updateTime"],h);const m=p(t,["description"]);m!=null&&g(n,["description"],m);const v=p(t,["baseModel"]);v!=null&&g(n,["baseModel"],v);const b=p(t,["_self"]);return b!=null&&g(n,["tunedModel"],p4(b)),n}function Ig(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&g(n,["sdkHttpResponse"],i);const s=p(t,["name"]);s!=null&&g(n,["name"],s);const a=p(t,["state"]);a!=null&&g(n,["state"],OE(a));const l=p(t,["createTime"]);l!=null&&g(n,["createTime"],l);const c=p(t,["startTime"]);c!=null&&g(n,["startTime"],c);const f=p(t,["endTime"]);f!=null&&g(n,["endTime"],f);const h=p(t,["updateTime"]);h!=null&&g(n,["updateTime"],h);const m=p(t,["error"]);m!=null&&g(n,["error"],m);const v=p(t,["description"]);v!=null&&g(n,["description"],v);const b=p(t,["baseModel"]);b!=null&&g(n,["baseModel"],b);const S=p(t,["tunedModel"]);S!=null&&g(n,["tunedModel"],S);const E=p(t,["preTunedModel"]);E!=null&&g(n,["preTunedModel"],E);const w=p(t,["supervisedTuningSpec"]);w!=null&&g(n,["supervisedTuningSpec"],w);const C=p(t,["preferenceOptimizationSpec"]);C!=null&&g(n,["preferenceOptimizationSpec"],C);const A=p(t,["tuningDataStats"]);A!=null&&g(n,["tuningDataStats"],A);const N=p(t,["encryptionSpec"]);N!=null&&g(n,["encryptionSpec"],N);const k=p(t,["partnerModelTuningSpec"]);k!=null&&g(n,["partnerModelTuningSpec"],k);const M=p(t,["customBaseModel"]);M!=null&&g(n,["customBaseModel"],M);const U=p(t,["experiment"]);U!=null&&g(n,["experiment"],U);const z=p(t,["labels"]);z!=null&&g(n,["labels"],z);const I=p(t,["outputUri"]);I!=null&&g(n,["outputUri"],I);const q=p(t,["pipelineJob"]);q!=null&&g(n,["pipelineJob"],q);const B=p(t,["serviceAccount"]);B!=null&&g(n,["serviceAccount"],B);const J=p(t,["tunedModelDisplayName"]);J!=null&&g(n,["tunedModelDisplayName"],J);const te=p(t,["veoTuningSpec"]);return te!=null&&g(n,["veoTuningSpec"],te),n}function y4(t,e){const n={},i=p(t,["sdkHttpResponse"]);i!=null&&g(n,["sdkHttpResponse"],i);const s=p(t,["name"]);s!=null&&g(n,["name"],s);const a=p(t,["metadata"]);a!=null&&g(n,["metadata"],a);const l=p(t,["done"]);l!=null&&g(n,["done"],l);const c=p(t,["error"]);return c!=null&&g(n,["error"],c),n}function mw(t,e){const n={},i=p(t,["gcsUri"]);i!=null&&g(n,["validationDatasetUri"],i);const s=p(t,["vertexDatasetResource"]);return s!=null&&g(n,["validationDatasetUri"],s),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class v4 extends ps{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Wo(fs.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const s={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(s.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:s});return a.baseModel=void 0,await this.tuneInternal(a)}else{const s=Object.assign({},n);return await this.tuneInternal(s)}else{const s=Object.assign({},n),a=await this.tuneMldevInternal(s);let l="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?l=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(l=a.name.split("/operations/")[0]),{name:l,state:_g.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=a4(e);return c=le("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>Ig(m))}else{const h=o4(e);return c=le("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>bC(m))}}async listInternal(e){var n,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=d4(e);return c=le("tuningJobs",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const v=h4(m),b=new zS;return Object.assign(b,v),b})}else{const h=c4(e);return c=le("tunedModels",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const v=f4(m),b=new zS;return Object.assign(b,v),b})}}async cancel(e){var n,i,s,a;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=Zq(e);return c=le("{name}:cancel",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const v=t4(m),b=new HS;return Object.assign(b,v),b})}else{const h=Qq(e);return c=le("{name}:cancel",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json().then(v=>{const b=v;return b.sdkHttpResponse={headers:m.headers},b})),l.then(m=>{const v=e4(m),b=new HS;return Object.assign(b,v),b})}}async tuneInternal(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI()){const c=s4(e,e);return a=le("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>Ig(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let s,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=r4(e);return a=le("tunedModels",c._url),l=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>y4(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _4{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const b4=1024*1024*8,x4=3,S4=1e3,w4=2,kf="x-goog-upload-status";async function T4(t,e,n){var i;const s=await xC(t,e,n),a=await(s==null?void 0:s.json());if(((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[kf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function E4(t,e,n){var i;const s=await xC(t,e,n),a=await(s==null?void 0:s.json());if(((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[kf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=kE(a),c=new _y;return Object.assign(c,l),c}async function xC(t,e,n){var i,s;let a=0,l=0,c=new xg(new Response),f="upload";for(a=t.size;l<a;){const h=Math.min(b4,a-l),m=t.slice(l,l+h);l+h>=a&&(f+=", finalize");let v=0,b=S4;for(;v<x4&&(c=await n.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(l),"Content-Length":String(h)}}}),!(!((i=c==null?void 0:c.headers)===null||i===void 0)&&i[kf]));)v++,await A4(b),b=b*w4;if(l+=h,((s=c==null?void 0:c.headers)===null||s===void 0?void 0:s[kf])!=="active")break;if(a<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function C4(t){return{size:t.size,type:t.type}}function A4(t){return new Promise(e=>setTimeout(e,t))}class R4{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await T4(e,n,i)}async uploadToFileSearchStore(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await E4(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await C4(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class N4{create(e,n,i){return new k4(e,n,i)}}class k4{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gw="x-goog-api-key";class M4{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(gw)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(gw,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const I4="gl-node/";class D4{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new pn({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=CP(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const s=new M4(this.apiKey);this.apiClient=new C3({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:I4+"web",uploader:new R4,downloader:new _4}),this.models=new $3(this.apiClient),this.live=new B3(this.apiClient,s,new N4),this.batches=new t2(this.apiClient),this.chats=new O2(this.models,this.apiClient),this.caches=new D2(this.apiClient),this.files=new j2(this.apiClient),this.operations=new j3(this.apiClient),this.authTokens=new lq(this.apiClient),this.tunings=new v4(this.apiClient),this.fileSearchStores=new gq(this.apiClient)}}const P4="";async function U4(t,e){const n=new D4({apiKey:P4}),i=e.map(a=>({role:a.role,parts:[{text:a.content}]}));return i.push({role:"user",parts:[{text:t}]}),(await n.models.generateContent({model:"gemini-3-flash-preview",contents:i,config:{systemInstruction:"Eres un experto en bienestar animal y veterinaria de PetWelfare. Ayudas a los usuarios con dudas sobre salud animal, comportamiento, razas y cuidado de mascotas. S amable, profesional y emptico. Si es una emergencia mdica grave, recomienda siempre acudir a un veterinario presencial inmediatamente."}})).text||"Lo siento, no pude procesar tu consulta. Por favor, intenta de nuevo."}const O4=()=>{const[t,e]=O.useState([{role:"model",content:"Hola! Soy tu asistente PetWelfare. Puedo ayudarte con dudas sobre salud, comportamiento o razas de tus mascotas. En qu puedo ayudarte hoy?"}]),[n,i]=O.useState(""),[s,a]=O.useState(!1),l=O.useRef(null);O.useEffect(()=>{l.current&&(l.current.scrollTop=l.current.scrollHeight)},[t]);const c=async()=>{if(!n.trim()||s)return;const f={role:"user",content:n};e(h=>[...h,f]),i(""),a(!0);try{const h=t.map(v=>({role:v.role,content:v.content})),m=await U4(n,h);e(v=>[...v,{role:"model",content:m}])}catch{e(m=>[...m,{role:"model",content:"Lo siento, ocurri un error. Por favor intenta de nuevo ms tarde."}])}finally{a(!1)}};return x.jsxs("div",{className:"max-w-4xl mx-auto h-[70vh] flex flex-col bg-white dark:bg-white/5 rounded-3xl border border-accent-teal/10 overflow-hidden shadow-2xl",children:[x.jsxs("div",{className:"p-6 bg-primary text-background-dark flex items-center gap-4",children:[x.jsx("div",{className:"size-12 rounded-full bg-white flex items-center justify-center",children:x.jsx("span",{className:"material-symbols-outlined text-3xl text-primary animate-pulse",children:"smart_toy"})}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-xl font-black",children:"Asistente Care+"}),x.jsx("p",{className:"text-xs font-bold opacity-70",children:"Impulsado por Gemini AI"})]})]}),x.jsxs("div",{ref:l,className:"flex-1 overflow-y-auto p-6 space-y-6 scrollbar-hide bg-slate-50 dark:bg-transparent",children:[t.map((f,h)=>x.jsx("div",{className:`flex ${f.role==="user"?"justify-end":"justify-start"}`,children:x.jsx("div",{className:`max-w-[80%] p-5 rounded-3xl shadow-sm text-sm leading-relaxed ${f.role==="user"?"bg-primary text-background-dark font-medium rounded-tr-none":"bg-white dark:bg-white/10 rounded-tl-none border border-accent-teal/5"}`,children:f.content})},h)),s&&x.jsx("div",{className:"flex justify-start",children:x.jsxs("div",{className:"bg-white dark:bg-white/10 p-5 rounded-3xl rounded-tl-none border border-accent-teal/5 flex gap-1",children:[x.jsx("span",{className:"size-2 bg-primary rounded-full animate-bounce"}),x.jsx("span",{className:"size-2 bg-primary rounded-full animate-bounce delay-75"}),x.jsx("span",{className:"size-2 bg-primary rounded-full animate-bounce delay-150"})]})})]}),x.jsxs("div",{className:"p-6 border-t border-accent-teal/10 bg-white dark:bg-white/5",children:[x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"text",placeholder:"Pregntame algo sobre tu mascota...",className:"w-full pl-6 pr-16 py-4 bg-slate-100 dark:bg-white/10 border-none rounded-2xl focus:ring-2 focus:ring-primary",value:n,onChange:f=>i(f.target.value),onKeyDown:f=>f.key==="enter"&&c()}),x.jsx("button",{onClick:c,disabled:s||!n.trim(),className:"absolute right-2 top-1/2 -translate-y-1/2 p-3 bg-primary text-background-dark rounded-xl shadow-md hover:scale-105 active:scale-95 transition-all disabled:opacity-50",children:x.jsx("span",{className:"material-symbols-outlined",children:"send"})})]}),x.jsx("p",{className:"mt-3 text-[10px] text-center text-accent-teal font-medium uppercase tracking-widest opacity-60",children:"Usa este asistente solo como gua informativa. En emergencias, contacta a tu veterinario."})]})]})},L4=()=>{const[t,e]=O.useState(new Set);Sw.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const n=[{id:"1",question:"Qu es PetWelfare y cmo funciona?",answer:"PetWelfare es una plataforma gratuita para ayudar a encontrar mascotas perdidas, facilitar adopciones y apoyar a refugios. Funciona como una red comunitaria donde cualquiera puede publicar, buscar y colaborar. Es como tener un cartel virtual en toda la ciudad.",category:"general",icon:"pets"},{id:"2",question:"Es gratis usar la plataforma?",answer:"S, es 100% GRATIS. Publicar mascotas perdidas, buscar, adoptar y compartir no cuesta nada. Solo las donaciones a campaas son opcionales y van directamente a los refugios.",category:"general",icon:"savings"},{id:"3",question:"Necesito registrarme para usar la pgina?",answer:"No, puedes buscar y ver todas las publicaciones sin registrarte. Solo necesitas registrarte si quieres publicar una mascota perdida, solicitar una adopcin o hacer una donacin.",category:"general",icon:"account_circle"},{id:"4",question:"Cmo reporto que perd mi mascota?",answer:'Es muy fcil: 1) Hac clic en el botn "Reportar Mascota Perdida" 2) Complet los datos de tu mascota 3) Sub una foto clara 4) Indic dnde y cundo se perdi 5) Dej tus datos de contacto. Y listo! Tu publicacin quedar activa.',category:"perdidas",icon:"search"},{id:"5",question:"Qu informacin debo incluir en el reporte?",answer:"Inclu: Nombre, raza, color/tamao, caractersticas especiales (cicatrices, manchas), si tiene collar/chip, fecha y lugar aproximado de prdida. Mientras ms datos, mejor!",category:"perdidas",icon:"description"},{id:"6",question:"Cmo s si encontraron a mi mascota?",answer:'Recibirs notificaciones por email o WhatsApp si alguien reporta una vista o contacto. Tambin pods revisar las publicaciones de "mascotas encontradas" peridicamente.',category:"perdidas",icon:"notifications"},{id:"7",question:"Qu hago si veo una mascota perdida?",answer:'Gracias por ayudar! Pods: 1) Tomar una foto 2) Publicar en la seccin "Mascotas Encontradas" 3) Indicar el lugar donde la viste 4) Dejar contacto. O directamente contactar al dueo si ves un reporte que coincide.',category:"perdidas",icon:"visibility"},{id:"8",question:"Cmo adopto una mascota?",answer:'1) Busc en la seccin "Adopcin" 2) Contact directamente al refugio/responsable va WhatsApp o Email 3) Visita la mascota 4) Complet los requisitos del refugio 5) Lleva a tu nuevo amigo a casa!',category:"adopcion",icon:"favorite"},{id:"9",question:"Qu necesito para adoptar?",answer:"Generalmente te pedirn: DNI, comprobante de domicilio, prueba de ingresos (algunos refugios), y estar dispuesto a una visita posterior. Cada refugio tiene sus propios requisitos.",category:"adopcion",icon:"assignment"},{id:"10",question:"Tengo que pagar para adoptar?",answer:'La mayora de los refugios cobran una "donacin de adopcin" que cubre vacunas, desparasitacin y castracin. No es un "precio" sino un aporte para mantener el refugio ayudando a otros animales.',category:"adopcion",icon:"volunteer_activism"},{id:"11",question:"Puedo devolver la mascota si no me adapto?",answer:"S, los refugios prefieren que devuelvas la mascota antes de abandonarla. Es importante hablar con ellos si tens dificultades, hay apoyo y soluciones.",category:"adopcion",icon:"home"},{id:"12",question:"Cmo hago una donacin?",answer:"Es muy fcil: 1) Entr a la campaa que quers apoyar 2) Eleg el monto 3) Seleccion el mtodo de pago 4) Complet tus datos. Pods donar con tarjeta, transferencia, Mercado Pago o incluso cripto.",category:"donaciones",icon:"payments"},{id:"13",question:"A dnde va el dinero de las donaciones?",answer:'El 100% va directamente a los refugios y organizaciones. Pods ver exactamente para qu es cada campaa (ej: "ciruga de Max", "alimento para 15 cachorros"). Todo es transparente.',category:"donaciones",icon:"account_balance"},{id:"14",question:"Puedo donar alimentos o cosas en vez de dinero?",answer:"Claro que s! Muchos refugios necesitan alimento, mantas, medicamentos. Contactalos directamente por WhatsApp para coordinar la entrega.",category:"donaciones",icon:"inventory_2"},{id:"15",question:"No encuentro mi mascota, qu hago?",answer:"Intent: 1) Limpiar filtros de bsqueda 2) Usar palabras clave simples (color, raza) 3) Prob con la vista de mapa 4) Si no est, publicala como perdida. Si tens problemas tcnicos, recarg la pgina.",category:"tecnico",icon:"refresh"},{id:"16",question:"Cmo uso los filtros de bsqueda?",answer:'Los filtros son muy simples: Hac clic en "Especie" para elegir perros/gatos, "Fecha" para ver recientes, "Ubicacin" para cerca tuyo. Hac clic en "Limpiar filtros" para empezar de nuevo.',category:"tecnico",icon:"filter_list"},{id:"17",question:'Qu significa el botn de "favoritos"?',answer:"El  (corazn) te guarda las mascotas que te interesan para volver a verlas fcilmente. Es como guardar en favoritos, pero solo para vos.",category:"tecnico",icon:"favorite"},{id:"18",question:"Cmo contacto al dueo de una mascota?",answer:"Hay tres formas: 1) Botn verde de WhatsApp (charla instantnea) 2) Botn de Email (mensaje formal) 3) En los datos de contacto del anuncio. Siempre contact con respeto!",category:"tecnico",icon:"contact_phone"},{id:"19",question:"La pgina funciona en el celular?",answer:"S, est diseada para celulares. Pods usarla desde cualquier navegador. En mviles tens navegacin ms fcil con botones abajo.",category:"tecnico",icon:"smartphone"},{id:"20",question:"Es seguro compartir mis datos?",answer:"S, tus datos solo se muestran a quienes contacten. No compartimos tu informacin con nadie. Pero record: nunca pagues dinero adelantado a desconocidos.",category:"tecnico",icon:"security"}],i=s=>{const a=new Set(t);a.has(s)?a.delete(s):a.add(s),e(a)};return x.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[x.jsxs("div",{className:"text-center mb-12 animate-fade-in",children:[x.jsx("div",{className:"mb-6",children:x.jsx("span",{className:"material-symbols-outlined text-6xl text-primary mb-4",children:"help"})}),x.jsxs("h1",{className:"text-4xl md:text-5xl font-black mb-4",children:["Preguntas ",x.jsx("span",{className:"text-primary",children:"Frecuentes"})]}),x.jsx("p",{className:"text-lg text-accent-teal max-w-2xl mx-auto",children:"Todo lo que necesits saber para usar PetWelfare. Gua paso a paso para encontrar a tu mejor amigo!"})]}),x.jsx("div",{className:"space-y-4",children:n.map((s,a)=>x.jsxs("div",{className:"bg-white dark:bg-white/5 rounded-2xl border border-accent-teal/5 overflow-hidden stagger-item",style:{animationDelay:`${a*.1}s`},children:[x.jsxs("button",{onClick:()=>i(s.id),className:"w-full px-6 py-5 text-left flex items-center gap-4 hover:bg-accent-teal/5 transition-colors",children:[x.jsx("span",{className:"material-symbols-outlined text-primary text-xl flex-shrink-0",children:s.icon}),x.jsx("div",{className:"flex-1",children:x.jsx("h3",{className:"font-bold text-lg",children:s.question})}),x.jsx("span",{className:`material-symbols-outlined text-accent-teal transition-transform ${t.has(s.id)?"rotate-180":""}`,children:"expand_more"})]}),t.has(s.id)&&x.jsx("div",{className:"px-6 pb-5 pl-[60px] animate-fade-in",children:x.jsx("p",{className:"text-accent-teal leading-relaxed whitespace-pre-line",children:s.answer})})]},s.id))}),x.jsx("div",{className:"mt-16 text-center",children:x.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"bg-primary text-background-dark px-8 py-3 rounded-xl font-bold flex items-center gap-2 mx-auto hover:opacity-90 transition-all",children:[x.jsx("span",{className:"material-symbols-outlined",children:"keyboard_arrow_up"}),"Volver al Principio"]})})]})},q4=({toast:t,onRemove:e})=>{const[n,i]=O.useState(!1);O.useEffect(()=>{i(!0);const l=setTimeout(()=>{i(!1),setTimeout(()=>e(t.id),300)},t.duration||4e3);return()=>clearTimeout(l)},[t.id,t.duration,e]);const s=()=>{switch(t.type){case"success":return"check_circle";case"error":return"error";case"warning":return"warning";case"info":return"info";default:return"info"}},a=()=>{switch(t.type){case"success":return"bg-green-500 text-white border-green-600";case"error":return"bg-red-500 text-white border-red-600";case"warning":return"bg-orange-500 text-white border-orange-600";case"info":return"bg-blue-500 text-white border-blue-600";default:return"bg-gray-500 text-white border-gray-600"}};return x.jsxs("div",{className:`
        fixed top-4 right-4 z-50 max-w-sm p-4 rounded-xl shadow-lg border-2
        flex items-center gap-3 backdrop-blur-sm transition-all duration-300
        ${a()} ${n?"toast-enter":"toast-exit"}
      `,children:[x.jsx("span",{className:"material-symbols-outlined text-xl flex-shrink-0",children:s()}),x.jsx("p",{className:"font-medium text-sm leading-tight flex-1",children:t.message}),x.jsx("button",{onClick:()=>{i(!1),setTimeout(()=>e(t.id),300)},className:"p-1 rounded-full hover:bg-white/20 transition-colors",children:x.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})})]})},B4=({toasts:t,onRemove:e})=>x.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map(n=>x.jsx(q4,{toast:n,onRemove:e},n.id))}),SC=O.createContext(void 0),G4=({children:t})=>{const[e,n]=O.useState(nt.HOME),[i,s]=O.useState([]),[a,l]=O.useState([]),[c,f]=O.useState([]),h=O.useCallback((w,C="info",A)=>{const k={id:Date.now().toString(),message:w,type:C,duration:A};s(M=>[...M,k])},[]),m=O.useCallback(w=>{s(C=>C.filter(A=>A.id!==w))},[]),v=O.useCallback(w=>{l(C=>C.includes(w)?C.filter(A=>A!==w):[...C,w])},[]),b=O.useCallback(w=>a.includes(w),[a]),S=O.useCallback(w=>{f(C=>{const A=C.filter(N=>N!==w);return[w,...A].slice(0,10)})},[]),E={currentView:e,setCurrentView:n,toasts:i,addToast:h,removeToast:m,favorites:a,toggleFavorite:v,isFavorite:b,recentlyViewed:c,addToRecentlyViewed:S};return x.jsx(SC.Provider,{value:E,children:t})},z4=()=>{const t=O.useContext(SC);if(t===void 0)throw new Error("useApp must be used within an AppProvider");return t},H4=()=>{const{currentView:t,setCurrentView:e,toasts:n,removeToast:i,addToast:s}=z4();O.useEffect(()=>{const l=document.querySelectorAll(".stagger-item"),c=new IntersectionObserver(f=>{f.forEach(h=>{h.isIntersecting&&h.target.classList.add("show")})},{threshold:.1});return l.forEach(f=>c.observe(f)),()=>{l.forEach(f=>c.unobserve(f))}},[t]);const a=()=>{switch(t){case nt.HOME:return x.jsx(Lx,{onToast:s});case nt.LOST_PETS:return x.jsx(bP,{onToast:s});case nt.ADOPTION:return x.jsx(xP,{onToast:s});case nt.AI_ASSISTANT:return x.jsx(O4,{onToast:s});case nt.FAQ:return x.jsx(L4,{});case nt.DONATIONS:return x.jsx("div",{className:"flex items-center justify-center min-h-[60vh] text-center p-10",children:x.jsxs("div",{className:"max-w-md",children:[x.jsx("span",{className:"material-symbols-outlined text-7xl text-primary mb-6 animate-pulse",children:"volunteer_activism"}),x.jsx("h2",{className:"text-3xl font-black mb-4",children:"Donaciones y Solidaridad"}),x.jsx("p",{className:"text-accent-teal leading-relaxed",children:"Estamos terminando de configurar la plataforma de pagos seguros. Vuelve pronto para ayudar a nuestros amigos!"}),x.jsx("button",{onClick:()=>e(nt.HOME),className:"mt-8 bg-primary text-background-dark px-10 py-4 rounded-2xl font-black shadow-lg",children:"VOLVER AL INICIO"})]})});default:return x.jsx(Lx,{})}};return x.jsxs("div",{className:"layout-container flex flex-col min-h-screen selection:bg-primary selection:text-background-dark",children:[x.jsx(QM,{currentView:t,setView:e}),x.jsx("main",{className:"flex-1",children:a()}),x.jsx("footer",{className:"border-t border-accent-teal/10 py-12 px-6 lg:px-20 mt-auto bg-white/50 dark:bg-background-dark/50 backdrop-blur-sm",children:x.jsxs("div",{className:"max-w-[1440px] mx-auto flex flex-col md:flex-row justify-between items-center gap-8",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"bg-primary p-2 rounded-lg text-white",children:x.jsx("span",{className:"material-symbols-outlined block text-2xl",children:"pets"})}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-xl font-black",children:"PetWelfare"}),x.jsx("p",{className:"text-xs text-accent-teal font-medium tracking-tight",children:"Comunidad de Bienestar Animal  2024"})]})]}),x.jsxs("nav",{className:"flex flex-wrap justify-center gap-8 text-sm font-bold text-accent-teal",children:[x.jsx("button",{onClick:()=>e(nt.FAQ),className:"hover:text-primary transition-colors",children:"Preguntas Frecuentes"}),x.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"Poltica de Privacidad"}),x.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"Trminos de Servicio"}),x.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"Soporte"}),x.jsx("a",{href:"#",className:"hover:text-primary transition-colors",children:"Contacto"}),x.jsx(Dr,{to:"/admin",className:"hover:text-primary transition-colors",children:"Admin"})]}),x.jsx("div",{className:"flex gap-4",children:["public","share","forum"].map(l=>x.jsx("button",{className:"size-10 rounded-xl bg-accent-teal/10 flex items-center justify-center hover:bg-primary transition-all",children:x.jsx("span",{className:"material-symbols-outlined text-lg",children:l})},l))})]})}),x.jsxs("div",{className:"lg:hidden sticky bottom-0 z-50 bg-background-light dark:bg-background-dark border-t border-accent-teal/10 flex items-center justify-around py-4 px-2 backdrop-blur-md",children:[x.jsxs("button",{onClick:()=>e(nt.HOME),className:`flex flex-col items-center gap-1 transition-colors ${t===nt.HOME?"text-primary":"text-accent-teal/60 hover:text-primary"}`,children:[x.jsx("span",{className:"material-symbols-outlined",children:"home"}),x.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tighter",children:"Inicio"})]}),x.jsxs("button",{onClick:()=>e(nt.LOST_PETS),className:`flex flex-col items-center gap-1 transition-colors ${t===nt.LOST_PETS?"text-primary":"text-accent-teal/60 hover:text-primary"}`,children:[x.jsx("span",{className:"material-symbols-outlined",children:"map"}),x.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tighter",children:"Mascotas"})]}),x.jsx("button",{onClick:()=>{s("Funcin de reporte prximamente","info")},className:"flex flex-col items-center justify-center -mt-10 bg-primary text-background-dark size-14 rounded-full shadow-2xl border-4 border-white dark:border-background-dark active:scale-90 transition-transform hover:scale-[1.05]",children:x.jsx("span",{className:"material-symbols-outlined font-bold text-3xl",children:"add"})}),x.jsxs("button",{onClick:()=>e(nt.FAQ),className:`flex flex-col items-center gap-1 transition-colors ${t===nt.FAQ?"text-primary":"text-accent-teal/60 hover:text-primary"}`,children:[x.jsx("span",{className:"material-symbols-outlined",children:"help"}),x.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tighter",children:"Ayuda"})]}),x.jsxs("button",{onClick:()=>e(nt.AI_ASSISTANT),className:`flex flex-col items-center gap-1 transition-colors ${t===nt.AI_ASSISTANT?"text-primary":"text-accent-teal/60 hover:text-primary"}`,children:[x.jsx("span",{className:"material-symbols-outlined",children:"smart_toy"}),x.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tighter",children:"AI"})]})]}),x.jsx(B4,{toasts:n,onRemove:i})]})},V4=()=>x.jsx(G4,{children:x.jsx(H4,{})}),F4=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,yw=8,vw=72;function $4(t){const e=t.trim();if(!e)return"El email es obligatorio.";if(!F4.test(e))return"Introduce un email vlido.";if(e.length>254)return"Email demasiado largo."}function j4(t){if(!t)return"La contrasea es obligatoria.";if(t.length<yw)return`Mnimo ${yw} caracteres.`;if(t.length>vw)return`Mximo ${vw} caracteres.`}function J4(t,e){const n={},i=$4(t),s=j4(e);return i&&(n.email=i),s&&(n.password=s),n}const oc="admin_login_failures",Dg=900*1e3,Y4=5;function vu(){try{const t=localStorage.getItem(oc);if(!t)return{blocked:!1};const{count:e,firstAttempt:n}=JSON.parse(t),i=Date.now()-n;return i>Dg?(localStorage.removeItem(oc),{blocked:!1}):e>=Y4?{blocked:!0,remainingMs:Math.max(0,Dg-i)}:{blocked:!1}}catch{return{blocked:!1}}}function _w(){try{const t=localStorage.getItem(oc),e=Date.now();let n=t?JSON.parse(t):{count:0,firstAttempt:e};e-n.firstAttempt>Dg&&(n={count:0,firstAttempt:e}),n.count+=1,localStorage.setItem(oc,JSON.stringify(n))}catch{}}function bw(){try{localStorage.removeItem(oc)}catch{}}function K4(t){const e=Math.floor(t/6e4),n=Math.floor(t%6e4/1e3);return e>0?`${e} min ${n} s`:`${n} s`}const X4=()=>{var U,z;const t=Gg(),e=Or(),{signIn:n,isAuthenticated:i,loading:s}=lc(),[a,l]=O.useState(""),[c,f]=O.useState(""),[h,m]=O.useState(!1),[v,b]=O.useState({}),[S,E]=O.useState(null),[w,C]=O.useState(!1),[A,N]=O.useState(vu()),k=((z=(U=e.state)==null?void 0:U.from)==null?void 0:z.pathname)??"/admin";O.useEffect(()=>{i&&!s&&(bw(),t(k,{replace:!0}))},[i,s,t,k]),O.useEffect(()=>{if(!A.blocked)return;const I=setInterval(()=>{const q=vu();N(q),q.blocked||clearInterval(I)},1e3);return()=>clearInterval(I)},[A.blocked]);const M=O.useCallback(async I=>{I.preventDefault(),E(null),b({});const q=vu();if(q.blocked){N(q);return}N(q);const B=J4(a,c);if(Object.keys(B).length>0){b(B);return}C(!0);try{const{error:J}=await n(a.trim(),c);if(J){_w(),N(vu()),E("Credenciales invlidas. Revisa email y contrasea.");return}bw(),t(k,{replace:!0})}catch{_w(),N(vu()),E("Error al iniciar sesin. Intntalo de nuevo ms tarde.")}finally{C(!1)}},[a,c,n,t,k]);return s?x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background-light dark:bg-background-dark",children:x.jsxs("div",{className:"animate-pulse flex flex-col items-center gap-4",children:[x.jsx("span",{className:"material-symbols-outlined text-5xl text-primary",children:"pets"}),x.jsx("p",{className:"text-accent-teal font-medium",children:"Cargando"})]})}):x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background-light dark:bg-background-dark px-4",children:x.jsx("div",{className:"w-full max-w-md",children:x.jsxs("div",{className:"bg-white dark:bg-slate-900/80 rounded-2xl shadow-xl border border-accent-teal/10 p-8",children:[x.jsxs("div",{className:"flex flex-col items-center gap-2 mb-8",children:[x.jsx("div",{className:"bg-primary p-3 rounded-xl text-background-dark",children:x.jsx("span",{className:"material-symbols-outlined text-4xl",children:"admin_panel_settings"})}),x.jsx("h1",{className:"text-2xl font-black text-slate-900 dark:text-white",children:"Admin PetWelfare"}),x.jsx("p",{className:"text-sm text-accent-teal",children:"Inicia sesin para continuar"})]}),x.jsxs("form",{onSubmit:M,className:"space-y-5",children:[A.blocked&&A.remainingMs!=null&&x.jsxs("div",{role:"alert",className:"flex items-center gap-2 p-3 rounded-xl bg-amber-500/10 dark:bg-amber-500/20 border border-amber-500/30 text-amber-700 dark:text-amber-400 text-sm",children:[x.jsx("span",{className:"material-symbols-outlined text-xl flex-shrink-0",children:"schedule"}),x.jsxs("span",{children:["Demasiados intentos. Podrs intentar de nuevo en"," ",x.jsx("strong",{children:K4(A.remainingMs)}),"."]})]}),S&&x.jsxs("div",{role:"alert",className:"flex items-center gap-2 p-3 rounded-xl bg-urgent-red/10 dark:bg-urgent-red/20 border border-urgent-red/30 text-urgent-red text-sm",children:[x.jsx("span",{className:"material-symbols-outlined text-xl flex-shrink-0",children:"error"}),x.jsx("span",{children:S})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"admin-email",className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-1.5",children:"Email"}),x.jsx("input",{id:"admin-email",type:"email",autoComplete:"email",value:a,onChange:I=>{l(I.target.value),v.email&&b(q=>({...q,email:void 0}))},disabled:w||A.blocked,className:`w-full px-4 py-3 rounded-xl border bg-slate-50 dark:bg-slate-800/50 text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent disabled:opacity-60 ${v.email?"border-urgent-red":"border-accent-teal/20"}`,placeholder:"admin@petwelfare.org","aria-invalid":v.email?"true":"false","aria-describedby":v.email?"email-error":void 0}),v.email&&x.jsx("p",{id:"email-error",className:"mt-1.5 text-sm text-urgent-red",children:v.email})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"admin-password",className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-1.5",children:"Contrasea"}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{id:"admin-password",type:h?"text":"password",autoComplete:"current-password",value:c,onChange:I=>{f(I.target.value),v.password&&b(q=>({...q,password:void 0}))},disabled:w||A.blocked,className:`w-full px-4 py-3 pr-12 rounded-xl border bg-slate-50 dark:bg-slate-800/50 text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent disabled:opacity-60 ${v.password?"border-urgent-red":"border-accent-teal/20"}`,placeholder:"","aria-invalid":v.password?"true":"false","aria-describedby":v.password?"password-error":void 0}),x.jsx("button",{type:"button",onClick:()=>m(I=>!I),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1.5 rounded-lg text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors","aria-label":h?"Ocultar contrasea":"Mostrar contrasea",children:x.jsx("span",{className:"material-symbols-outlined text-xl",children:h?"visibility_off":"visibility"})})]}),v.password&&x.jsx("p",{id:"password-error",className:"mt-1.5 text-sm text-urgent-red",children:v.password})]}),x.jsx("button",{type:"submit",disabled:w||A.blocked,className:"w-full py-3.5 rounded-xl bg-primary hover:bg-primary/90 text-background-dark font-bold transition-colors disabled:opacity-60 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-slate-900",children:w?x.jsxs("span",{className:"inline-flex items-center justify-center gap-2",children:[x.jsx("span",{className:"material-symbols-outlined animate-spin text-xl",children:"progress_activity"}),"Iniciando sesin"]}):A.blocked?"Espera antes de intentar":"Iniciar sesin"})]}),x.jsx("p",{className:"mt-6 text-center",children:x.jsx(Dr,{to:"/",className:"text-sm font-medium text-accent-teal hover:text-primary transition-colors",children:" Volver al inicio"})})]})})})},W4=()=>{const{user:t,signOut:e}=lc(),n=(t==null?void 0:t.email)??"",i=n.slice(0,1).toUpperCase();return x.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark flex flex-col",children:[x.jsx("header",{className:"sticky top-0 z-40 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border-b border-accent-teal/10 px-4 md:px-8 py-4",children:x.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between gap-4",children:[x.jsxs("div",{className:"flex items-center gap-6",children:[x.jsxs(Dr,{to:"/admin",className:"flex items-center gap-3",children:[x.jsx("div",{className:"bg-primary p-2 rounded-xl text-background-dark",children:x.jsx("span",{className:"material-symbols-outlined text-2xl",children:"admin_panel_settings"})}),x.jsx("span",{className:"font-black text-lg text-slate-900 dark:text-white",children:"Admin PetWelfare"})]}),x.jsxs("nav",{className:"hidden md:flex items-center gap-2",children:[x.jsx(Dr,{to:"/admin",className:"px-3 py-1.5 rounded-lg text-sm font-bold text-accent-teal hover:bg-accent-teal/10 transition-colors",children:"Panel"}),x.jsx(Dr,{to:"/admin/lost-pets",className:"px-3 py-1.5 rounded-lg text-sm font-bold text-accent-teal hover:bg-accent-teal/10 transition-colors",children:"Mascotas perdidas"})]})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:"hidden sm:inline text-sm font-medium text-accent-teal truncate max-w-[180px]",children:n}),x.jsx("div",{className:"size-10 rounded-full bg-primary/20 text-primary font-bold flex items-center justify-center",title:n,children:i}),x.jsx("button",{onClick:()=>e(),className:"p-2 rounded-xl text-slate-500 hover:bg-urgent-red/10 hover:text-urgent-red transition-colors",title:"Cerrar sesin",children:x.jsx("span",{className:"material-symbols-outlined text-xl",children:"logout"})})]})]})}),x.jsx("main",{className:"flex-1",children:x.jsx(gM,{})})]})},Q4=()=>{const{user:t,signOut:e}=lc(),n=(t==null?void 0:t.email)??"";return x.jsx("div",{className:"p-6 lg:p-10",children:x.jsxs("div",{className:"max-w-4xl mx-auto",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-10",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-black text-slate-900 dark:text-white",children:"Panel de administracin"}),x.jsxs("p",{className:"text-accent-teal font-medium mt-1",children:["Conectado como ",x.jsx("span",{className:"text-primary font-bold",children:n})]})]}),x.jsxs(Dr,{to:"/",className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl bg-accent-teal/10 dark:bg-accent-teal/20 text-accent-teal font-bold hover:bg-accent-teal/20 dark:hover:bg-accent-teal/30 transition-colors",children:[x.jsx("span",{className:"material-symbols-outlined text-xl",children:"home"}),"Ir al sitio"]})]}),x.jsxs("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[x.jsxs(Dr,{to:"/admin/lost-pets",className:"bg-white dark:bg-slate-900/80 rounded-2xl border border-accent-teal/10 p-6 shadow-sm hover:border-primary/30 hover:shadow-md transition-all block",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[x.jsx("div",{className:"p-2.5 rounded-xl bg-primary/20 text-primary",children:x.jsx("span",{className:"material-symbols-outlined text-2xl",children:"pets"})}),x.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Mascotas perdidas"})]}),x.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Revisa, aprueba o rechaza reportes. Solo los aprobados se publican."}),x.jsxs("span",{className:"inline-flex items-center gap-1 text-primary font-bold text-sm mt-2",children:["Ir ",x.jsx("span",{className:"material-symbols-outlined text-lg",children:"arrow_forward"})]})]}),x.jsxs("div",{className:"bg-white dark:bg-slate-900/80 rounded-2xl border border-accent-teal/10 p-6 shadow-sm",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[x.jsx("div",{className:"p-2.5 rounded-xl bg-primary/20 text-primary",children:x.jsx("span",{className:"material-symbols-outlined text-2xl",children:"volunteer_activism"})}),x.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Donaciones"})]}),x.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Campaas y donaciones. Prximamente con Supabase."})]}),x.jsxs("div",{className:"bg-white dark:bg-slate-900/80 rounded-2xl border border-accent-teal/10 p-6 shadow-sm",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[x.jsx("div",{className:"p-2.5 rounded-xl bg-primary/20 text-primary",children:x.jsx("span",{className:"material-symbols-outlined text-2xl",children:"groups"})}),x.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Usuarios"})]}),x.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Usuarios y permisos. Prximamente con Supabase."})]})]}),x.jsxs("div",{className:"mt-10 pt-8 border-t border-accent-teal/10 flex flex-wrap items-center justify-between gap-4",children:[x.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"PetWelfare Admin  Supabase Auth"}),x.jsxs("button",{onClick:()=>e(),className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-xl bg-urgent-red/10 dark:bg-urgent-red/20 text-urgent-red font-bold hover:bg-urgent-red/20 dark:hover:bg-urgent-red/30 transition-colors",children:[x.jsx("span",{className:"material-symbols-outlined text-xl",children:"logout"}),"Cerrar sesin"]})]})]})})};function Z4(t){return new Date(t).toLocaleDateString("es-AR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}function eB(t){return new Date(t).toLocaleDateString("es-AR",{day:"2-digit",month:"short",year:"numeric"})}const tB=()=>{const{user:t}=lc(),[e,n]=O.useState([]),[i,s]=O.useState(!0),[a,l]=O.useState(null),[c,f]=O.useState(null),[h,m]=O.useState(null),[v,b]=O.useState(""),S=O.useCallback(()=>{s(!0),l(null),pP().then(({data:A,error:N})=>{if(s(!1),N){l(N.message);return}n(A)})},[]);O.useEffect(()=>{S()},[S]);const E=async A=>{if(!(t!=null&&t.id))return;f(A);const{error:N}=await mP(A,t.id);if(f(null),N){l(N.message);return}n(k=>k.filter(M=>M.id!==A))},w=A=>{m({id:A.id,name:A.pet_name}),b("")},C=async()=>{if(!h||!(t!=null&&t.id))return;f(h.id);const{error:A}=await gP(h.id,t.id,v||void 0);if(f(null),m(null),b(""),A){l(A.message);return}n(N=>N.filter(k=>k.id!==h.id))};return x.jsx("div",{className:"p-6 lg:p-10",children:x.jsxs("div",{className:"max-w-5xl mx-auto",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-black text-slate-900 dark:text-white",children:"Mascotas perdidas (pendientes)"}),x.jsx("p",{className:"text-accent-teal font-medium mt-1",children:"Revisa y aprueba o rechaza los reportes. Solo los aprobados se muestran en el sitio."})]}),x.jsxs(Dr,{to:"/admin",className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl bg-accent-teal/10 dark:bg-accent-teal/20 text-accent-teal font-bold hover:bg-accent-teal/20 dark:hover:bg-accent-teal/30 transition-colors",children:[x.jsx("span",{className:"material-symbols-outlined text-xl",children:"arrow_back"}),"Volver al panel"]})]}),a&&x.jsxs("div",{role:"alert",className:"flex items-center gap-2 p-4 rounded-xl bg-urgent-red/10 dark:bg-urgent-red/20 border border-urgent-red/30 text-urgent-red mb-6",children:[x.jsx("span",{className:"material-symbols-outlined text-xl flex-shrink-0",children:"error"}),x.jsx("span",{children:a})]}),i?x.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[x.jsx("span",{className:"material-symbols-outlined text-5xl text-primary animate-pulse",children:"pets"}),x.jsx("p",{className:"text-accent-teal font-medium",children:"Cargando reportes pendientes"})]}):e.length===0?x.jsxs("div",{className:"bg-white dark:bg-slate-900/80 rounded-2xl border border-accent-teal/10 p-12 text-center",children:[x.jsx("span",{className:"material-symbols-outlined text-6xl text-accent-teal mb-4",children:"check_circle"}),x.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"No hay reportes pendientes"}),x.jsx("p",{className:"text-accent-teal",children:"Los nuevos reportes aparecern aqu. Revisa ms tarde."})]}):x.jsx("div",{className:"space-y-6",children:e.map(A=>x.jsx("div",{className:"bg-white dark:bg-slate-900/80 rounded-2xl border border-accent-teal/10 overflow-hidden shadow-sm",children:x.jsxs("div",{className:"flex flex-col md:flex-row gap-6 p-6",children:[x.jsx("div",{className:"flex-shrink-0 w-full md:w-48 aspect-square rounded-xl overflow-hidden bg-slate-100 dark:bg-slate-800",children:x.jsx("img",{src:A.image_url,alt:A.pet_name,className:"w-full h-full object-cover"})}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[x.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:A.pet_name}),x.jsxs("span",{className:"text-sm text-accent-teal font-medium",children:[A.breed,"  ",A.gender==="male"?"Macho":"Hembra",A.age&&`  ${A.age}`]}),A.urgency&&x.jsx("span",{className:"bg-urgent-red text-white text-xs font-bold px-2 py-1 rounded-full",children:"Urgente"})]}),x.jsxs("p",{className:"text-sm text-accent-teal mb-2",children:[x.jsx("span",{className:"font-semibold",children:"Visto:"})," ",A.last_seen_location," "," ",eB(A.last_seen_date)]}),A.additional_info&&x.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 line-clamp-2 mb-2",children:A.additional_info}),x.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-500",children:["Contacto: ",A.contact_name,"  ",A.contact_phone,A.contact_email&&`  ${A.contact_email}`]}),x.jsxs("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:["Enviado ",Z4(A.submitted_at)]})]}),x.jsxs("div",{className:"flex md:flex-col gap-2 md:gap-3 flex-shrink-0",children:[x.jsx("button",{onClick:()=>E(A.id),disabled:!!c,className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl bg-primary text-background-dark font-bold hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c===A.id?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"material-symbols-outlined animate-spin text-lg",children:"progress_activity"}),"Aprobando"]}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"material-symbols-outlined text-lg",children:"check_circle"}),"Aprobar"]})}),x.jsxs("button",{onClick:()=>w(A),disabled:!!c,className:"inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl bg-urgent-red/10 dark:bg-urgent-red/20 text-urgent-red font-bold hover:bg-urgent-red/20 dark:hover:bg-urgent-red/30 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[x.jsx("span",{className:"material-symbols-outlined text-lg",children:"cancel"}),"Rechazar"]})]})]})},A.id))}),h&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:x.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-xl max-w-md w-full p-6",onClick:A=>A.stopPropagation(),children:[x.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-2",children:["Rechazar reporte: ",h.name]}),x.jsx("p",{className:"text-sm text-accent-teal mb-4",children:"Opcional: indica un motivo para el reportante."}),x.jsx("textarea",{value:v,onChange:A=>b(A.target.value),placeholder:"Ej: Foto poco clara, datos incompletos...",className:"w-full px-4 py-3 rounded-xl border border-accent-teal/20 bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white placeholder-slate-400 focus:ring-2 focus:ring-primary focus:border-transparent resize-none",rows:3}),x.jsxs("div",{className:"flex gap-3 mt-6",children:[x.jsx("button",{onClick:()=>{m(null),b("")},className:"flex-1 px-4 py-2.5 rounded-xl border border-accent-teal/20 text-accent-teal font-bold hover:bg-accent-teal/10 transition-colors",children:"Cancelar"}),x.jsx("button",{onClick:C,disabled:!!c,className:"flex-1 px-4 py-2.5 rounded-xl bg-urgent-red text-white font-bold hover:bg-urgent-red/90 transition-colors disabled:opacity-50",children:c?"Rechazando":"Rechazar"})]})]})})]})})},nB=({children:t})=>{const{isAuthenticated:e,loading:n}=lc(),i=Or();return n?x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background-light dark:bg-background-dark",children:x.jsxs("div",{className:"animate-pulse flex flex-col items-center gap-4",children:[x.jsx("span",{className:"material-symbols-outlined text-5xl text-primary",children:"pets"}),x.jsx("p",{className:"text-accent-teal font-medium",children:"Verificando sesin"})]})}):e?t:x.jsx(Qw,{to:"/admin/login",state:{from:i},replace:!0})},iB=()=>x.jsx(HM,{children:x.jsxs(vM,{children:[x.jsx(ko,{path:"/",element:x.jsx(V4,{})}),x.jsx(ko,{path:"/admin/login",element:x.jsx(X4,{})}),x.jsxs(ko,{path:"/admin",element:x.jsx(nB,{children:x.jsx(W4,{})}),children:[x.jsx(ko,{index:!0,element:x.jsx(Q4,{})}),x.jsx(ko,{path:"lost-pets",element:x.jsx(tB,{})}),x.jsx(ko,{path:"*",element:x.jsx(Qw,{to:"/admin",replace:!0})})]})]})}),wC=document.getElementById("root");if(!wC)throw new Error("Could not find root element to mount to");const rB=zR.createRoot(wC);rB.render(x.jsx(Sw.StrictMode,{children:x.jsx(vk,{children:x.jsx(iB,{})})}));
